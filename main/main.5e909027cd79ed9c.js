"use strict";(self.webpackChunkhomehunter=self.webpackChunkhomehunter||[]).push([[179],{2011:(ze,ve,O)=>{O.d(ve,{Dh:()=>ue,GT:()=>de,cc:()=>be,hO:()=>Le,on:()=>j,pX:()=>J,xv:()=>ae});var p=O(5e3),q=O(127),x=O(5813);ze=O.hmd(ze);const se=["ngOnDestroy"],J=(_e,je,Fe,Ce={})=>new Proxy(_e,{get:(ge,me)=>Fe.runOutsideAngular(()=>{var Ne;if(_e[me])return(null===(Ne=null==Ce?void 0:Ce.spy)||void 0===Ne?void 0:Ne.get)&&Ce.spy.get(me,_e[me]),_e[me];if(se.indexOf(me)>-1)return()=>{};const Re=je.toPromise().then(ee=>{const G=ee&&ee[me];return"function"==typeof G?G.bind(ee):G&&G.then?G.then(te=>Fe.run(()=>te)):Fe.run(()=>G)});return new Proxy(()=>{},{get:(ee,G)=>Re[G],apply:(ee,G,te)=>Re.then(he=>{var ne;const De=he&&he(...te);return(null===(ne=null==Ce?void 0:Ce.spy)||void 0===ne?void 0:ne.apply)&&Ce.spy.apply(me,te,De),De})})})}),de=(_e,je)=>{je.forEach(Fe=>{Object.getOwnPropertyNames(Fe.prototype||Fe).forEach(Ce=>{Object.defineProperty(_e.prototype,Ce,Object.getOwnPropertyDescriptor(Fe.prototype||Fe,Ce))})})};class ie{constructor(je){return je}}const ue=new p.OlP("angularfire2.app.options"),ae=new p.OlP("angularfire2.app.name");function j(_e,je,Fe){const ge="object"==typeof Fe&&Fe||{};ge.name=ge.name||"string"==typeof Fe&&Fe||"[DEFAULT]";const Ne=q.Z.apps.filter(Re=>Re&&Re.name===ge.name)[0]||je.runOutsideAngular(()=>q.Z.initializeApp(_e,ge));try{JSON.stringify(_e)!==JSON.stringify(Ne.options)&&H("error",`${Ne.name} Firebase App already initialized with different options${ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Re){}return new ie(Ne)}const H=(_e,...je)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[_e](...je)},Y={provide:ie,useFactory:j,deps:[ue,p.R0b,[new p.FiY,ae]]};let Le=(()=>{class _e{constructor(Fe){q.Z.registerVersion("angularfire",x.q4.full,"core"),q.Z.registerVersion("angularfire",x.q4.full,"app-compat"),q.Z.registerVersion("angular",p.q4F.full,Fe.toString())}static initializeApp(Fe,Ce){return{ngModule:_e,providers:[{provide:ue,useValue:Fe},{provide:ae,useValue:Ce}]}}}return _e.\u0275fac=function(Fe){return new(Fe||_e)(p.LFG(p.Lbi))},_e.\u0275mod=p.oAB({type:_e}),_e.\u0275inj=p.cJS({providers:[Y]}),_e})();function be(_e,je,Fe,Ce,ge){const[,me,Ne]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===_e)||[];if(me)return function Te(_e,je){try{return _e.toString()===je.toString()}catch(Fe){return _e===je}}(ge,Ne)||(ce("error",`${je} was already initialized on the ${Fe} Firebase App with different settings.${Pe?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:ge,was:Ne})),me;{const Re=Ce();return globalThis.\u0275AngularfireInstanceCache.push([_e,Re,ge]),Re}}const Pe=!!ze.hot,ce=(_e,...je)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[_e](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ze,ve,O)=>{O.d(ve,{q4:()=>Du,iC:()=>Bo,HU:()=>Na,vb:()=>Sl,JM:()=>Ii});var p=O(5e3),q=O(5867),x=O(5861),se=O(9681),J=O(2090),de=O(4859),ie=O(1877);const ue="@firebase/installations",H="w:0.5.6",Y="FIS_v2",_e=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(w){return w instanceof J.ZR&&w.code.includes("request-failed")}function Fe({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function Ce(w){return{token:w.token,requestStatus:2,expiresIn:te(w.expiresIn),creationTime:Date.now()}}function ge(w,b){return me.apply(this,arguments)}function me(){return(me=(0,x.Z)(function*(w,b){const L=(yield b.json()).error;return _e.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function Ne({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function Re(w,{refreshToken:b}){const S=Ne(w);return S.append("Authorization",function he(w){return`${Y} ${w}`}(b)),S}function ee(w){return G.apply(this,arguments)}function G(){return(G=(0,x.Z)(function*(w){const b=yield w();return b.status>=500&&b.status<600?w():b})).apply(this,arguments)}function te(w){return Number(w.replace("s","000"))}function ne(w,b){return De.apply(this,arguments)}function De(){return(De=(0,x.Z)(function*({appConfig:w,heartbeatServiceProvider:b},{fid:S}){const L=Fe(w),z=Ne(w),X=b.getImmediate({optional:!0});if(X){const ot=yield X.getHeartbeatsHeader();ot&&z.append("x-firebase-client",ot)}const Be={method:"POST",headers:z,body:JSON.stringify({fid:S,authVersion:Y,appId:w.appId,sdkVersion:H})},$e=yield ee(()=>fetch(L,Be));if($e.ok){const ot=yield $e.json();return{fid:ot.fid||S,registrationStatus:2,refreshToken:ot.refreshToken,authToken:Ce(ot.authToken)}}throw yield ge("Create Installation",$e)})).apply(this,arguments)}function oe(w){return new Promise(b=>{setTimeout(b,w)})}const Nt=/^[cdef][\w-]{21}$/;function Ze(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const S=function Xe(w){return function lt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Nt.test(S)?S:""}catch(w){return""}}function Ht(w){return`${w.appName}!${w.appId}`}const $t=new Map;function Lr(w,b){const S=Ht(w);kt(S,b),function wt(w,b){const S=function sr(){return!kn&&"BroadcastChannel"in self&&(kn=new BroadcastChannel("[Firebase] FID Change"),kn.onmessage=w=>{kt(w.data.key,w.data.fid)}),kn}();S&&S.postMessage({key:w,fid:b}),function xi(){0===$t.size&&kn&&(kn.close(),kn=null)}()}(S,b)}function kt(w,b){const S=$t.get(w);if(S)for(const L of S)L(b)}let kn=null;const er="firebase-installations-store";let ai=null;function qr(){return ai||(ai=(0,J.X3)("firebase-installations-database",1,(w,b)=>{0===b&&w.createObjectStore(er)})),ai}function Ke(w,b){return or.apply(this,arguments)}function or(){return(or=(0,x.Z)(function*(w,b){const S=Ht(w),z=(yield qr()).transaction(er,"readwrite"),X=z.objectStore(er),Ie=yield X.get(S);return yield X.put(b,S),yield z.complete,(!Ie||Ie.fid!==b.fid)&&Lr(w,b.fid),b})).apply(this,arguments)}function Pn(w){return In.apply(this,arguments)}function In(){return(In=(0,x.Z)(function*(w){const b=Ht(w),L=(yield qr()).transaction(er,"readwrite");yield L.objectStore(er).delete(b),yield L.complete})).apply(this,arguments)}function Er(w,b){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,x.Z)(function*(w,b){const S=Ht(w),z=(yield qr()).transaction(er,"readwrite"),X=z.objectStore(er),Ie=yield X.get(S),Be=b(Ie);return void 0===Be?yield X.delete(S):yield X.put(Be,S),yield z.complete,Be&&(!Ie||Ie.fid!==Be.fid)&&Lr(w,Be.fid),Be})).apply(this,arguments)}function Zt(w){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,x.Z)(function*(w){let b;const S=yield Er(w.appConfig,L=>{const z=li(L),X=qs(w,z);return b=X.registrationPromise,X.installationEntry});return""===S.fid?{installationEntry:yield b}:{installationEntry:S,registrationPromise:b}})).apply(this,arguments)}function li(w){return It(w||{fid:Ze(),registrationStatus:0})}function qs(w,b){if(0===b.registrationStatus){if(!navigator.onLine)return{installationEntry:b,registrationPromise:Promise.reject(_e.create("app-offline"))};const S={fid:b.fid,registrationStatus:1,registrationTime:Date.now()},L=function bt(w,b){return Ge.apply(this,arguments)}(w,S);return{installationEntry:S,registrationPromise:L}}return 1===b.registrationStatus?{installationEntry:b,registrationPromise:st(w)}:{installationEntry:b}}function Ge(){return(Ge=(0,x.Z)(function*(w,b){try{const S=yield ne(w,b);return Ke(w.appConfig,S)}catch(S){throw je(S)&&409===S.customData.serverCode?yield Pn(w.appConfig):yield Ke(w.appConfig,{fid:b.fid,registrationStatus:0}),S}})).apply(this,arguments)}function st(w){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,x.Z)(function*(w){let b=yield Kr(w.appConfig);for(;1===b.registrationStatus;)yield oe(100),b=yield Kr(w.appConfig);if(0===b.registrationStatus){const{installationEntry:S,registrationPromise:L}=yield Zt(w);return L||S}return b})).apply(this,arguments)}function Kr(w){return Er(w,b=>{if(!b)throw _e.create("installation-not-found");return It(b)})}function It(w){return function ms(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function jn(w,b){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,x.Z)(function*({appConfig:w,heartbeatServiceProvider:b},S){const L=Ye(w,S),z=Re(w,S),X=b.getImmediate({optional:!0});if(X){const ot=yield X.getHeartbeatsHeader();ot&&z.append("x-firebase-client",ot)}const Be={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:H,appId:w.appId}})},$e=yield ee(()=>fetch(L,Be));if($e.ok)return Ce(yield $e.json());throw yield ge("Generate Auth Token",$e)})).apply(this,arguments)}function Ye(w,{fid:b}){return`${Fe(w)}/${b}/authTokens:generate`}function Hn(w){return yt.apply(this,arguments)}function yt(){return(yt=(0,x.Z)(function*(w,b=!1){let S;const L=yield Er(w.appConfig,X=>{if(!gt(X))throw _e.create("not-registered");const Ie=X.authToken;if(!b&&B(Ie))return X;if(1===Ie.requestStatus)return S=Ue(w,b),X;{if(!navigator.onLine)throw _e.create("app-offline");const Be=$(X);return S=Qe(w,Be),Be}});return S?yield S:L.authToken})).apply(this,arguments)}function Ue(w,b){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,x.Z)(function*(w,b){let S=yield Ve(w.appConfig);for(;1===S.authToken.requestStatus;)yield oe(100),S=yield Ve(w.appConfig);const L=S.authToken;return 0===L.requestStatus?Hn(w,b):L})).apply(this,arguments)}function Ve(w){return Er(w,b=>{if(!gt(b))throw _e.create("not-registered");return function le(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(b.authToken)?Object.assign(Object.assign({},b),{authToken:{requestStatus:0}}):b})}function Qe(w,b){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,x.Z)(function*(w,b){try{const S=yield jn(w,b),L=Object.assign(Object.assign({},b),{authToken:S});return yield Ke(w.appConfig,L),S}catch(S){if(!je(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const L=Object.assign(Object.assign({},b),{authToken:{requestStatus:0}});yield Ke(w.appConfig,L)}else yield Pn(w.appConfig);throw S}})).apply(this,arguments)}function gt(w){return void 0!==w&&2===w.registrationStatus}function B(w){return 2===w.requestStatus&&!function F(w){const b=Date.now();return b<w.creationTime||w.creationTime+w.expiresIn<b+36e5}(w)}function $(w){const b={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:b})}function xe(){return(xe=(0,x.Z)(function*(w){const b=w,{installationEntry:S,registrationPromise:L}=yield Zt(b);return L?L.catch(console.error):Hn(b).catch(console.error),S.fid})).apply(this,arguments)}function Mt(){return(Mt=(0,x.Z)(function*(w,b=!1){const S=w;return yield $n(S),(yield Hn(S,b)).token})).apply(this,arguments)}function $n(w){return At.apply(this,arguments)}function At(){return(At=(0,x.Z)(function*(w){const{registrationPromise:b}=yield Zt(w);b&&(yield b)})).apply(this,arguments)}function Dn(w){return _e.create("missing-app-config-values",{valueName:w})}const To="installations",Ae=w=>{const b=w.getProvider("app").getImmediate(),S=function ui(w){if(!w||!w.options)throw Dn("App Configuration");if(!w.name)throw Dn("App Name");const b=["projectId","apiKey","appId"];for(const S of b)if(!w.options[S])throw Dn(S);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(b);return{app:b,appConfig:S,heartbeatServiceProvider:(0,se._getProvider)(b,"heartbeat"),_delete:()=>Promise.resolve()}},pt=w=>{const b=w.getProvider("app").getImmediate(),S=(0,se._getProvider)(b,To).getImmediate();return{getId:()=>function K(w){return xe.apply(this,arguments)}(S),getToken:z=>function tt(w){return Mt.apply(this,arguments)}(S,z)}};(function zt(){(0,se._registerComponent)(new de.wA(To,Ae,"PUBLIC")),(0,se._registerComponent)(new de.wA("installations-internal",pt,"PRIVATE"))})(),(0,se.registerVersion)(ue,"0.5.6"),(0,se.registerVersion)(ue,"0.5.6","esm2017");const Un="@firebase/remote-config",pn=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class al{constructor(b,S,L,z){this.client=b,this.storage=S,this.storageCache=L,this.logger=z}isCachedDataFresh(b,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-S,z=L<=b;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${b}. Is cache hit: ${z}.`),z}fetch(b){var S=this;return(0,x.Z)(function*(){const[L,z]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(z&&S.isCachedDataFresh(b.cacheMaxAgeMillis,L))return z;b.eTag=z&&z.eTag;const X=yield S.client.fetch(b),Ie=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&Ie.push(S.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(Ie),X})()}}function au(w=navigator){return w.languages&&w.languages[0]||w.language}class da{constructor(b,S,L,z,X,Ie){this.firebaseInstallations=b,this.sdkVersion=S,this.namespace=L,this.projectId=z,this.apiKey=X,this.appId=Ie}fetch(b){var S=this;return(0,x.Z)(function*(){const[L,z]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),Ie=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":b.eTag||"*"},$e={sdk_version:S.sdkVersion,app_instance_id:L,app_instance_id_token:z,app_id:S.appId,language_code:au()},ot={method:"POST",headers:Be,body:JSON.stringify($e)},Dt=fetch(Ie,ot),ut=new Promise((Mr,Di)=>{b.signal.addEventListener(()=>{const Rs=new Error("The operation was aborted.");Rs.name="AbortError",Di(Rs)})});let An;try{yield Promise.race([Dt,ut]),An=yield Dt}catch(Mr){let Di="fetch-client-network";throw"AbortError"===Mr.name&&(Di="fetch-timeout"),pn.create(Di,{originalErrorMessage:Mr.message})}let mn=An.status;const ho=An.headers.get("ETag")||void 0;let La,Xr;if(200===An.status){let Mr;try{Mr=yield An.json()}catch(Di){throw pn.create("fetch-client-parse",{originalErrorMessage:Di.message})}La=Mr.entries,Xr=Mr.state}if("INSTANCE_STATE_UNSPECIFIED"===Xr?mn=500:"NO_CHANGE"===Xr?mn=304:("NO_TEMPLATE"===Xr||"EMPTY_CONFIG"===Xr)&&(La={}),304!==mn&&200!==mn)throw pn.create("fetch-status",{httpStatus:mn});return{status:mn,eTag:ho,config:La}})()}}class Yd{constructor(b,S){this.client=b,this.storage=S}fetch(b){var S=this;return(0,x.Z)(function*(){const L=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(b,L)})()}attemptFetch(b,{throttleEndTimeMillis:S,backoffCount:L}){var z=this;return(0,x.Z)(function*(){yield function vn(w,b){return new Promise((S,L)=>{const z=Math.max(b-Date.now(),0),X=setTimeout(S,z);w.addEventListener(()=>{clearTimeout(X),L(pn.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}(b.signal,S);try{const X=yield z.client.fetch(b);return yield z.storage.deleteThrottleMetadata(),X}catch(X){if(!function lu(w){if(!(w instanceof J.ZR&&w.customData))return!1;const b=Number(w.customData.httpStatus);return 429===b||500===b||503===b||504===b}(X))throw X;const Ie={throttleEndTimeMillis:Date.now()+(0,J.$s)(L),backoffCount:L+1};return yield z.storage.setThrottleMetadata(Ie),z.attemptFetch(b,Ie)}})()}}class uu{constructor(b,S,L,z,X){this.app=b,this._client=S,this._storageCache=L,this._storage=z,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ll(w,b){const S=w.target.error||void 0;return pn.create(b,{originalErrorMessage:S&&S.message})}const Ui="app_namespace_store";class eh{constructor(b,S,L,z=function Xd(){return new Promise((w,b)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=L=>{b(ll(L,"storage-open"))},S.onsuccess=L=>{w(L.target.result)},S.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Ui,{keyPath:"compositeKey"})}}catch(S){b(pn.create("storage-open",{originalErrorMessage:S}))}})}()){this.appId=b,this.appName=S,this.namespace=L,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(b){return this.set("last_fetch_status",b)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(b){return this.set("last_successful_fetch_timestamp_millis",b)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(b){return this.set("last_successful_fetch_response",b)}getActiveConfig(){return this.get("active_config")}setActiveConfig(b){return this.set("active_config",b)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(b){return this.set("active_config_etag",b)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(b){return this.set("throttle_metadata",b)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(b){var S=this;return(0,x.Z)(function*(){const L=yield S.openDbPromise;return new Promise((z,X)=>{const Be=L.transaction([Ui],"readonly").objectStore(Ui),$e=S.createCompositeKey(b);try{const ot=Be.get($e);ot.onerror=Dt=>{X(ll(Dt,"storage-get"))},ot.onsuccess=Dt=>{const ut=Dt.target.result;z(ut?ut.value:void 0)}}catch(ot){X(pn.create("storage-get",{originalErrorMessage:ot&&ot.message}))}})})()}set(b,S){var L=this;return(0,x.Z)(function*(){const z=yield L.openDbPromise;return new Promise((X,Ie)=>{const $e=z.transaction([Ui],"readwrite").objectStore(Ui),ot=L.createCompositeKey(b);try{const Dt=$e.put({compositeKey:ot,value:S});Dt.onerror=ut=>{Ie(ll(ut,"storage-set"))},Dt.onsuccess=()=>{X()}}catch(Dt){Ie(pn.create("storage-set",{originalErrorMessage:Dt&&Dt.message}))}})})()}delete(b){var S=this;return(0,x.Z)(function*(){const L=yield S.openDbPromise;return new Promise((z,X)=>{const Be=L.transaction([Ui],"readwrite").objectStore(Ui),$e=S.createCompositeKey(b);try{const ot=Be.delete($e);ot.onerror=Dt=>{X(ll(Dt,"storage-delete"))},ot.onsuccess=()=>{z()}}catch(ot){X(pn.create("storage-delete",{originalErrorMessage:ot&&ot.message}))}})})()}createCompositeKey(b){return[this.appId,this.appName,this.namespace,b].join()}}class du{constructor(b){this.storage=b}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var b=this;return(0,x.Z)(function*(){const S=b.storage.getLastFetchStatus(),L=b.storage.getLastSuccessfulFetchTimestampMillis(),z=b.storage.getActiveConfig(),X=yield S;X&&(b.lastFetchStatus=X);const Ie=yield L;Ie&&(b.lastSuccessfulFetchTimestampMillis=Ie);const Be=yield z;Be&&(b.activeConfig=Be)})()}setLastFetchStatus(b){return this.lastFetchStatus=b,this.storage.setLastFetchStatus(b)}setLastSuccessfulFetchTimestampMillis(b){return this.lastSuccessfulFetchTimestampMillis=b,this.storage.setLastSuccessfulFetchTimestampMillis(b)}setActiveConfig(b){return this.activeConfig=b,this.storage.setActiveConfig(b)}}function vs(){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,x.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(w){return!1}})).apply(this,arguments)}!function Ys(){(0,se._registerComponent)(new de.wA("remote-config",function w(b,{instanceIdentifier:S}){const L=b.getProvider("app").getImmediate(),z=b.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw pn.create("registration-window");if(!(0,J.hl)())throw pn.create("indexed-db-unavailable");const{projectId:X,apiKey:Ie,appId:Be}=L.options;if(!X)throw pn.create("registration-project-id");if(!Ie)throw pn.create("registration-api-key");if(!Be)throw pn.create("registration-app-id");const $e=new eh(Be,L.name,S=S||"firebase"),ot=new du($e),Dt=new ie.Yd(Un);Dt.logLevel=ie.in.ERROR;const ut=new da(z,se.SDK_VERSION,S,X,Ie,Be),An=new Yd(ut,$e),mn=new al(An,$e,ot,Dt),ho=new uu(L,mn,ot,$e,Dt);return function tr(w){const b=(0,J.m9)(w);b._initializePromise||(b._initializePromise=b._storageCache.loadFromStorage().then(()=>{b._isInitializationComplete=!0}))}(ho),ho},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Un,"0.3.5"),(0,se.registerVersion)(Un,"0.3.5","esm2017")}();const ul="/firebase-messaging-sw.js",Bi="/firebase-cloud-messaging-push-scope",lr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Cs="google.c.a.c_id",So="google.c.a.c_l",hu="google.c.a.ts",th="google.c.a.e";var Vi=(()=>{return(w=Vi||(Vi={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Vi;var w})();function Ir(w){const b=new Uint8Array(w);return btoa(String.fromCharCode(...b)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fa(w){const S=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(S),z=new Uint8Array(L.length);for(let X=0;X<L.length;++X)z[X]=L.charCodeAt(X);return z}const pa="fcm_token_details_db",Wn="fcm_token_object_Store";function xc(w){return ga.apply(this,arguments)}function ga(){return ga=(0,x.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(pa))return null;let b=null;return(yield(0,J.X3)(pa,5,function(){var L=(0,x.Z)(function*(z,X,Ie,Be){var $e;if(X<2||!z.objectStoreNames.contains(Wn))return;const ot=Be.objectStore(Wn),Dt=yield ot.index("fcmSenderId").get(w);if(yield ot.clear(),Dt)if(2===X){const ut=Dt;if(!ut.auth||!ut.p256dh||!ut.endpoint)return;b={token:ut.fcmToken,createTime:null!==($e=ut.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:ut.auth,p256dh:ut.p256dh,endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:"string"==typeof ut.vapidKey?ut.vapidKey:Ir(ut.vapidKey)}}}else if(3===X){const ut=Dt;b={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:Ir(ut.auth),p256dh:Ir(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:Ir(ut.vapidKey)}}}else if(4===X){const ut=Dt;b={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:Ir(ut.auth),p256dh:Ir(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:Ir(ut.vapidKey)}}}});return function(z,X,Ie,Be){return L.apply(this,arguments)}}())).close(),yield(0,J.Lj)(pa),yield(0,J.Lj)("fcm_vapid_details_db"),yield(0,J.Lj)("undefined"),fu(b)?b:null}),ga.apply(this,arguments)}function fu(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:b}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof b.auth&&b.auth.length>0&&"string"==typeof b.p256dh&&b.p256dh.length>0&&"string"==typeof b.endpoint&&b.endpoint.length>0&&"string"==typeof b.swScope&&b.swScope.length>0&&"string"==typeof b.vapidKey&&b.vapidKey.length>0}const fi="firebase-messaging-store";let Po=null;function cl(){return Po||(Po=(0,J.X3)("firebase-messaging-database",1,(w,b)=>{0===b&&w.createObjectStore(fi)})),Po}function qt(w){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,x.Z)(function*(w){const b=ws(w),L=yield(yield cl()).transaction(fi).objectStore(fi).get(b);if(L)return L;{const z=yield xc(w.appConfig.senderId);if(z)return yield ji(w,z),z}})).apply(this,arguments)}function ji(w,b){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,x.Z)(function*(w,b){const S=ws(w),z=(yield cl()).transaction(fi,"readwrite");return yield z.objectStore(fi).put(b,S),yield z.complete,b})).apply(this,arguments)}function pu(w){return Es.apply(this,arguments)}function Es(){return(Es=(0,x.Z)(function*(w){const b=ws(w),L=(yield cl()).transaction(fi,"readwrite");yield L.objectStore(fi).delete(b),yield L.complete})).apply(this,arguments)}function ws({appConfig:w}){return w.appId}const gn=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Mo(w,b){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,x.Z)(function*(w,b){const S=yield $i(w),L=Je(b),z={method:"POST",headers:S,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(cr(w.appConfig),z)).json()}catch(Ie){throw gn.create("token-subscribe-failed",{errorInfo:Ie})}if(X.error)throw gn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw gn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function zn(w,b){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,x.Z)(function*(w,b){const S=yield $i(w),L=Je(b.subscriptionOptions),z={method:"PATCH",headers:S,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(`${cr(w.appConfig)}/${b.token}`,z)).json()}catch(Ie){throw gn.create("token-update-failed",{errorInfo:Ie})}if(X.error)throw gn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw gn.create("token-update-no-token");return X.token})).apply(this,arguments)}function pi(w,b){return ya.apply(this,arguments)}function ya(){return(ya=(0,x.Z)(function*(w,b){const L={method:"DELETE",headers:yield $i(w)};try{const X=yield(yield fetch(`${cr(w.appConfig)}/${b}`,L)).json();if(X.error)throw gn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(z){throw gn.create("token-unsubscribe-failed",{errorInfo:z})}})).apply(this,arguments)}function cr({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function $i(w){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,x.Z)(function*({appConfig:w,installations:b}){const S=yield b.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Je({p256dh:w,auth:b,endpoint:S,vapidKey:L}){const z={web:{endpoint:S,auth:b,p256dh:w}};return L!==lr&&(z.web.applicationPubKey=L),z}const va=6048e5;function Oo(w){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,x.Z)(function*(w){const b=yield fl(w.swRegistration,w.vapidKey),S={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:b.endpoint,auth:Ir(b.getKey("auth")),p256dh:Ir(b.getKey("p256dh"))},L=yield qt(w.firebaseDependencies);if(L){if(eo(L.subscriptionOptions,S))return Date.now()>=L.createTime+va?dl(w,{token:L.token,createTime:Date.now(),subscriptionOptions:S}):L.token;try{yield pi(w.firebaseDependencies,L.token)}catch(z){console.warn(z)}return ye(w.firebaseDependencies,S)}return ye(w.firebaseDependencies,S)})).apply(this,arguments)}function Ea(w){return wa.apply(this,arguments)}function wa(){return(wa=(0,x.Z)(function*(w){const b=yield qt(w.firebaseDependencies);b&&(yield pi(w.firebaseDependencies,b.token),yield pu(w.firebaseDependencies));const S=yield w.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function dl(w,b){return hl.apply(this,arguments)}function hl(){return(hl=(0,x.Z)(function*(w,b){try{const S=yield zn(w.firebaseDependencies,b),L=Object.assign(Object.assign({},b),{token:S,createTime:Date.now()});return yield ji(w.firebaseDependencies,L),S}catch(S){throw yield Ea(w),S}})).apply(this,arguments)}function ye(w,b){return mt.apply(this,arguments)}function mt(){return(mt=(0,x.Z)(function*(w,b){const L={token:yield Mo(w,b),createTime:Date.now(),subscriptionOptions:b};return yield ji(w,L),L.token})).apply(this,arguments)}function fl(w,b){return en.apply(this,arguments)}function en(){return(en=(0,x.Z)(function*(w,b){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fa(b)})})).apply(this,arguments)}function eo(w,b){return b.vapidKey===w.vapidKey&&b.endpoint===w.endpoint&&b.auth===w.auth&&b.p256dh===w.p256dh}function to(w){const b={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function dr(w,b){if(!b.notification)return;w.notification={};const S=b.notification.title;S&&(w.notification.title=S);const L=b.notification.body;L&&(w.notification.body=L);const z=b.notification.image;z&&(w.notification.image=z)}(b,w),function pl(w,b){!b.data||(w.data=b.data)}(b,w),function gl(w,b){if(!b.fcmOptions)return;w.fcmOptions={};const S=b.fcmOptions.link;S&&(w.fcmOptions.link=S);const L=b.fcmOptions.analytics_label;L&&(w.fcmOptions.analyticsLabel=L)}(b,w),b}function gu(w){return"object"==typeof w&&!!w&&Cs in w}function ml(w,b){const S=[];for(let L=0;L<w.length;L++)S.push(w.charAt(L)),L<b.length&&S.push(b.charAt(L));return S.join("")}function Gi(w){return gn.create("missing-app-config-values",{valueName:w})}ml("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ml("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bn{constructor(b,S,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function ba(w){if(!w||!w.options)throw Gi("App Configuration Object");if(!w.name)throw Gi("App Name");const b=["projectId","apiKey","appId","messagingSenderId"],{options:S}=w;for(const L of b)if(!S[L])throw Gi(L);return{appName:w.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(b);this.firebaseDependencies={app:b,appConfig:z,installations:S,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Dr(w){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,x.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(ul,{scope:Bi}),w.swRegistration.update().catch(()=>{})}catch(b){throw gn.create("failed-service-worker-registration",{browserErrorMessage:b.message})}})).apply(this,arguments)}function zi(w,b){return Br.apply(this,arguments)}function Br(){return(Br=(0,x.Z)(function*(w,b){if(!b&&!w.swRegistration&&(yield Dr(w)),b||!w.swRegistration){if(!(b instanceof ServiceWorkerRegistration))throw gn.create("invalid-sw-registration");w.swRegistration=b}})).apply(this,arguments)}function _l(w,b){return Da.apply(this,arguments)}function Da(){return(Da=(0,x.Z)(function*(w,b){b?w.vapidKey=b:w.vapidKey||(w.vapidKey=lr)})).apply(this,arguments)}function yl(){return(yl=(0,x.Z)(function*(w,b){if(!navigator)throw gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gn.create("permission-blocked");return yield _l(w,null==b?void 0:b.vapidKey),yield zi(w,null==b?void 0:b.serviceWorkerRegistration),Oo(w)})).apply(this,arguments)}function xo(w,b,S){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,x.Z)(function*(w,b,S){const L=vl(b);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:S[Cs],message_name:S[So],message_time:S[hu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vl(w){switch(w){case Vi.NOTIFICATION_CLICKED:return"notification_open";case Vi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function mu(){return(mu=(0,x.Z)(function*(w,b){const S=b.data;if(!S.isFirebaseMessaging)return;w.onMessageHandler&&S.messageType===Vi.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(to(S)):w.onMessageHandler.next(to(S)));const L=S.data;gu(L)&&"1"===L[th]&&(yield xo(w,S.messageType,L))})).apply(this,arguments)}const El="@firebase/messaging",_u=w=>{const b=new Bn(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function Cl(w,b){return mu.apply(this,arguments)}(b,S)),b},Is=w=>{const b=w.getProvider("messaging").getImmediate();return{getToken:L=>function Ta(w,b){return yl.apply(this,arguments)}(b,L)}};function vu(){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,x.Z)(function*(){try{yield(0,J.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function yu(){(0,se._registerComponent)(new de.wA("messaging",_u,"PUBLIC")),(0,se._registerComponent)(new de.wA("messaging-internal",Is,"PRIVATE")),(0,se.registerVersion)(El,"0.9.10"),(0,se.registerVersion)(El,"0.9.10","esm2017")}();const bl="analytics",Yf="firebase_id",No="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Aa="https://www.googletagmanager.com/gtag/js",Cn=new ie.Yd("@firebase/analytics");function Cu(w){return Promise.all(w.map(b=>b.catch(S=>S)))}function nh(w,b){const S=document.createElement("script");S.src=`${Aa}?l=${w}&id=${b}`,S.async=!0,document.head.appendChild(S)}function no(w,b,S,L,z,X){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,x.Z)(function*(w,b,S,L,z,X){const Ie=L[z];try{if(Ie)yield b[Ie];else{const $e=(yield Cu(S)).find(ot=>ot.measurementId===z);$e&&(yield b[$e.appId])}}catch(Be){Cn.error(Be)}w("config",z,X)})).apply(this,arguments)}function Dl(w,b,S,L,z){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,x.Z)(function*(w,b,S,L,z){try{let X=[];if(z&&z.send_to){let Ie=z.send_to;Array.isArray(Ie)||(Ie=[Ie]);const Be=yield Cu(S);for(const $e of Ie){const ot=Be.find(ut=>ut.measurementId===$e),Dt=ot&&b[ot.appId];if(!Dt){X=[];break}X.push(Dt)}}0===X.length&&(X=Object.values(b)),yield Promise.all(X),w("event",L,z||{})}catch(X){Cn.error(X)}})).apply(this,arguments)}function rh(){const w=window.document.getElementsByTagName("script");for(const b of Object.values(w))if(b.src&&b.src.includes(Aa))return b;return null}const qn=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),et=new class En{constructor(b={},S=1e3){this.throttleMetadata=b,this.intervalMillis=S}getThrottleMetadata(b){return this.throttleMetadata[b]}setThrottleMetadata(b,S){this.throttleMetadata[b]=S}deleteThrottleMetadata(b){delete this.throttleMetadata[b]}};function Ki(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function St(w){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,x.Z)(function*(w){var b;const{appId:S,apiKey:L}=w,z={method:"GET",headers:Ki(L)},X=No.replace("{app-id}",S),Ie=yield fetch(X,z);if(200!==Ie.status&&304!==Ie.status){let Be="";try{const $e=yield Ie.json();(null===(b=$e.error)||void 0===b?void 0:b.message)&&(Be=$e.error.message)}catch($e){}throw qn.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:Be})}return Ie.json()})).apply(this,arguments)}function Sa(w){return tn.apply(this,arguments)}function tn(){return(tn=(0,x.Z)(function*(w,b=et,S){const{appId:L,apiKey:z,measurementId:X}=w.options;if(!L)throw qn.create("no-app-id");if(!z){if(X)return{measurementId:X,appId:L};throw qn.create("no-api-key")}const Ie=b.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new Yi;return setTimeout((0,x.Z)(function*(){Be.abort()}),void 0!==S?S:6e4),Tn({appId:L,apiKey:z,measurementId:X},Ie,Be,b)})).apply(this,arguments)}function Tn(w,b,S){return nn.apply(this,arguments)}function nn(){return(nn=(0,x.Z)(function*(w,{throttleEndTimeMillis:b,backoffCount:S},L,z=et){const{appId:X,measurementId:Ie}=w;try{yield ih(L,b)}catch(Be){if(Ie)return Cn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:X,measurementId:Ie};throw Be}try{const Be=yield St(w);return z.deleteThrottleMetadata(X),Be}catch(Be){if(!ko(Be)){if(z.deleteThrottleMetadata(X),Ie)return Cn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ie} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:X,measurementId:Ie};throw Be}const $e=503===Number(Be.customData.httpStatus)?(0,J.$s)(S,z.intervalMillis,30):(0,J.$s)(S,z.intervalMillis),ot={throttleEndTimeMillis:Date.now()+$e,backoffCount:S+1};return z.setThrottleMetadata(X,ot),Cn.debug(`Calling attemptFetch again in ${$e} millis`),Tn(w,ot,L,z)}})).apply(this,arguments)}function ih(w,b){return new Promise((S,L)=>{const z=Math.max(b-Date.now(),0),X=setTimeout(S,z);w.addEventListener(()=>{clearTimeout(X),L(qn.create("fetch-throttle",{throttleEndTimeMillis:b}))})})}function ko(w){if(!(w instanceof J.ZR&&w.customData))return!1;const b=Number(w.customData.httpStatus);return 429===b||500===b||503===b||504===b}class Yi{constructor(){this.listeners=[]}addEventListener(b){this.listeners.push(b)}abort(){this.listeners.forEach(b=>b())}}function kc(){return ro.apply(this,arguments)}function ro(){return(ro=(0,x.Z)(function*(){if(!(0,J.hl)())return Cn.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(w){return Cn.warn(qn.create("indexeddb-unavailable",{errorInfo:w}).message),!1}return!0})).apply(this,arguments)}function yi(){return(yi=(0,x.Z)(function*(w,b,S,L,z,X,Ie){var Be;const $e=Sa(w);$e.then(mn=>{S[mn.measurementId]=mn.appId,w.options.measurementId&&mn.measurementId!==w.options.measurementId&&Cn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mn=>Cn.error(mn)),b.push($e);const ot=kc().then(mn=>{if(mn)return L.getId()}),[Dt,ut]=yield Promise.all([$e,ot]);rh()||nh(X,Dt.measurementId),z("js",new Date);const An=null!==(Be=null==Ie?void 0:Ie.config)&&void 0!==Be?Be:{};return An.origin="firebase",An.update=!0,null!=ut&&(An[Yf]=ut),z("config",Dt.measurementId,An),Dt.measurementId})).apply(this,arguments)}class so{constructor(b){this.app=b}_delete(){return delete rn[this.app.options.appId],Promise.resolve()}}let rn={},oo=[];const Tl={};let Vr,R,hr="dataLayer",ao=!1;function Tr(w,b,S){!function Pa(){const w=[];if((0,J.ru)()&&w.push("This is a browser extension environment."),(0,J.zI)()||w.push("Cookies are not available."),w.length>0){const b=w.map((L,z)=>`(${z+1}) ${L}`).join(" "),S=qn.create("invalid-analytics-context",{errorInfo:b});Cn.warn(S.message)}}();const L=w.options.appId;if(!L)throw qn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw qn.create("no-api-key");Cn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=rn[L])throw qn.create("already-exists",{id:L});if(!ao){!function mi(w){let b=[];Array.isArray(window[w])?b=window[w]:window[w]=b}(hr);const{wrappedGtag:X,gtagCore:Ie}=function Nc(w,b,S,L,z){let X=function(...Ie){window[L].push(arguments)};return window[z]&&"function"==typeof window[z]&&(X=window[z]),window[z]=function wu(w,b,S,L){function X(){return(X=(0,x.Z)(function*(Ie,Be,$e){try{"event"===Ie?yield Dl(w,b,S,Be,$e):"config"===Ie?yield no(w,b,S,L,Be,$e):w("set",Be)}catch(ot){Cn.error(ot)}})).apply(this,arguments)}return function z(Ie,Be,$e){return X.apply(this,arguments)}}(X,w,b,S),{gtagCore:X,wrappedGtag:window[z]}}(rn,oo,Tl,hr,"gtag");R=X,Vr=Ie,ao=!0}return rn[L]=function io(w,b,S,L,z,X,Ie){return yi.apply(this,arguments)}(w,oo,Tl,b,Vr,hr,S),new so(w)}function Ma(){return(Ma=(0,x.Z)(function*(w,b,S,L,z){if(z&&z.global)w("event",S,L);else{const X=yield b;w("event",S,Object.assign(Object.assign({},L),{send_to:X}))}})).apply(this,arguments)}function Ms(){return dn.apply(this,arguments)}function dn(){return(dn=(0,x.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(w){return!1}})).apply(this,arguments)}const Lo="@firebase/analytics";!function Ji(){(0,se._registerComponent)(new de.wA(bl,(b,{options:S})=>Tr(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,se._registerComponent)(new de.wA("analytics-internal",function w(b){try{const S=b.getProvider(bl).getImmediate();return{logEvent:(L,z,X)=>function sh(w,b,S,L){w=(0,J.m9)(w),function bu(w,b,S,L,z){return Ma.apply(this,arguments)}(R,rn[w.app.options.appId],b,S,L).catch(z=>Cn.error(z))}(S,L,z,X)}}catch(S){throw qn.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,se.registerVersion)(Lo,"0.7.6"),(0,se.registerVersion)(Lo,"0.7.6","esm2017")}();var bi=O(4408),oh=O(7565);const Fo=new class Kt extends oh.v{}(class pr extends bi.o{constructor(b,S){super(b,S),this.scheduler=b,this.work=S}schedule(b,S=0){return S>0?super.schedule(b,S):(this.delay=S,this.state=b,this.scheduler.flush(this),this)}execute(b,S){return S>0||this.closed?super.execute(b,S):this._execute(b,S)}requestAsyncId(b,S,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(b,S,L):b.flush(this)}});var Rn=O(4986),Ra=O(8505),Yn=O(9468),Ar=O(5363);const Du=new p.GfV("7.2.1"),Xi="__angularfire_symbol__analyticsIsSupportedValue",Sr="__angularfire_symbol__analyticsIsSupported",Pr="__angularfire_symbol__remoteConfigIsSupportedValue",es="__angularfire_symbol__remoteConfigIsSupported",ts="__angularfire_symbol__messagingIsSupportedValue",Tu="__angularfire_symbol__messagingIsSupported";function Ii(w,b,S){if(b){if(1===b.length)return b[0];const X=b.filter(Ie=>Ie.app===S);if(1===X.length)return X[0]}return S.container.getProvider(w).getImmediate({optional:!0})}globalThis[Sr]||(globalThis[Sr]=Ms().then(w=>globalThis[Xi]=w).catch(()=>globalThis[Xi]=!1)),globalThis[Tu]||(globalThis[Tu]=vu().then(w=>globalThis[ts]=w).catch(()=>globalThis[ts]=!1)),globalThis[es]||(globalThis[es]=vs().then(w=>globalThis[Pr]=w).catch(()=>globalThis[Pr]=!1));const Sl=(w,b)=>{const S=b?[b]:(0,q.C6)(),L=[];return S.forEach(z=>{z.container.getProvider(w).instances.forEach(Ie=>{L.includes(Ie)||L.push(Ie)})}),L};function ns(){}class Uo{constructor(b,S=Fo){this.zone=b,this.delegate=S}now(){return this.delegate.now()}schedule(b,S,L){const z=this.zone;return this.delegate.schedule(function(Ie){z.runGuarded(()=>{b.apply(this,[Ie])})},S,L)}}class Au{constructor(b){this.zone=b,this.task=null}call(b,S){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ns,{},ns,ns)),S.pipe((0,Ra.b)({next:L,complete:L,error:L})).subscribe(b).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Na=(()=>{class w{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Uo(Zone.current)),this.insideAngular=S.run(()=>new Uo(Zone.current,Rn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(S){return new(S||w)(p.LFG(p.R0b))},w.\u0275prov=p.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Jr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Bo(w){return Jr(),function xs(w){return function(S){return(S=S.lift(new Au(w.ngZone))).pipe((0,Yn.R)(w.outsideAngular),(0,Ar.Q)(w.insideAngular))}}(Jr())(w)}},2090:(ze,ve,O)=>{O.d(ve,{$s:()=>ms,BH:()=>be,DV:()=>wt,Dv:()=>Ri,GJ:()=>zr,L:()=>ae,LL:()=>lt,Lj:()=>Ct,Pz:()=>Xe,Sg:()=>Te,UG:()=>_e,UI:()=>sr,US:()=>ie,Wj:()=>li,X3:()=>Qe,Yr:()=>Re,ZB:()=>Y,ZR:()=>oe,b$:()=>Ce,cI:()=>Ze,dS:()=>bt,eu:()=>te,g5:()=>se,gK:()=>Zt,gQ:()=>qr,h$:()=>ue,hl:()=>G,hu:()=>x,jU:()=>je,lb:()=>qs,m9:()=>Ye,ne:()=>Ke,p$:()=>H,pd:()=>ai,r3:()=>kt,ru:()=>Fe,tV:()=>j,uI:()=>ce,ug:()=>Ge,vZ:()=>xi,w1:()=>me,w9:()=>Ft,xO:()=>Zr,xb:()=>kn,z$:()=>Pe,zI:()=>he,zd:()=>er});var p=O(5861);const x=function(B,F){if(!B)throw se(F)},se=function(B){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+B)},J=function(B){const F=[];let $=0;for(let le=0;le<B.length;le++){let K=B.charCodeAt(le);K<128?F[$++]=K:K<2048?(F[$++]=K>>6|192,F[$++]=63&K|128):55296==(64512&K)&&le+1<B.length&&56320==(64512&B.charCodeAt(le+1))?(K=65536+((1023&K)<<10)+(1023&B.charCodeAt(++le)),F[$++]=K>>18|240,F[$++]=K>>12&63|128,F[$++]=K>>6&63|128,F[$++]=63&K|128):(F[$++]=K>>12|224,F[$++]=K>>6&63|128,F[$++]=63&K|128)}return F},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,F){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=F?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let K=0;K<B.length;K+=3){const xe=B[K],tt=K+1<B.length,Mt=tt?B[K+1]:0,$n=K+2<B.length,At=$n?B[K+2]:0;let Gt=(15&Mt)<<2|At>>6,On=63&At;$n||(On=64,tt||(Gt=64)),le.push($[xe>>2],$[(3&xe)<<4|Mt>>4],$[Gt],$[On])}return le.join("")},encodeString(B,F){return this.HAS_NATIVE_SUPPORT&&!F?btoa(B):this.encodeByteArray(J(B),F)},decodeString(B,F){return this.HAS_NATIVE_SUPPORT&&!F?atob(B):function(B){const F=[];let $=0,le=0;for(;$<B.length;){const K=B[$++];if(K<128)F[le++]=String.fromCharCode(K);else if(K>191&&K<224){const xe=B[$++];F[le++]=String.fromCharCode((31&K)<<6|63&xe)}else if(K>239&&K<365){const $n=((7&K)<<18|(63&B[$++])<<12|(63&B[$++])<<6|63&B[$++])-65536;F[le++]=String.fromCharCode(55296+($n>>10)),F[le++]=String.fromCharCode(56320+(1023&$n))}else{const xe=B[$++],tt=B[$++];F[le++]=String.fromCharCode((15&K)<<12|(63&xe)<<6|63&tt)}}return F.join("")}(this.decodeStringToByteArray(B,F))},decodeStringToByteArray(B,F){this.init_();const $=F?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let K=0;K<B.length;){const xe=$[B.charAt(K++)],Mt=K<B.length?$[B.charAt(K)]:0;++K;const At=K<B.length?$[B.charAt(K)]:64;++K;const ft=K<B.length?$[B.charAt(K)]:64;if(++K,null==xe||null==Mt||null==At||null==ft)throw Error();le.push(xe<<2|Mt>>4),64!==At&&(le.push(Mt<<4&240|At>>2),64!==ft&&le.push(At<<6&192|ft))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},ue=function(B){const F=J(B);return ie.encodeByteArray(F,!0)},ae=function(B){return ue(B).replace(/\./g,"")},j=function(B){try{return ie.decodeString(B,!0)}catch(F){console.error("base64Decode failed: ",F)}return null};function H(B){return Y(void 0,B)}function Y(B,F){if(!(F instanceof Object))return F;switch(F.constructor){case Date:return new Date(F.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return F}for(const $ in F)!F.hasOwnProperty($)||!Le($)||(B[$]=Y(B[$],F[$]));return B}function Le(B){return"__proto__"!==B}class be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((F,$)=>{this.resolve=F,this.reject=$})}wrapCallback(F){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof F&&(this.promise.catch(()=>{}),1===F.length?F($):F($,le))}}}function Te(B,F){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=F||"demo-project",K=B.iat||0,xe=B.sub||B.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:K,exp:K+3600,auth_time:K,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},B);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(tt)),""].join(".")}function Pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function je(){return"object"==typeof self&&self.self===self}function Fe(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function me(){const B=Pe();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Re(){return!1}function G(){return"object"==typeof indexedDB}function te(){return new Promise((B,F)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(le);K.onsuccess=()=>{K.result.close(),$||self.indexedDB.deleteDatabase(le),B(!0)},K.onupgradeneeded=()=>{$=!1},K.onerror=()=>{var xe;F((null===(xe=K.error)||void 0===xe?void 0:xe.message)||"")}}catch($){F($)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class oe extends Error{constructor(F,$,le){super($),this.code=F,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(F,$,le){this.service=F,this.serviceName=$,this.errors=le}create(F,...$){const le=$[0]||{},K=`${this.service}/${F}`,xe=this.errors[F],tt=xe?function Nt(B,F){return B.replace(fn,($,le)=>{const K=F[le];return null!=K?String(K):`<${le}?>`})}(xe,le):"Error";return new oe(K,`${this.serviceName}: ${tt} (${K}).`,le)}}const fn=/\{\$([^}]+)}/g;function Ze(B){return JSON.parse(B)}function Xe(B){return JSON.stringify(B)}const Ht=function(B){let F={},$={},le={},K="";try{const xe=B.split(".");F=Ze(j(xe[0])||""),$=Ze(j(xe[1])||""),K=xe[2],le=$.d||{},delete $.d}catch(xe){}return{header:F,claims:$,data:le,signature:K}},Ft=function(B){const $=Ht(B).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},zr=function(B){const F=Ht(B).claims;return"object"==typeof F&&!0===F.admin};function kt(B,F){return Object.prototype.hasOwnProperty.call(B,F)}function wt(B,F){if(Object.prototype.hasOwnProperty.call(B,F))return B[F]}function kn(B){for(const F in B)if(Object.prototype.hasOwnProperty.call(B,F))return!1;return!0}function sr(B,F,$){const le={};for(const K in B)Object.prototype.hasOwnProperty.call(B,K)&&(le[K]=F.call($,B[K],K,B));return le}function xi(B,F){if(B===F)return!0;const $=Object.keys(B),le=Object.keys(F);for(const K of $){if(!le.includes(K))return!1;const xe=B[K],tt=F[K];if(Xn(xe)&&Xn(tt)){if(!xi(xe,tt))return!1}else if(xe!==tt)return!1}for(const K of le)if(!$.includes(K))return!1;return!0}function Xn(B){return null!==B&&"object"==typeof B}function Zr(B){const F=[];for(const[$,le]of Object.entries(B))Array.isArray(le)?le.forEach(K=>{F.push(encodeURIComponent($)+"="+encodeURIComponent(K))}):F.push(encodeURIComponent($)+"="+encodeURIComponent(le));return F.length?"&"+F.join("&"):""}function er(B){const F={};return B.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[K,xe]=le.split("=");F[decodeURIComponent(K)]=decodeURIComponent(xe)}}),F}function ai(B){const F=B.indexOf("?");if(!F)return"";const $=B.indexOf("#",F);return B.substring(F,$>0?$:void 0)}class qr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let F=1;F<this.blockSize;++F)this.pad_[F]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(F,$){$||($=0);const le=this.W_;if("string"==typeof F)for(let ft=0;ft<16;ft++)le[ft]=F.charCodeAt($)<<24|F.charCodeAt($+1)<<16|F.charCodeAt($+2)<<8|F.charCodeAt($+3),$+=4;else for(let ft=0;ft<16;ft++)le[ft]=F[$]<<24|F[$+1]<<16|F[$+2]<<8|F[$+3],$+=4;for(let ft=16;ft<80;ft++){const Gt=le[ft-3]^le[ft-8]^le[ft-14]^le[ft-16];le[ft]=4294967295&(Gt<<1|Gt>>>31)}let At,un,K=this.chain_[0],xe=this.chain_[1],tt=this.chain_[2],Mt=this.chain_[3],$n=this.chain_[4];for(let ft=0;ft<80;ft++){ft<40?ft<20?(At=Mt^xe&(tt^Mt),un=1518500249):(At=xe^tt^Mt,un=1859775393):ft<60?(At=xe&tt|Mt&(xe|tt),un=2400959708):(At=xe^tt^Mt,un=3395469782);const Gt=(K<<5|K>>>27)+At+$n+un+le[ft]&4294967295;$n=Mt,Mt=tt,tt=4294967295&(xe<<30|xe>>>2),xe=K,K=Gt}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+xe&4294967295,this.chain_[2]=this.chain_[2]+tt&4294967295,this.chain_[3]=this.chain_[3]+Mt&4294967295,this.chain_[4]=this.chain_[4]+$n&4294967295}update(F,$){if(null==F)return;void 0===$&&($=F.length);const le=$-this.blockSize;let K=0;const xe=this.buf_;let tt=this.inbuf_;for(;K<$;){if(0===tt)for(;K<=le;)this.compress_(F,K),K+=this.blockSize;if("string"==typeof F){for(;K<$;)if(xe[tt]=F.charCodeAt(K),++tt,++K,tt===this.blockSize){this.compress_(xe),tt=0;break}}else for(;K<$;)if(xe[tt]=F[K],++tt,++K,tt===this.blockSize){this.compress_(xe),tt=0;break}}this.inbuf_=tt,this.total_+=$}digest(){const F=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&$,$/=256;this.compress_(this.buf_);let le=0;for(let K=0;K<5;K++)for(let xe=24;xe>=0;xe-=8)F[le]=this.chain_[K]>>xe&255,++le;return F}}function Ke(B,F){const $=new or(B,F);return $.subscribe.bind($)}class or{constructor(F,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{F(this)}).catch(le=>{this.error(le)})}next(F){this.forEachObserver($=>{$.next(F)})}error(F){this.forEachObserver($=>{$.error(F)}),this.close(F)}complete(){this.forEachObserver(F=>{F.complete()}),this.close()}subscribe(F,$,le){let K;if(void 0===F&&void 0===$&&void 0===le)throw new Error("Missing Observer.");K=function In(B,F){if("object"!=typeof B||null===B)return!1;for(const $ of F)if($ in B&&"function"==typeof B[$])return!0;return!1}(F,["next","error","complete"])?F:{next:F,error:$,complete:le},void 0===K.next&&(K.next=Er),void 0===K.error&&(K.error=Er),void 0===K.complete&&(K.complete=Er);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch(tt){}}),this.observers.push(K),xe}unsubscribeOne(F){void 0===this.observers||void 0===this.observers[F]||(delete this.observers[F],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(F){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,F)}sendOne(F,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[F])try{$(this.observers[F])}catch(le){"undefined"!=typeof console&&console.error&&console.error(le)}})}close(F){this.finalized||(this.finalized=!0,void 0!==F&&(this.finalError=F),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Er(){}const Ri=function(B,F,$,le){let K;if(le<F?K="at least "+F:le>$&&(K=0===$?"none":"no more than "+$),K)throw new Error(B+" failed: Was called with "+le+(1===le?" argument.":" arguments.")+" Expects "+K+".")};function Zt(B,F){return`${B} failed: ${F} argument `}function li(B,F,$,le){if((!le||$)&&"function"!=typeof $)throw new Error(Zt(B,F)+"must be a valid function.")}function qs(B,F,$,le){if((!le||$)&&("object"!=typeof $||null===$))throw new Error(Zt(B,F)+"must be a valid context object.")}const bt=function(B){const F=[];let $=0;for(let le=0;le<B.length;le++){let K=B.charCodeAt(le);if(K>=55296&&K<=56319){const xe=K-55296;le++,x(le<B.length,"Surrogate pair missing trail surrogate."),K=65536+(xe<<10)+(B.charCodeAt(le)-56320)}K<128?F[$++]=K:K<2048?(F[$++]=K>>6|192,F[$++]=63&K|128):K<65536?(F[$++]=K>>12|224,F[$++]=K>>6&63|128,F[$++]=63&K|128):(F[$++]=K>>18|240,F[$++]=K>>12&63|128,F[$++]=K>>6&63|128,F[$++]=63&K|128)}return F},Ge=function(B){let F=0;for(let $=0;$<B.length;$++){const le=B.charCodeAt($);le<128?F++:le<2048?F+=2:le>=55296&&le<=56319?(F+=4,$++):F+=3}return F};function ms(B,F=1e3,$=2){const le=F*Math.pow($,B),K=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+K)}function Ye(B){return B&&B._delegate?B._delegate:B}function Hn(B,F){return new Promise(($,le)=>{B.onsuccess=K=>{$(K.target.result)},B.onerror=K=>{var xe;le(`${F}: ${null===(xe=K.target.error)||void 0===xe?void 0:xe.message}`)}})}class yt{constructor(F){this._db=F,this.objectStoreNames=this._db.objectStoreNames}transaction(F,$){return new Ue(this._db.transaction.call(this._db,F,$))}createObjectStore(F,$){return new Ee(this._db.createObjectStore(F,$))}close(){this._db.close()}}class Ue{constructor(F){this._transaction=F,this.complete=new Promise(($,le)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{le(this._transaction.error)},this._transaction.onabort=()=>{le(this._transaction.error)}})}objectStore(F){return new Ee(this._transaction.objectStore(F))}}class Ee{constructor(F){this._store=F}index(F){return new Ve(this._store.index(F))}createIndex(F,$,le){return new Ve(this._store.createIndex(F,$,le))}get(F){return Hn(this._store.get(F),"Error reading from IndexedDB")}put(F,$){return Hn(this._store.put(F,$),"Error writing to IndexedDB")}delete(F){return Hn(this._store.delete(F),"Error deleting from IndexedDB")}clear(){return Hn(this._store.clear(),"Error clearing IndexedDB object store")}}class Ve{constructor(F){this._index=F}get(F){return Hn(this._index.get(F),"Error reading from IndexedDB")}}function Qe(B,F,$){return new Promise((le,K)=>{try{const xe=indexedDB.open(B,F);xe.onsuccess=tt=>{le(new yt(tt.target.result))},xe.onerror=tt=>{var Mt;K(`Error opening indexedDB: ${null===(Mt=tt.target.error)||void 0===Mt?void 0:Mt.message}`)},xe.onupgradeneeded=tt=>{$(new yt(xe.result),tt.oldVersion,tt.newVersion,new Ue(xe.transaction))}}catch(xe){K(`Error opening indexedDB: ${xe.message}`)}})}function Ct(B){return gt.apply(this,arguments)}function gt(){return(gt=(0,p.Z)(function*(B){return new Promise((F,$)=>{try{const le=indexedDB.deleteDatabase(B);le.onsuccess=()=>{F()},le.onerror=K=>{var xe;$(`Error deleting indexedDB database "${B}": ${null===(xe=K.target.error)||void 0===xe?void 0:xe.message}`)}}catch(le){$(`Error deleting indexedDB database "${B}": ${le.message}`)}})})).apply(this,arguments)}},4764:(ze,ve,O)=>{var p=O(5e3);let q=null;function x(){return q}const ie=new p.OlP("DocumentToken");let ue=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=p.Yz7({token:r,factory:function(){return function ae(){return(0,p.LFG)(H)}()},providedIn:"platform"}),r})();const j=new p.OlP("Location Initialized");let H=(()=>{class r extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const o=x().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=x().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){Y()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){Y()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(ie))},r.\u0275prov=p.Yz7({token:r,factory:function(){return function Le(){return new H((0,p.LFG)(ie))}()},providedIn:"platform"}),r})();function Y(){return!!window.history.pushState}function be(r,t){if(0==r.length)return t;if(0==t.length)return r;let e=0;return r.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?r+t.substring(1):1==e?r+t:r+"/"+t}function Te(r){const t=r.match(/#|\?|$/),e=t&&t.index||r.length;return r.slice(0,e-("/"===r[e-1]?1:0))+r.slice(e)}function Pe(r){return r&&"?"!==r[0]?"?"+r:r}let ce=(()=>{class r{historyGo(e){throw new Error("Not implemented")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=p.Yz7({token:r,factory:function(){return function _e(r){const t=(0,p.LFG)(ie).location;return new Fe((0,p.LFG)(ue),t&&t.origin||"")}()},providedIn:"root"}),r})();const je=new p.OlP("appBaseHref");let Fe=(()=>{class r extends ce{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return be(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+Pe(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,d){const g=this.prepareExternalUrl(l+Pe(d));this._platformLocation.pushState(e,o,g)}replaceState(e,o,l,d){const g=this.prepareExternalUrl(l+Pe(d));this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(ue),p.LFG(je,8))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})(),Ce=(()=>{class r extends ce{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=be(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,d){let g=this.prepareExternalUrl(l+Pe(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,o,g)}replaceState(e,o,l,d){let g=this.prepareExternalUrl(l+Pe(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(ue),p.LFG(je,8))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})(),ge=(()=>{class r{constructor(e,o){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Te(Re(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+Pe(o))}normalize(e){return r.stripTrailingSlash(function Ne(r,t){return r&&t.startsWith(r)?t.substring(r.length):t}(this._baseHref,Re(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pe(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pe(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return r.normalizeQueryParams=Pe,r.joinWithSlash=be,r.stripTrailingSlash=Te,r.\u0275fac=function(e){return new(e||r)(p.LFG(ce),p.LFG(ue))},r.\u0275prov=p.Yz7({token:r,factory:function(){return function me(){return new ge((0,p.LFG)(ce),(0,p.LFG)(ue))}()},providedIn:"root"}),r})();function Re(r){return r.replace(/\/index.html$/,"")}class Li{constructor(t,e,o,l){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xn=(()=>{class r{constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((l,d,g)=>{if(null==l.previousIndex)o.createEmbeddedView(this._template,new Li(l.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)o.remove(null===d?void 0:d);else if(null!==d){const C=o.get(d);o.move(C,g),ci(C,l)}});for(let l=0,d=o.length;l<d;l++){const C=o.get(l).context;C.index=l,C.count=d,C.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{ci(o.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},r.\u0275dir=p.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();function ci(r,t){r.context.$implicit=t.item}let tr=(()=>{class r{constructor(e,o){this._viewContainer=e,this._context=new Bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){la("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){la("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(p.s_b),p.Y36(p.Rgc))},r.\u0275dir=p.lG2({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),r})();class Bt{constructor(){this.$implicit=null,this.ngIf=null}}function la(r,t){if(t&&!t.createEmbeddedView)throw new Error(`${r} must be a TemplateRef, but received '${(0,p.AaK)(t)}'.`)}let al=(()=>{class r{constructor(e,o,l){this._ngEl=e,this._differs=o,this._renderer=l,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,o){const[l,d]=e.split(".");null!=(o=null!=o&&d?`${o}${d}`:o)?this._renderer.setStyle(this._ngEl.nativeElement,l,o):this._renderer.removeStyle(this._ngEl.nativeElement,l)}_applyChanges(e){e.forEachRemovedItem(o=>this._setStyle(o.key,null)),e.forEachAddedItem(o=>this._setStyle(o.key,o.currentValue)),e.forEachChangedItem(o=>this._setStyle(o.key,o.currentValue))}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(p.SBq),p.Y36(p.aQg),p.Y36(p.Qsj))},r.\u0275dir=p.lG2({type:r,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),r})(),Js=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({}),r})();let ma=(()=>{class r{}return r.\u0275prov=(0,p.Yz7)({token:r,providedIn:"root",factory:()=>new _a((0,p.LFG)(ie),window)}),r})();class _a{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Po(r,t){const e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if("function"==typeof r.createTreeWalker&&r.body&&(r.body.createShadowRoot||r.body.attachShadow)){const o=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const d=l.shadowRoot;if(d){const g=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(g)return g}l=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],l-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fi(this.window.history)||fi(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function fi(r){return Object.getOwnPropertyDescriptor(r,"scrollRestoration")}class ji extends class Xs extends class de{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J(r){q||(q=r)}(new ji)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function pu(){return Vt=Vt||document.querySelector("base"),Vt?Vt.getAttribute("href"):null}();return null==e?null:function ws(r){Es=Es||document.createElement("a"),Es.setAttribute("href",r);const t=Es.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Vt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ks(r,t){t=encodeURIComponent(t);for(const e of r.split(";")){const o=e.indexOf("="),[l,d]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let Es,Vt=null;const Gn=new p.OlP("TRANSITION_ID"),Mo=[{provide:p.ip1,useFactory:function gn(r,t,e){return()=>{e.get(p.CZH).donePromise.then(()=>{const o=x(),l=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let d=0;d<l.length;d++)o.remove(l[d])})}},deps:[Gn,ie,p.zs3],multi:!0}];class Ur{static init(){(0,p.VLi)(new Ur)}addToWindow(t){p.dqk.getAngularTestability=(o,l=!0)=>{const d=t.findTestabilityInTree(o,l);if(null==d)throw new Error("Could not find testability for element.");return d},p.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(o=>{const l=p.dqk.getAllAngularTestabilities();let d=l.length,g=!1;const C=function(I){g=g||I,d--,0==d&&o(g)};l.forEach(function(I){I.whenStable(C)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const l=t.getTestability(e);return null!=l?l:o?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let zn=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})();const Hi=new p.OlP("EventManagerPlugins");let pi=(()=>{class r{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let d=0;d<l.length;d++){const g=l[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(Hi),p.LFG(p.R0b))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})();class ya{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const l=x().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let cr=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})(),$i=(()=>{class r extends cr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,l.push(o.appendChild(g))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Wi),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Wi))}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(ie))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})();function Wi(r){x().remove(r)}const Je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},va=/%COMP%/g;function ye(r,t,e){for(let o=0;o<t.length;o++){let l=t[o];Array.isArray(l)?ye(r,l,e):(l=l.replace(va,r),e.push(l))}return e}function mt(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let en=(()=>{class r{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new eo(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case p.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new pl(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case p.ifc.ShadowDom:return new gl(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=ye(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(pi),p.LFG($i),p.LFG(p.AFp))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})();class eo{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Je[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,l){if(l){e=l+":"+e;const d=Je[l];d?t.setAttributeNS(d,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const l=Je[o];l?t.removeAttributeNS(l,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,l){l&(p.JOm.DashCase|p.JOm.Important)?t.style.setProperty(e,o,l&p.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&p.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,mt(o)):this.eventManager.addEventListener(t,e,mt(o))}}class pl extends eo{constructor(t,e,o,l){super(t),this.component=o;const d=ye(l+"-"+o.id,o.styles,[]);e.addStyles(d),this.contentAttr=function dl(r){return"_ngcontent-%COMP%".replace(va,r)}(l+"-"+o.id),this.hostAttr=function hl(r){return"_nghost-%COMP%".replace(va,r)}(l+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class gl extends eo{constructor(t,e,o,l){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=ye(l.id,l.styles,[]);for(let g=0;g<d.length;g++){const C=document.createElement("style");C.textContent=d[g],this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let gu=(()=>{class r extends ya{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(ie))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})();const ml=["alt","control","meta","shift"],Gi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dr={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Ia=(()=>{class r extends ya{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,o,l){const d=r.parseEventName(o),g=r.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const d=r._normalizeKey(o.pop());let g="";if(ml.forEach(I=>{const P=o.indexOf(I);P>-1&&(o.splice(P,1),g+=I+".")}),g+=d,0!=o.length||0===d.length)return null;const C={};return C.domEventName=l,C.fullKey=g,C}static getEventFullKey(e){let o="",l=function zi(r){let t=r.key;if(null==t){if(t=r.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===r.location&&Bn.hasOwnProperty(t)&&(t=Bn[t]))}return Gi[t]||t}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),ml.forEach(d=>{d!=l&&Dr[d](e)&&(o+=d+".")}),o+=l,o}static eventCallback(e,o,l){return d=>{r.getEventFullKey(d)===e&&l.runGuarded(()=>o(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(ie))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})();const yl=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function Br(){ji.makeCurrent(),Ur.init()},multi:!0},{provide:ie,useFactory:function Da(){return(0,p.RDi)(document),document},deps:[]}]),xo=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function _l(){return new p.qLn},deps:[]},{provide:Hi,useClass:gu,multi:!0,deps:[ie,p.R0b,p.Lbi]},{provide:Hi,useClass:Ia,multi:!0,deps:[ie]},{provide:en,useClass:en,deps:[pi,$i,p.AFp]},{provide:p.FYo,useExisting:en},{provide:cr,useExisting:$i},{provide:$i,useClass:$i,deps:[ie]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:pi,useClass:pi,deps:[Hi,p.R0b]},{provide:class qt{},useClass:zn,deps:[]}];let Ro=(()=>{class r{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:r,providers:[{provide:p.AFp,useValue:e.appId},{provide:Gn,useExisting:p.AFp},Mo]}}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(r,12))},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({providers:xo,imports:[Js,p.hGG]}),r})();"undefined"!=typeof window&&window;var _i=O(2011),qn=O(4986),Qr=O(8306),nr=O(7669),En=O(8996);function et(...r){const t=(0,nr.yG)(r);return(0,En.D)(r,t)}var Ki=O(6451),St=O(4004),Wt=O(3099),Sa=O(8421),tn=O(4482),Tn=O(5403);function nn(r,t){return(0,tn.e)((e,o)=>{let l=null,d=0,g=!1;const C=()=>g&&!l&&o.complete();e.subscribe((0,Tn.x)(o,I=>{null==l||l.unsubscribe();let P=0;const U=d++;(0,Sa.Xf)(r(I,U)).subscribe(l=(0,Tn.x)(o,k=>o.next(t?t(I,k,U,P++):k),()=>{l=null,C()}))},()=>{g=!0,C()}))})}function ih(r,t,e,o,l){return(d,g)=>{let C=e,I=t,P=0;d.subscribe((0,Tn.x)(g,U=>{const k=P++;I=C?r(I,U,k):(C=!0,U),o&&g.next(I)},l&&(()=>{C&&g.next(I),g.complete()})))}}function ko(r,t){return(0,tn.e)(ih(r,t,arguments.length>=2,!0))}var Yi=O(4671);function ro(r,t){return r===t}var io=O(5032),rn=O(5813),Tl=(O(2092),O(3942)),hr=O(4859),vi=O(5861),Vr=O(9681),R=O(2090),ao=O(1877);const Lc="@firebase/database";let Tr="";function bu(r){Tr=r}class Ma{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,R.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,R.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Iu{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,R.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const jr=function(r){try{if("undefined"!=typeof window&&void 0!==window[r]){const t=window[r];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ma(t)}}catch(t){}return new Iu},As=jr("localStorage"),Qi=jr("sessionStorage"),Ci=new ao.Yd("@firebase/database"),Ei=function(){let r=1;return function(){return r++}}(),Ss=function(r){const t=(0,R.dS)(r),e=new R.gQ;e.update(t);const o=e.digest();return R.US.encodeByteArray(o)},Kn=function(...r){let t="";for(let e=0;e<r.length;e++){const o=r[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=Kn.apply(null,o):t+="object"==typeof o?(0,R.Pz)(o):o,t+=" "}return t};let Ps=null,Oa=!0;const Ms=function(r,t){(0,R.hu)(!t||!0===r||!1===r,"Can't turn on custom loggers persistently."),!0===r?(Ci.logLevel=ao.in.VERBOSE,Ps=Ci.log.bind(Ci),t&&Qi.set("logging_enabled",!0)):"function"==typeof r?Ps=r:(Ps=null,Qi.remove("logging_enabled"))},dn=function(...r){if(!0===Oa&&(Oa=!1,null===Ps&&!0===Qi.get("logging_enabled")&&Ms(!0)),Ps){const t=Kn.apply(null,r);Ps(t)}},xa=function(r){return function(...t){dn(r,...t)}},an=function(...r){const t="FIREBASE INTERNAL ERROR: "+Kn(...r);Ci.error(t)},wi=function(...r){const t=`FIREBASE FATAL ERROR: ${Kn(...r)}`;throw Ci.error(t),new Error(t)},fr=function(...r){const t="FIREBASE WARNING: "+Kn(...r);Ci.warn(t)},Lo=function(r){return"number"==typeof r&&(r!=r||r===Number.POSITIVE_INFINITY||r===Number.NEGATIVE_INFINITY)},Ji="[MIN_NAME]",bi="[MAX_NAME]",pr=function(r,t){if(r===t)return 0;if(r===Ji||t===bi)return-1;if(t===Ji||r===bi)return 1;{const e=es(r),o=es(t);return null!==e?null!==o?e-o==0?r.length-t.length:e-o:-1:null!==o?1:r<t?-1:1}},oh=function(r,t){return r===t?0:r<t?-1:1},Kt=function(r,t){if(t&&r in t)return t[r];throw new Error("Missing required key ("+r+") in object: "+(0,R.Pz)(t))},Fo=function(r){if("object"!=typeof r||null===r)return(0,R.Pz)(r);const t=[];for(const o in r)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,R.Pz)(t[o]),e+=":",e+=Fo(r[t[o]]);return e+="}",e},Os=function(r,t){const e=r.length;if(e<=t)return[r];const o=[];for(let l=0;l<e;l+=t)o.push(r.substring(l,l+t>e?e:l+t));return o};function Rn(r,t){for(const e in r)r.hasOwnProperty(e)&&t(e,r[e])}const Ra=function(r){(0,R.hu)(!Lo(r),"Invalid JSON number");const o=1023;let l,d,g,C,I;0===r?(d=0,g=0,l=1/r==-1/0?1:0):(l=r<0,(r=Math.abs(r))>=Math.pow(2,1-o)?(C=Math.min(Math.floor(Math.log(r)/Math.LN2),o),d=C+o,g=Math.round(r*Math.pow(2,52-C)-Math.pow(2,52))):(d=0,g=Math.round(r/Math.pow(2,-1074))));const P=[];for(I=52;I;I-=1)P.push(g%2?1:0),g=Math.floor(g/2);for(I=11;I;I-=1)P.push(d%2?1:0),d=Math.floor(d/2);P.push(l?1:0),P.reverse();const U=P.join("");let k="";for(I=0;I<64;I+=8){let Q=parseInt(U.substr(I,8),2).toString(16);1===Q.length&&(Q="0"+Q),k+=Q}return k.toLowerCase()},Xi=new RegExp("^-?(0*)\\d{1,10}$"),Sr=-2147483648,Pr=2147483647,es=function(r){if(Xi.test(r)){const t=Number(r);if(t>=Sr&&t<=Pr)return t}return null},ts=function(r){try{r()}catch(t){setTimeout(()=>{throw fr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},lo=function(r,t){const e=setTimeout(r,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Al{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){fr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gr{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(dn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',fr(t)}}let uo=(()=>{class r{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return r.OWNER="owner",r})();const Na=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pl="websocket",ka="long_polling";class Bo{constructor(t,e,o,l,d=!1,g="",C=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=d,this.persistenceKey=g,this.includeNamespaceInQueryParams=C,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=As.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&As.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function co(r,t,e){let o;if((0,R.hu)("string"==typeof t,"typeof type must == string"),(0,R.hu)("object"==typeof e,"typeof params must == object"),t===Pl)o=(r.secure?"wss://":"ws://")+r.internalHost+"/.ws?";else{if(t!==ka)throw new Error("Unknown connection type: "+t);o=(r.secure?"https://":"http://")+r.internalHost+"/.lp?"}(function xs(r){return r.host!==r.internalHost||r.isCustomHost()||r.includeNamespaceInQueryParams})(r)&&(e.ns=r.namespace);const l=[];return Rn(e,(d,g)=>{l.push(d+"="+g)}),o+l.join("&")}class Ml{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,R.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,R.p$)(this.counters_)}}const w={},b={};function S(r){const t=r.toString();return w[t]||(w[t]=new Ml),w[t]}class z{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&ts(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ns{constructor(t,e,o,l,d,g,C){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=d,this.transportSessionId=g,this.lastSessionId=C,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xa(t),this.stats_=S(e),this.urlFn=I=>(this.appCheckToken&&(I.ac=this.appCheckToken),co(e,ka,I))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new z(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(r){if((0,R.Yr)()||"complete"===document.readyState)r();else{let t=!1;const e=function(){document.body?t||(t=!0,r()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fo((...d)=>{const[g,C,I,P,U]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=C,this.password=I;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);C?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(C,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[g,C]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(g,C)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Na.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ns.forceAllow_=!0}static forceDisallow(){Ns.forceDisallow_=!0}static isAvailable(){return!((0,R.Yr)()||!Ns.forceAllow_&&(Ns.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,R.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,R.h$)(e),l=Os(o,1840);for(let d=0;d<l.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,R.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,R.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class fo{constructor(t,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,R.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Ei(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=fo.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(C){dn("frame writing exception"),C.stack&&dn(C.stack),dn(C)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||dn("No IE domain setting required")}catch(e){const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const g=this.pendingSegs.shift();o=o+"&seg"+l+"="+g.seg+"&ts"+l+"="+g.ts+"&d"+l+"="+g.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),o()})}addTag(t,e){(0,R.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{dn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let Ol=null;"undefined"!=typeof MozWebSocket?Ol=MozWebSocket:"undefined"!=typeof WebSocket&&(Ol=WebSocket);let ei=(()=>{class r{constructor(e,o,l,d,g,C,I){this.connId=e,this.applicationId=l,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xa(this.connId),this.stats_=S(o),this.connURL=r.connectionURL_(o,C,I,d),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,d){const g={v:"5"};return!(0,R.Yr)()&&"undefined"!=typeof location&&location.hostname&&Na.test(location.hostname)&&(g.r="f"),o&&(g.s=o),l&&(g.ls=l),d&&(g.ac=d),co(e,Pl,g)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,As.set("previous_websocket_failure",!0);try{if((0,R.Yr)()){const d={headers:{"User-Agent":`Firebase/5/${Tr}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(d.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(d.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,C=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;C&&(d.proxy={origin:C}),this.mySock=new Ol(this.connURL,[],d)}else this.mySock=new Ol(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(l){this.log_("Error instantiating WebSocket.");const d=l.message||l.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const d=l.message||l.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){r.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==Ol&&!r.forceDisallow_}static previouslyFailed(){return As.isInMemoryStorage||!0===As.get("previous_websocket_failure")}markConnectionHealthy(){As.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,R.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,R.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,R.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=Os(o,16384);l.length>1&&this.sendString_(String(l.length));for(let d=0;d<l.length;d++)this.sendString_(l[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return r.responsesRequiredToBeHealthy=2,r.healthyTimeout=3e4,r})();class Vo{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ns,ei]}initTransports_(t){const e=ei&&ei.isAvailable();let o=e&&!ei.previouslyFailed();if(t.webSocketOnly&&(e||fr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ei];else{const l=this.transports_=[];for(const d of Vo.ALL_TRANSPORTS)d&&d.isAvailable()&&l.push(d)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class xl{constructor(t,e,o,l,d,g,C,I,P,U){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=d,this.onMessage_=g,this.onReady_=C,this.onDisconnect_=I,this.onKill_=P,this.lastSessionId=U,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xa("c:"+this.id+":"),this.transportManager_=new Vo(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=lo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Kt("t",t),o=Kt("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Kt("t",t),o=Kt("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Kt("t",t);if("d"in t){const o=t.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?an("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):an("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&fr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),lo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(As.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class xu{put(t,e,o,l){}merge(t,e,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class Bc{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,R.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const l=this.getInitialEvent(t);l&&e.apply(o,l)}off(t,e,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let d=0;d<l.length;d++)if(l[d].callback===e&&(!o||o===l[d].context))return void l.splice(d,1)}validateEventType_(t){(0,R.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Rl extends Bc{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,R.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Rl}getInitialEvent(t){return(0,R.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class jt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Lt(){return new jt("")}function vt(r){return r.pieceNum_>=r.pieces_.length?null:r.pieces_[r.pieceNum_]}function rs(r){return r.pieces_.length-r.pieceNum_}function Yt(r){let t=r.pieceNum_;return t<r.pieces_.length&&t++,new jt(r.pieces_,t)}function ti(r){return r.pieceNum_<r.pieces_.length?r.pieces_[r.pieces_.length-1]:null}function Fa(r,t=0){return r.pieces_.slice(r.pieceNum_+t)}function tp(r){if(r.pieceNum_>=r.pieces_.length)return null;const t=[];for(let e=r.pieceNum_;e<r.pieces_.length-1;e++)t.push(r.pieces_[e]);return new jt(t,0)}function sn(r,t){const e=[];for(let o=r.pieceNum_;o<r.pieces_.length;o++)e.push(r.pieces_[o]);if(t instanceof jt)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new jt(e,0)}function Et(r){return r.pieceNum_>=r.pieces_.length}function _r(r,t){const e=vt(r),o=vt(t);if(null===e)return t;if(e===o)return _r(Yt(r),Yt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+r+")")}function np(r,t){const e=Fa(r,0),o=Fa(t,0);for(let l=0;l<e.length&&l<o.length;l++){const d=pr(e[l],o[l]);if(0!==d)return d}return e.length===o.length?0:e.length<o.length?-1:1}function Nu(r,t){if(rs(r)!==rs(t))return!1;for(let e=r.pieceNum_,o=t.pieceNum_;e<=r.pieces_.length;e++,o++)if(r.pieces_[e]!==t.pieces_[o])return!1;return!0}function ni(r,t){let e=r.pieceNum_,o=t.pieceNum_;if(rs(r)>rs(t))return!1;for(;e<r.pieces_.length;){if(r.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class rp{constructor(t,e){this.errorPrefix_=e,this.parts_=Fa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,R.ug)(this.parts_[o]);ip(this)}}function ip(r){if(r.byteLength_>768)throw new Error(r.errorPrefix_+"has a key path longer than 768 bytes ("+r.byteLength_+").");if(r.parts_.length>32)throw new Error(r.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+$o(r))}function $o(r){return 0===r.parts_.length?"":"in property '"+r.parts_.join(".")+"'"}class po extends Bc{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new po}getInitialEvent(t){return(0,R.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ua=1e3;let ja,Ba=(()=>{class r extends xu{constructor(e,o,l,d,g,C,I,P){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=C,this.appCheckTokenProvider_=I,this.authOverride_=P,this.id=r.nextPersistentConnectionId_++,this.log_=xa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ua,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,P&&!(0,R.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");po.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Rl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const d=++this.requestNumber_,g={r:d,a:e,b:o};this.log_((0,R.Pz)(g)),(0,R.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),l&&(this.requestCBHash_[d]=l)}get(e){this.initConnection_();const o=new R.BH,l={p:e._path.toString(),q:e._queryObject},d={action:"g",request:l,onComplete:C=>{const I=C.d;"ok"===C.s?(this.onDataUpdate_(l.p,I,!1,null),o.resolve(I)):o.reject(I)}};this.outstandingGets_.push(d),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const C=this.outstandingGets_[g];void 0===C||d!==C||(delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+g+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(g),o.promise}listen(e,o,l,d){this.initConnection_();const g=e._queryIdentifier,C=e._path.toString();this.log_("Listen called for "+C+" "+g),this.listens.has(C)||this.listens.set(C,new Map),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,R.hu)(!this.listens.get(C).has(g),"listen() called twice for same path/queryId.");const I={onComplete:d,hashFn:o,query:e,tag:l};this.listens.get(C).set(g,I),this.connected_&&this.sendListen_(I)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),d=o._queryIdentifier;this.log_("Listen on "+l+" for "+d);const g={p:l};e.tag&&(g.q=o._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,I=>{const P=I.d,U=I.s;r.warnOnListenWarnings_(P,o),(this.listens.get(l)&&this.listens.get(l).get(d))===e&&(this.log_("listen response",I),"ok"!==U&&this.removeListen_(l,d),e.onComplete&&e.onComplete(U,P))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,R.r3)(e,"w")){const l=(0,R.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const d='".indexOn": "'+o._queryParams.getIndex().toString()+'"',g=o._path.toString();fr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,R.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,R.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,d=>{const g=d.s,C=d.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,C))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+d),(0,R.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,d)&&this.connected_&&this.sendUnlisten_(l,d,e._queryObject,o)}sendUnlisten_(e,o,l,d){this.log_("Unlisten on "+e+" for "+o);const g={p:e};d&&(g.q=l,g.t=d),this.sendRequest("n",g)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,d){const g={p:o,d:l};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,C=>{d&&setTimeout(()=>{d(C.s,C.d)},Math.floor(0))})}put(e,o,l,d){this.putInternal("p",e,o,l,d)}merge(e,o,l,d){this.putInternal("m",e,o,l,d)}putInternal(e,o,l,d,g){this.initConnection_();const C={p:o,d:l};void 0!==g&&(C.h=g),this.outstandingPuts_.push({action:e,request:C,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,g=>{this.log_(o+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,R.Pz)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):an("Unrecognized action received from server: "+(0,R.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,R.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ua),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,vi.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+r.nextConnectionId_++,C=e.lastSessionId;let I=!1,P=null;const U=function(){P?P.close():(I=!0,d())};e.realtime_={close:U,sendRequest:function(pe){(0,R.hu)(P,"sendRequest call when we're not connected not allowed."),P.sendRequest(pe)}};const Q=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[pe,Me]=yield Promise.all([e.authTokenProvider_.getToken(Q),e.appCheckTokenProvider_.getToken(Q)]);I?dn("getToken() completed but was canceled"):(dn("getToken() completed. Creating connection."),e.authToken_=pe&&pe.accessToken,e.appCheckToken_=Me&&Me.token,P=new xl(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,d,at=>{fr(at+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},C))}catch(pe){e.log_("Failed to get token: "+pe),I||(e.repoInfo_.nodeAdmin&&fr(pe),U())}}})()}interrupt(e){dn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){dn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,R.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ua,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(g=>Fo(g)).join("$"):"default";const d=this.removeListen_(e,l);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,o){const l=new jt(e).toString();let d;if(this.listens.has(l)){const g=this.listens.get(l);d=g.get(o),g.delete(o),0===g.size&&this.listens.delete(l)}else d=void 0;return d}onAuthRevoked_(e,o){dn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){dn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,R.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+Tr.replace(/\./g,"-")]=1,(0,R.uI)()?e["framework.cordova"]=1:(0,R.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rl.getInstance().currentlyOnline();return(0,R.xb)(this.interruptReasons_)&&e}}return r.nextPersistentConnectionId_=0,r.nextConnectionId_=0,r})();class _t{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new _t(t,e)}}class Va{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new _t(Ji,t),l=new _t(Ji,e);return 0!==this.compare(o,l)}minPost(){return _t.MIN}}class sp extends Va{static get __EMPTY_NODE(){return ja}static set __EMPTY_NODE(t){ja=t}compare(t,e){return pr(t.name,e.name)}isDefinedOn(t){throw(0,R.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return _t.MIN}maxPost(){return new _t(bi,ja)}makePost(t,e){return(0,R.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new _t(t,ja)}toString(){return".key"}}const is=new sp;class Wo{constructor(t,e,o,l,d=null){this.isReverse_=l,this.resultGenerator_=d,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(t=t,g=e?o(t.key,e):1,l&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Ha,Ti=(()=>{class r{constructor(e,o,l,d,g){this.key=e,this.value=o,this.color=null!=l?l:r.RED,this.left=null!=d?d:rr.EMPTY_NODE,this.right=null!=g?g:rr.EMPTY_NODE}copy(e,o,l,d,g){return new r(null!=e?e:this.key,null!=o?o:this.value,null!=l?l:this.color,null!=d?d:this.left,null!=g?g:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let d=this;const g=l(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,o,l),null):0===g?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(e,o,l)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return rr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,d;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return rr.EMPTY_NODE;d=l.right.min_(),l=l.copy(d.key,d.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return r.RED=!0,r.BLACK=!1,r})();class rr{constructor(t,e=rr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new rr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ti.BLACK,null,null))}remove(t){return new rr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ti.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Wo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Wo(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Wo(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Wo(this.root_,null,this.comparator_,!0,t)}}function $c(r,t){return pr(r.name,t.name)}function Lu(r,t){return pr(r,t)}rr.EMPTY_NODE=new class op{copy(t,e,o,l,d){return this}insert(t,e,o){return new Ti(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Uu=function(r){return"number"==typeof r?"number:"+Ra(r):"string:"+r},mh=function(r){if(r.isLeafNode()){const t=r.val();(0,R.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,R.r3)(t,".sv"),"Priority must be a string or number.")}else(0,R.hu)(r===Ha||r.isEmpty(),"priority of unexpected type.");(0,R.hu)(r===Ha||r.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wn,_h,Bu,Go=(()=>{class r{constructor(e,o=r.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,R.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),mh(this.priorityNode_)}static set __childrenNodeConstructor(e){wn=e}static get __childrenNodeConstructor(){return wn}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new r(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Et(e)?this:".priority"===vt(e)?this.priorityNode_:r.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:r.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=vt(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,R.hu)(".priority"!==l||1===rs(e),".priority must be the last token in a path"),this.updateImmediateChild(l,r.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Uu(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?Ra(this.value_):this.value_,this.lazyHash_=Ss(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===r.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof r.__childrenNodeConstructor?-1:((0,R.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,d=r.VALUE_TYPE_ORDER.indexOf(o),g=r.VALUE_TYPE_ORDER.indexOf(l);return(0,R.hu)(d>=0,"Unknown leaf type: "+o),(0,R.hu)(g>=0,"Unknown leaf type: "+l),d===g?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return r.VALUE_TYPE_ORDER=["object","boolean","number","string"],r})();const Qt=new class Vu extends Va{compare(t,e){const o=t.node.getPriority(),l=e.node.getPriority(),d=o.compareTo(l);return 0===d?pr(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(bi,new Go("[PRIORITY-POST]",Bu))}makePost(t,e){const o=_h(t);return new _t(e,new Go("[PRIORITY-POST]",o))}toString(){return".priority"}},vh=Math.log(2);class lp{constructor(t){this.count=parseInt(Math.log(t+1)/vh,10),this.current_=this.count-1;const l=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Wc=function(r,t,e,o){r.sort(t);const l=function(I,P){const U=P-I;let k,Q;if(0===U)return null;if(1===U)return k=r[I],Q=e?e(k):k,new Ti(Q,k.node,Ti.BLACK,null,null);{const pe=parseInt(U/2,10)+I,Me=l(I,pe),at=l(pe+1,P);return k=r[pe],Q=e?e(k):k,new Ti(Q,k.node,Ti.BLACK,Me,at)}},C=function(I){let P=null,U=null,k=r.length;const Q=function(Me,at){const xt=k-Me,Jn=k;k-=Me;const hn=l(xt+1,Jn),kr=r[xt],_n=e?e(kr):kr;pe(new Ti(_n,kr.node,at,null,hn))},pe=function(Me){P?(P.left=Me,P=Me):(U=Me,P=Me)};for(let Me=0;Me<I.count;++Me){const at=I.nextBitIsOne(),xt=Math.pow(2,I.count-(Me+1));at?Q(xt,Ti.BLACK):(Q(xt,Ti.BLACK),Q(xt,Ti.RED))}return U}(new lp(r.length));return new rr(o||t,C)};let Ch;const ss={};class ln{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,R.hu)(ss&&Qt,"ChildrenNode.ts has not been loaded"),Ch=Ch||new ln({".priority":ss},{".priority":Qt}),Ch}get(t){const e=(0,R.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof rr?e:null}hasIndex(t){return(0,R.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,R.hu)(t!==is,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const d=e.getIterator(_t.Wrap);let C,g=d.getNext();for(;g;)l=l||t.isDefinedOn(g.node),o.push(g),g=d.getNext();C=l?Wc(o,t.getCompare()):ss;const I=t.toString(),P=Object.assign({},this.indexSet_);P[I]=t;const U=Object.assign({},this.indexes_);return U[I]=C,new ln(U,P)}addToIndexes(t,e){const o=(0,R.UI)(this.indexes_,(l,d)=>{const g=(0,R.DV)(this.indexSet_,d);if((0,R.hu)(g,"Missing index implementation for "+d),l===ss){if(g.isDefinedOn(t.node)){const C=[],I=e.getIterator(_t.Wrap);let P=I.getNext();for(;P;)P.name!==t.name&&C.push(P),P=I.getNext();return C.push(t),Wc(C,g.getCompare())}return ss}{const C=e.get(t.name);let I=l;return C&&(I=I.remove(new _t(t.name,C))),I.insert(t,t.node)}});return new ln(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,R.UI)(this.indexes_,l=>{if(l===ss)return l;{const d=e.get(t.name);return d?l.remove(new _t(t.name,d)):l}});return new ln(o,this.indexSet_)}}let ks,ct=(()=>{class r{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&mh(this.priorityNode_),this.children_.isEmpty()&&(0,R.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ks||(ks=new r(new rr(Lu),null,ln.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ks}updatePriority(e){return this.children_.isEmpty()?this:new r(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?ks:o}}getChild(e){const o=vt(e);return null===o?this:this.getImmediateChild(o).getChild(Yt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,R.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new _t(e,o);let d,g;o.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(l,this.children_)):(d=this.children_.insert(e,o),g=this.indexMap_.addToIndexes(l,this.children_));const C=d.isEmpty()?ks:this.priorityNode_;return new r(d,C,g)}}updateChild(e,o){const l=vt(e);if(null===l)return o;{(0,R.hu)(".priority"!==vt(e)||1===rs(e),".priority must be the last token in a path");const d=this.getImmediateChild(l).updateChild(Yt(e),o);return this.updateImmediateChild(l,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,d=0,g=!0;if(this.forEachChild(Qt,(C,I)=>{o[C]=I.val(e),l++,g&&r.INTEGER_REGEXP_.test(C)?d=Math.max(d,Number(C)):g=!1}),!e&&g&&d<2*l){const C=[];for(const I in o)C[I]=o[I];return C}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Uu(this.getPriority().val())+":"),this.forEachChild(Qt,(o,l)=>{const d=l.hash();""!==d&&(e+=":"+o+":"+d)}),this.lazyHash_=""===e?"":Ss(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const d=this.resolveIndex_(l);if(d){const g=d.getPredecessorKey(new _t(e,o));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new _t(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new _t(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(d=>o(d.name,d.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,_t.Wrap);let g=d.peek();for(;null!=g&&o.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,_t.Wrap);let g=d.peek();for(;null!=g&&o.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sn?-1:0}withIndex(e){if(e===is||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new r(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===is||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(Qt),d=o.getIterator(Qt);let g=l.getNext(),C=d.getNext();for(;g&&C;){if(g.name!==C.name||!g.node.equals(C.node))return!1;g=l.getNext(),C=d.getNext()}return null===g&&null===C}return!1}return!1}}resolveIndex_(e){return e===is?null:this.indexMap_.get(e.toString())}}return r.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,r})();const Sn=new class Gc extends ct{constructor(){super(new rr(Lu),ct.EMPTY_NODE,ln.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ct.EMPTY_NODE}isEmpty(){return!1}};function on(r,t=null){if(null===r)return ct.EMPTY_NODE;if("object"==typeof r&&".priority"in r&&(t=r[".priority"]),(0,R.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof r&&".value"in r&&null!==r[".value"]&&(r=r[".value"]),"object"!=typeof r||".sv"in r)return new Go(r,on(t));if(r instanceof Array){let e=ct.EMPTY_NODE;return Rn(r,(o,l)=>{if((0,R.r3)(r,o)&&"."!==o.substring(0,1)){const d=on(l);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(o,d))}}),e.updatePriority(on(t))}{const e=[];let o=!1;if(Rn(r,(g,C)=>{if("."!==g.substring(0,1)){const I=on(C);I.isEmpty()||(o=o||!I.getPriority().isEmpty(),e.push(new _t(g,I)))}}),0===e.length)return ct.EMPTY_NODE;const d=Wc(e,$c,g=>g.name,Lu);if(o){const g=Wc(e,Qt.getCompare());return new ct(d,on(t),new ln({".priority":g},{".priority":Qt}))}return new ct(d,on(t),ln.Default)}}Object.defineProperties(_t,{MIN:{value:new _t(Ji,ct.EMPTY_NODE)},MAX:{value:new _t(bi,Sn)}}),sp.__EMPTY_NODE=ct.EMPTY_NODE,Go.__childrenNodeConstructor=ct,function Fu(r){Ha=r}(Sn),function ap(r){Bu=r}(Sn),function yh(r){_h=r}(on);class yr extends Va{constructor(t){super(),this.indexPath_=t,(0,R.hu)(!Et(t)&&".priority"!==vt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),l=this.extractChild(e.node),d=o.compareTo(l);return 0===d?pr(t.name,e.name):d}makePost(t,e){const o=on(t),l=ct.EMPTY_NODE.updateChild(this.indexPath_,o);return new _t(e,l)}maxPost(){const t=ct.EMPTY_NODE.updateChild(this.indexPath_,Sn);return new _t(bi,t)}toString(){return Fa(this.indexPath_,0).join("/")}}const Fl=new class Ll extends Va{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?pr(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(t,e){const o=on(t);return new _t(e,o)}toString(){return".value"}},$a="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Eh=function(){let r=0;const t=[];return function(e){const o=e===r;let l;r=e;const d=new Array(8);for(l=7;l>=0;l--)d[l]=$a.charAt(e%64),e=Math.floor(e/64);(0,R.hu)(0===e,"Cannot push at time == 0");let g=d.join("");if(o){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)g+=$a.charAt(t[l]);return(0,R.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),wh=function(r){if(r===""+Pr)return"-";const t=es(r);if(null!=t)return""+(t+1);const e=new Array(r.length);for(let g=0;g<e.length;g++)e[g]=r.charAt(g);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return bi;const d=$a.charAt($a.indexOf(e[o])+1);return e[o]=d,e.slice(0,o+1).join("")},Ai=function(r){if(r===""+Sr)return Ji;const t=es(r);if(null!=t)return""+(t-1);const e=new Array(r.length);for(let o=0;o<e.length;o++)e[o]=r.charAt(o);return"-"===e[e.length-1]?1===e.length?""+Pr:(delete e[e.length-1],e.join("")):(e[e.length-1]=$a.charAt($a.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Zc(r){return{type:"value",snapshotNode:r}}function Ga(r,t){return{type:"child_added",snapshotNode:t,childName:r}}function Zo(r,t){return{type:"child_removed",snapshotNode:t,childName:r}}function Ul(r,t,e){return{type:"child_changed",snapshotNode:t,childName:r,oldSnap:e}}class Nn{constructor(t){this.index_=t}updateChild(t,e,o,l,d,g){(0,R.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const C=t.getImmediateChild(e);return C.getChild(l).equals(o.getChild(l))&&C.isEmpty()===o.isEmpty()||(null!=g&&(o.isEmpty()?t.hasChild(e)?g.trackChildChange(Zo(e,C)):(0,R.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):C.isEmpty()?g.trackChildChange(Ga(e,o)):g.trackChildChange(Ul(e,o,C))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(Qt,(l,d)=>{e.hasChild(l)||o.trackChildChange(Zo(l,d))}),e.isLeafNode()||e.forEachChild(Qt,(l,d)=>{if(t.hasChild(l)){const g=t.getImmediateChild(l);g.equals(d)||o.trackChildChange(Ul(l,d,g))}else o.trackChildChange(Ga(l,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ct.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class qo{constructor(t){this.indexedFilter_=new Nn(t.getIndex()),this.index_=t.getIndex(),this.startPost_=qo.getStartPost_(t),this.endPost_=qo.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,o,l,d,g){return this.matches(new _t(e,o))||(o=ct.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,l,d,g)}updateFullNode(t,e,o){e.isLeafNode()&&(e=ct.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(ct.EMPTY_NODE);const d=this;return e.forEachChild(Qt,(g,C)=>{d.matches(new _t(g,C))||(l=l.updateImmediateChild(g,ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class qc{constructor(t){this.rangedFilter_=new qo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,o,l,d,g){return this.rangedFilter_.matches(new _t(e,o))||(o=ct.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,l,d,g):this.fullLimitUpdateChild_(t,e,o,d,g)}updateFullNode(t,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;l=ct.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;d.hasNext()&&g<this.limit_;){const C=d.getNext();let I;if(I=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),C)<=0:this.index_.compare(C,this.rangedFilter_.getEndPost())<=0,!I)break;l=l.updateImmediateChild(C.name,C.node),g++}}else{let d,g,C,I;if(l=e.withIndex(this.index_),l=l.updatePriority(ct.EMPTY_NODE),this.reverse_){I=l.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const k=this.index_.getCompare();C=(Q,pe)=>k(pe,Q)}else I=l.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),C=this.index_.getCompare();let P=0,U=!1;for(;I.hasNext();){const k=I.getNext();!U&&C(d,k)<=0&&(U=!0),U&&P<this.limit_&&C(k,g)<=0?P++:l=l.updateImmediateChild(k.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,l,d){let g;if(this.reverse_){const k=this.index_.getCompare();g=(Q,pe)=>k(pe,Q)}else g=this.index_.getCompare();const C=t;(0,R.hu)(C.numChildren()===this.limit_,"");const I=new _t(e,o),P=this.reverse_?C.getFirstChild(this.index_):C.getLastChild(this.index_),U=this.rangedFilter_.matches(I);if(C.hasChild(e)){const k=C.getImmediateChild(e);let Q=l.getChildAfterChild(this.index_,P,this.reverse_);for(;null!=Q&&(Q.name===e||C.hasChild(Q.name));)Q=l.getChildAfterChild(this.index_,Q,this.reverse_);const pe=null==Q?1:g(Q,I);if(U&&!o.isEmpty()&&pe>=0)return null!=d&&d.trackChildChange(Ul(e,o,k)),C.updateImmediateChild(e,o);{null!=d&&d.trackChildChange(Zo(e,k));const at=C.updateImmediateChild(e,ct.EMPTY_NODE);return null!=Q&&this.rangedFilter_.matches(Q)?(null!=d&&d.trackChildChange(Ga(Q.name,Q.node)),at.updateImmediateChild(Q.name,Q.node)):at}}return o.isEmpty()?t:U&&g(P,I)>=0?(null!=d&&(d.trackChildChange(Zo(P.name,P.node)),d.trackChildChange(Ga(e,o))),C.updateImmediateChild(e,o).updateImmediateChild(P.name,ct.EMPTY_NODE)):t}}class Hu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,R.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ji}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,R.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,R.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const t=new Hu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function $u(r,t,e){const o=r.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function Vl(r,t,e){const o=r.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function Wu(r,t){const e=r.copy();return e.index_=t,e}function Ih(r){const t={};if(r.isDefault())return t;let e;return r.index_===Qt?e="$priority":r.index_===Fl?e="$value":r.index_===is?e="$key":((0,R.hu)(r.index_ instanceof yr,"Unrecognized index type!"),e=r.index_.toString()),t.orderBy=(0,R.Pz)(e),r.startSet_&&(t.startAt=(0,R.Pz)(r.indexStartValue_),r.startNameSet_&&(t.startAt+=","+(0,R.Pz)(r.indexStartName_))),r.endSet_&&(t.endAt=(0,R.Pz)(r.indexEndValue_),r.endNameSet_&&(t.endAt+=","+(0,R.Pz)(r.indexEndName_))),r.limitSet_&&(r.isViewFromLeft()?t.limitToFirst=r.limit_:t.limitToLast=r.limit_),t}function Dh(r){const t={};if(r.startSet_&&(t.sp=r.indexStartValue_,r.startNameSet_&&(t.sn=r.indexStartName_)),r.endSet_&&(t.ep=r.indexEndValue_,r.endNameSet_&&(t.en=r.indexEndName_)),r.limitSet_){t.l=r.limit_;let e=r.viewFrom_;""===e&&(e=r.isViewFromLeft()?"l":"r"),t.vf=e}return r.index_!==Qt&&(t.i=r.index_.toString()),t}class m extends xu{constructor(t,e,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=xa("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,R.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,l){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const g=m.getListenId_(t,o),C={};this.listens_[g]=C;const I=Ih(t._queryParams);this.restRequest_(d+".json",I,(P,U)=>{let k=U;if(404===P&&(k=null,P=null),null===P&&this.onDataUpdate_(d,k,!1,o),(0,R.DV)(this.listens_,g)===C){let Q;Q=P?401===P?"permission_denied":"rest_error:"+P:"ok",l(Q,null)}})}unlisten(t,e){const o=m.getListenId_(t,e);delete this.listens_[o]}get(t){const e=Ih(t._queryParams),o=t._path.toString(),l=new R.BH;return this.restRequest_(o+".json",e,(d,g)=>{let C=g;404===d&&(C=null,d=null),null===d?(this.onDataUpdate_(o,C,!1,null),l.resolve(C)):l.reject(new Error(C))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,d])=>{l&&l.accessToken&&(e.auth=l.accessToken),d&&d.token&&(e.ac=d.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,R.xO)(e);this.log_("Sending REST request for "+g);const C=new XMLHttpRequest;C.onreadystatechange=()=>{if(o&&4===C.readyState){this.log_("REST Response for "+g+" received. status:",C.status,"response:",C.responseText);let I=null;if(C.status>=200&&C.status<300){try{I=(0,R.cI)(C.responseText)}catch(P){fr("Failed to parse JSON response for "+g+": "+C.responseText)}o(null,I)}else 401!==C.status&&404!==C.status&&fr("Got unsuccessful REST response for "+g+" Status: "+C.status),o(C.status);o=null}},C.open("GET",g,!0),C.send()})}}class c{constructor(){this.rootNode_=ct.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function f(){return{value:null,children:new Map}}function y(r,t,e){if(Et(t))r.value=e,r.children.clear();else if(null!==r.value)r.value=r.value.updateChild(t,e);else{const o=vt(t);r.children.has(o)||r.children.set(o,f()),y(r.children.get(o),t=Yt(t),e)}}function D(r,t){if(Et(t))return r.value=null,r.children.clear(),!0;if(null!==r.value){if(r.value.isLeafNode())return!1;{const e=r.value;return r.value=null,e.forEachChild(Qt,(o,l)=>{y(r,new jt(o),l)}),D(r,t)}}if(r.children.size>0){const e=vt(t);return t=Yt(t),r.children.has(e)&&D(r.children.get(e),t)&&r.children.delete(e),0===r.children.size}return!0}function M(r,t,e){null!==r.value?e(t,r.value):function W(r,t){r.children.forEach((e,o)=>{t(o,e)})}(r,(o,l)=>{M(l,new jt(t.toString()+"/"+o),e)})}class re{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Rn(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=t,e}}class qe{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new re(t);const o=1e4+2e4*Math.random();lo(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;Rn(t,(l,d)=>{d>0&&(0,R.r3)(this.statsToReport_,l)&&(e[l]=d,o=!0)}),o&&this.server_.reportStats(e),lo(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ot=(()=>{return(r=Ot||(Ot={}))[r.OVERWRITE=0]="OVERWRITE",r[r.MERGE=1]="MERGE",r[r.ACK_USER_WRITE=2]="ACK_USER_WRITE",r[r.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ot;var r})();function za(r){return{fromUser:!1,fromServer:!0,queryId:r,tagged:!0}}class go{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=Ot.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Et(this.path)){if(null!=this.affectedTree.value)return(0,R.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new jt(t));return new go(Lt(),e,this.revert)}}return(0,R.hu)(vt(this.path)===t,"operationForChild called for unrelated child."),new go(Yt(this.path),this.affectedTree,this.revert)}}class Yo{constructor(t,e){this.source=t,this.path=e,this.type=Ot.LISTEN_COMPLETE}operationForChild(t){return Et(this.path)?new Yo(this.source,Lt()):new Yo(this.source,Yt(this.path))}}class Qo{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=Ot.OVERWRITE}operationForChild(t){return Et(this.path)?new Qo(this.source,Lt(),this.snap.getImmediateChild(t)):new Qo(this.source,Yt(this.path),this.snap)}}class Hr{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=Ot.MERGE}operationForChild(t){if(Et(this.path)){const e=this.children.subtree(new jt(t));return e.isEmpty()?null:e.value?new Qo(this.source,Lt(),e.value):new Hr(this.source,Lt(),e)}return(0,R.hu)(vt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Hr(this.source,Yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Si{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Et(t))return this.isFullyInitialized()&&!this.filtered_;const e=vt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Yc{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function mo(r,t,e,o,l,d){const g=o.filter(C=>C.type===e);g.sort((C,I)=>function Jc(r,t,e){if(null==t.childName||null==e.childName)throw(0,R.g5)("Should only compare child_ events.");const o=new _t(t.childName,t.snapshotNode),l=new _t(e.childName,e.snapshotNode);return r.index_.compare(o,l)}(r,C,I)),g.forEach(C=>{const I=function dp(r,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,r.index_)),t}(r,C,d);l.forEach(P=>{P.respondsTo(C.type)&&t.push(P.createEvent(I,r.query_))})})}function Gu(r,t){return{eventCache:r,serverCache:t}}function Xc(r,t,e,o){return Gu(new Si(t,e,o),r.serverCache)}function t_(r,t,e,o){return Gu(r.eventCache,new Si(t,e,o))}function Th(r){return r.eventCache.isFullyInitialized()?r.eventCache.getNode():null}function Za(r){return r.serverCache.isFullyInitialized()?r.serverCache.getNode():null}let ed;class Jt{constructor(t,e=(()=>(ed||(ed=new rr(oh)),ed))()){this.value=t,this.children=e}static fromObject(t){let e=new Jt(null);return Rn(t,(o,l)=>{e=e.set(new jt(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Lt(),value:this.value};if(Et(t))return null;{const o=vt(t),l=this.children.get(o);if(null!==l){const d=l.findRootMostMatchingPathAndValue(Yt(t),e);return null!=d?{path:sn(new jt(o),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Et(t))return this;{const e=vt(t),o=this.children.get(e);return null!==o?o.subtree(Yt(t)):new Jt(null)}}set(t,e){if(Et(t))return new Jt(e,this.children);{const o=vt(t),d=(this.children.get(o)||new Jt(null)).set(Yt(t),e),g=this.children.insert(o,d);return new Jt(this.value,g)}}remove(t){if(Et(t))return this.children.isEmpty()?new Jt(null):new Jt(null,this.children);{const e=vt(t),o=this.children.get(e);if(o){const l=o.remove(Yt(t));let d;return d=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&d.isEmpty()?new Jt(null):new Jt(this.value,d)}return this}}get(t){if(Et(t))return this.value;{const e=vt(t),o=this.children.get(e);return o?o.get(Yt(t)):null}}setTree(t,e){if(Et(t))return e;{const o=vt(t),d=(this.children.get(o)||new Jt(null)).setTree(Yt(t),e);let g;return g=d.isEmpty()?this.children.remove(o):this.children.insert(o,d),new Jt(this.value,g)}}fold(t){return this.fold_(Lt(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((l,d)=>{o[l]=d.fold_(sn(t,l),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,Lt(),e)}findOnPath_(t,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(Et(t))return null;{const d=vt(t),g=this.children.get(d);return g?g.findOnPath_(Yt(t),sn(e,d),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Lt(),e)}foreachOnPath_(t,e,o){if(Et(t))return this;{this.value&&o(e,this.value);const l=vt(t),d=this.children.get(l);return d?d.foreachOnPath_(Yt(t),sn(e,l),o):new Jt(null)}}foreach(t){this.foreach_(Lt(),t)}foreach_(t,e){this.children.inorderTraversal((o,l)=>{l.foreach_(sn(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class Fs{constructor(t){this.writeTree_=t}static empty(){return new Fs(new Jt(null))}}function td(r,t,e){if(Et(t))return new Fs(new Jt(e));{const o=r.writeTree_.findRootMostValueAndPath(t);if(null!=o){const l=o.path;let d=o.value;const g=_r(l,t);return d=d.updateChild(g,e),new Fs(r.writeTree_.set(l,d))}{const l=new Jt(e),d=r.writeTree_.setTree(t,l);return new Fs(d)}}}function Ah(r,t,e){let o=r;return Rn(e,(l,d)=>{o=td(o,sn(t,l),d)}),o}function hp(r,t){if(Et(t))return Fs.empty();{const e=r.writeTree_.setTree(t,new Jt(null));return new Fs(e)}}function Jo(r,t){return null!=qa(r,t)}function qa(r,t){const e=r.writeTree_.findRootMostValueAndPath(t);return null!=e?r.writeTree_.get(e.path).getChild(_r(e.path,t)):null}function fp(r){const t=[],e=r.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Qt,(o,l)=>{t.push(new _t(o,l))}):r.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&t.push(new _t(o,l.value))}),t}function Ka(r,t){if(Et(t))return r;{const e=qa(r,t);return new Fs(null!=e?new Jt(e):r.writeTree_.subtree(t))}}function zu(r){return r.writeTree_.isEmpty()}function Zu(r,t){return pp(Lt(),r.writeTree_,t)}function pp(r,t,e){if(null!=t.value)return e.updateChild(r,t.value);{let o=null;return t.children.inorderTraversal((l,d)=>{".priority"===l?((0,R.hu)(null!==d.value,"Priority writes must always be leaf nodes"),o=d.value):e=pp(sn(r,l),d,e)}),!e.getChild(r).isEmpty()&&null!==o&&(e=e.updateChild(sn(r,".priority"),o)),e}}function nd(r,t){return u_(t,r)}function Ph(r,t){if(r.snap)return ni(r.path,t);for(const e in r.children)if(r.children.hasOwnProperty(e)&&ni(sn(r.path,e),t))return!0;return!1}function mp(r){return r.visible}function _p(r,t,e){let o=Fs.empty();for(let l=0;l<r.length;++l){const d=r[l];if(t(d)){const g=d.path;let C;if(d.snap)ni(e,g)?(C=_r(e,g),o=td(o,C,d.snap)):ni(g,e)&&(C=_r(g,e),o=td(o,Lt(),d.snap.getChild(C)));else{if(!d.children)throw(0,R.g5)("WriteRecord should have .snap or .children");if(ni(e,g))C=_r(e,g),o=Ah(o,C,d.children);else if(ni(g,e))if(C=_r(g,e),Et(C))o=Ah(o,Lt(),d.children);else{const I=(0,R.DV)(d.children,vt(C));if(I){const P=I.getChild(Yt(C));o=td(o,Lt(),P)}}}}}return o}function Mh(r,t,e,o,l){if(o||l){const d=Ka(r.visibleWrites,t);return!l&&zu(d)?e:l||null!=e||Jo(d,Lt())?Zu(_p(r.allWrites,function(P){return(P.visible||l)&&(!o||!~o.indexOf(P.writeId))&&(ni(P.path,t)||ni(t,P.path))},t),e||ct.EMPTY_NODE):null}{const d=qa(r.visibleWrites,t);if(null!=d)return d;{const g=Ka(r.visibleWrites,t);return zu(g)?e:null!=e||Jo(g,Lt())?Zu(g,e||ct.EMPTY_NODE):null}}}function qu(r,t,e,o){return Mh(r.writeTree,r.treePath,t,e,o)}function Oh(r,t){return function rd(r,t,e){let o=ct.EMPTY_NODE;const l=qa(r.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Qt,(d,g)=>{o=o.updateImmediateChild(d,g)}),o;if(e){const d=Ka(r.visibleWrites,t);return e.forEachChild(Qt,(g,C)=>{const I=Zu(Ka(d,new jt(g)),C);o=o.updateImmediateChild(g,I)}),fp(d).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}return fp(Ka(r.visibleWrites,t)).forEach(g=>{o=o.updateImmediateChild(g.name,g.node)}),o}(r.writeTree,r.treePath,t)}function n0(r,t,e,o){return function Xv(r,t,e,o,l){(0,R.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const d=sn(t,e);if(Jo(r.visibleWrites,d))return null;{const g=Ka(r.visibleWrites,d);return zu(g)?l.getChild(e):Zu(g,l.getChild(e))}}(r.writeTree,r.treePath,t,e,o)}function id(r,t){return function e0(r,t){return qa(r.visibleWrites,t)}(r.writeTree,sn(r.treePath,t))}function xh(r,t,e){return function o_(r,t,e,o){const l=sn(t,e),d=qa(r.visibleWrites,l);return null!=d?d:o.isCompleteForChild(e)?Zu(Ka(r.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(r.writeTree,r.treePath,t,e)}function l_(r,t){return u_(sn(r.treePath,t),r.writeTree)}function u_(r,t){return{treePath:r,writeTree:t}}class Us{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,R.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,R.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const d=l.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(o,Ul(o,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(o,Zo(o,l.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(o,Ga(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,R.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(o,Ul(o,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const yp=new class s0{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class vp{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new Si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xh(this.writes_,t,o)}}getChildAfterChild(t,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Za(this.viewCache_),d=function r0(r,t,e,o,l,d){return function t0(r,t,e,o,l,d,g){let C;const I=Ka(r.visibleWrites,t),P=qa(I,Lt());if(null!=P)C=P;else{if(null==e)return[];C=Zu(I,e)}if(C=C.withIndex(g),C.isEmpty()||C.isLeafNode())return[];{const U=[],k=g.getCompare(),Q=d?C.getReverseIteratorFrom(o,g):C.getIteratorFrom(o,g);let pe=Q.getNext();for(;pe&&U.length<l;)0!==k(pe,o)&&U.push(pe),pe=Q.getNext();return U}}(r.writeTree,r.treePath,t,e,o,l,d)}(this.writes_,l,e,1,o,t);return 0===d.length?null:d[0]}}function d_(r,t,e,o,l,d){const g=t.eventCache;if(null!=id(o,e))return t;{let C,I;if(Et(e))if((0,R.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const P=Za(t),k=Oh(o,P instanceof ct?P:ct.EMPTY_NODE);C=r.filter.updateFullNode(t.eventCache.getNode(),k,d)}else{const P=qu(o,Za(t));C=r.filter.updateFullNode(t.eventCache.getNode(),P,d)}else{const P=vt(e);if(".priority"===P){(0,R.hu)(1===rs(e),"Can't have a priority with additional path components");const U=g.getNode();I=t.serverCache.getNode();const k=n0(o,e,U,I);C=null!=k?r.filter.updatePriority(U,k):g.getNode()}else{const U=Yt(e);let k;if(g.isCompleteForChild(P)){I=t.serverCache.getNode();const Q=n0(o,e,g.getNode(),I);k=null!=Q?g.getNode().getImmediateChild(P).updateChild(U,Q):g.getNode().getImmediateChild(P)}else k=xh(o,P,t.serverCache);C=null!=k?r.filter.updateChild(g.getNode(),P,k,U,l,d):g.getNode()}}return Xc(t,C,g.isFullyInitialized()||Et(e),r.filter.filtersNodes())}}function Rh(r,t,e,o,l,d,g,C){const I=t.serverCache;let P;const U=g?r.filter:r.filter.getIndexedFilter();if(Et(e))P=U.updateFullNode(I.getNode(),o,null);else if(U.filtersNodes()&&!I.isFiltered()){const pe=I.getNode().updateChild(e,o);P=U.updateFullNode(I.getNode(),pe,null)}else{const pe=vt(e);if(!I.isCompleteForPath(e)&&rs(e)>1)return t;const Me=Yt(e),xt=I.getNode().getImmediateChild(pe).updateChild(Me,o);P=".priority"===pe?U.updatePriority(I.getNode(),xt):U.updateChild(I.getNode(),pe,xt,Me,yp,null)}const k=t_(t,P,I.isFullyInitialized()||Et(e),U.filtersNodes());return d_(r,k,e,l,new vp(l,k,d),C)}function Cp(r,t,e,o,l,d,g){const C=t.eventCache;let I,P;const U=new vp(l,t,d);if(Et(e))P=r.filter.updateFullNode(t.eventCache.getNode(),o,g),I=Xc(t,P,!0,r.filter.filtersNodes());else{const k=vt(e);if(".priority"===k)P=r.filter.updatePriority(t.eventCache.getNode(),o),I=Xc(t,P,C.isFullyInitialized(),C.isFiltered());else{const Q=Yt(e),pe=C.getNode().getImmediateChild(k);let Me;if(Et(Q))Me=o;else{const at=U.getCompleteChild(k);Me=null!=at?".priority"===ti(Q)&&at.getChild(tp(Q)).isEmpty()?at:at.updateChild(Q,o):ct.EMPTY_NODE}I=pe.equals(Me)?t:Xc(t,r.filter.updateChild(C.getNode(),k,Me,Q,U,g),C.isFullyInitialized(),r.filter.filtersNodes())}}return I}function ht(r,t){return r.eventCache.isCompleteForChild(t)}function Ep(r,t,e){return e.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function Nh(r,t,e,o,l,d,g,C){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let P,I=t;P=Et(e)?o:new Jt(null).setTree(e,o);const U=t.serverCache.getNode();return P.children.inorderTraversal((k,Q)=>{if(U.hasChild(k)){const Me=Ep(0,t.serverCache.getNode().getImmediateChild(k),Q);I=Rh(r,I,new jt(k),Me,l,d,g,C)}}),P.children.inorderTraversal((k,Q)=>{const pe=!t.serverCache.isCompleteForChild(k)&&void 0===Q.value;if(!U.hasChild(k)&&!pe){const at=Ep(0,t.serverCache.getNode().getImmediateChild(k),Q);I=Rh(r,I,new jt(k),at,l,d,g,C)}}),I}class u0{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new Nn(o.getIndex()),d=function Ls(r){return r.loadsAllData()?new Nn(r.getIndex()):r.hasLimit()?new qc(r):new qo(r)}(o);this.processor_=function o0(r){return{filter:r}}(d);const g=e.serverCache,C=e.eventCache,I=l.updateFullNode(ct.EMPTY_NODE,g.getNode(),null),P=d.updateFullNode(ct.EMPTY_NODE,C.getNode(),null),U=new Si(I,g.isFullyInitialized(),l.filtersNodes()),k=new Si(P,C.isFullyInitialized(),d.filtersNodes());this.viewCache_=Gu(k,U),this.eventGenerator_=new Yc(this.query_)}get query(){return this.query_}}function bp(r,t){const e=Za(r.viewCache_);return e&&(r.query._queryParams.loadsAllData()||!Et(t)&&!e.getImmediateChild(vt(t)).isEmpty())?e.getChild(t):null}function Ip(r){return 0===r.eventRegistrations_.length}function c0(r,t,e){const o=[];if(e){(0,R.hu)(null==t,"A cancel should cancel all event registrations.");const l=r.query._path;r.eventRegistrations_.forEach(d=>{const g=d.createCancelEvent(e,l);g&&o.push(g)})}if(t){let l=[];for(let d=0;d<r.eventRegistrations_.length;++d){const g=r.eventRegistrations_[d];if(g.matches(t)){if(t.hasAnyCallback()){l=l.concat(r.eventRegistrations_.slice(d+1));break}}else l.push(g)}r.eventRegistrations_=l}else r.eventRegistrations_=[];return o}function Tp(r,t,e,o){t.type===Ot.MERGE&&null!==t.source.queryId&&((0,R.hu)(Za(r.viewCache_),"We should always have a full cache before handling merges"),(0,R.hu)(Th(r.viewCache_),"Missing event cache, even though we have a server cache"));const l=r.viewCache_,d=function l0(r,t,e,o,l){const d=new Us;let g,C;if(e.type===Ot.OVERWRITE){const P=e;P.source.fromUser?g=Cp(r,t,P.path,P.snap,o,l,d):((0,R.hu)(P.source.fromServer,"Unknown source."),C=P.source.tagged||t.serverCache.isFiltered()&&!Et(P.path),g=Rh(r,t,P.path,P.snap,o,l,C,d))}else if(e.type===Ot.MERGE){const P=e;P.source.fromUser?g=function h_(r,t,e,o,l,d,g){let C=t;return o.foreach((I,P)=>{const U=sn(e,I);ht(t,vt(U))&&(C=Cp(r,C,U,P,l,d,g))}),o.foreach((I,P)=>{const U=sn(e,I);ht(t,vt(U))||(C=Cp(r,C,U,P,l,d,g))}),C}(r,t,P.path,P.children,o,l,d):((0,R.hu)(P.source.fromServer,"Unknown source."),C=P.source.tagged||t.serverCache.isFiltered(),g=Nh(r,t,P.path,P.children,o,l,C,d))}else if(e.type===Ot.ACK_USER_WRITE){const P=e;g=P.revert?function f_(r,t,e,o,l,d){let g;if(null!=id(o,e))return t;{const C=new vp(o,t,l),I=t.eventCache.getNode();let P;if(Et(e)||".priority"===vt(e)){let U;if(t.serverCache.isFullyInitialized())U=qu(o,Za(t));else{const k=t.serverCache.getNode();(0,R.hu)(k instanceof ct,"serverChildren would be complete if leaf node"),U=Oh(o,k)}U=U,P=r.filter.updateFullNode(I,U,d)}else{const U=vt(e);let k=xh(o,U,t.serverCache);null==k&&t.serverCache.isCompleteForChild(U)&&(k=I.getImmediateChild(U)),P=null!=k?r.filter.updateChild(I,U,k,Yt(e),C,d):t.eventCache.getNode().hasChild(U)?r.filter.updateChild(I,U,ct.EMPTY_NODE,Yt(e),C,d):I,P.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=qu(o,Za(t)),g.isLeafNode()&&(P=r.filter.updateFullNode(P,g,d)))}return g=t.serverCache.isFullyInitialized()||null!=id(o,Lt()),Xc(t,P,g,r.filter.filtersNodes())}}(r,t,P.path,o,l,d):function kh(r,t,e,o,l,d,g){if(null!=id(l,e))return t;const C=t.serverCache.isFiltered(),I=t.serverCache;if(null!=o.value){if(Et(e)&&I.isFullyInitialized()||I.isCompleteForPath(e))return Rh(r,t,e,I.getNode().getChild(e),l,d,C,g);if(Et(e)){let P=new Jt(null);return I.getNode().forEachChild(is,(U,k)=>{P=P.set(new jt(U),k)}),Nh(r,t,e,P,l,d,C,g)}return t}{let P=new Jt(null);return o.foreach((U,k)=>{const Q=sn(e,U);I.isCompleteForPath(Q)&&(P=P.set(U,I.getNode().getChild(Q)))}),Nh(r,t,e,P,l,d,C,g)}}(r,t,P.path,P.affectedTree,o,l,d)}else{if(e.type!==Ot.LISTEN_COMPLETE)throw(0,R.g5)("Unknown operation type: "+e.type);g=function Bs(r,t,e,o,l){const d=t.serverCache;return d_(r,t_(t,d.getNode(),d.isFullyInitialized()||Et(e),d.isFiltered()),e,o,yp,l)}(r,t,e.path,o,d)}const I=d.getChanges();return function c_(r,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=Th(r);(e.length>0||!r.eventCache.isFullyInitialized()||l&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&e.push(Zc(Th(t)))}}(t,g,I),{viewCache:g,changes:I}}(r.processor_,l,t,e,o);return function a0(r,t){(0,R.hu)(t.eventCache.getNode().isIndexed(r.filter.getIndex()),"Event snap not indexed"),(0,R.hu)(t.serverCache.getNode().isIndexed(r.filter.getIndex()),"Server snap not indexed")}(r.processor_,d.viewCache),(0,R.hu)(d.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),r.viewCache_=d.viewCache,sd(r,d.changes,d.viewCache.eventCache.getNode(),null)}function sd(r,t,e,o){return function Qc(r,t,e,o){const l=[],d=[];return t.forEach(g=>{"child_changed"===g.type&&r.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&d.push(function bh(r,t){return{type:"child_moved",snapshotNode:t,childName:r}}(g.childName,g.snapshotNode))}),mo(r,l,"child_removed",t,o,e),mo(r,l,"child_added",t,o,e),mo(r,l,"child_moved",d,o,e),mo(r,l,"child_changed",t,o,e),mo(r,l,"value",t,o,e),l}(r.eventGenerator_,t,e,o?[o]:r.eventRegistrations_)}let jl,Fh;class Lh{constructor(){this.views=new Map}}function Pp(r,t,e,o){const l=t.source.queryId;if(null!==l){const d=r.views.get(l);return(0,R.hu)(null!=d,"SyncTree gave us an op for an invalid query."),Tp(d,t,e,o)}{let d=[];for(const g of r.views.values())d=d.concat(Tp(g,t,e,o));return d}}function p_(r,t,e,o,l){const g=r.views.get(t._queryIdentifier);if(!g){let C=qu(e,l?o:null),I=!1;C?I=!0:o instanceof ct?(C=Oh(e,o),I=!1):(C=ct.EMPTY_NODE,I=!1);const P=Gu(new Si(C,I,!1),new Si(o,l,!1));return new u0(t,P)}return g}function Mp(r){const t=[];for(const e of r.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Hl(r,t){let e=null;for(const o of r.views.values())e=e||bp(o,t);return e}function g_(r,t){return t._queryParams.loadsAllData()?od(r):r.views.get(t._queryIdentifier)}function f0(r,t){return null!=g_(r,t)}function ea(r){return null!=od(r)}function od(r){for(const t of r.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let _w=1;class p0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Jt(null),this.pendingWriteTree_=function a_(){return{visibleWrites:Fs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function m_(r,t,e,o,l){return function r_(r,t,e,o,l){(0,R.hu)(o>r.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),r.allWrites.push({path:t,snap:e,writeId:o,visible:l}),l&&(r.visibleWrites=td(r.visibleWrites,t,e)),r.lastWriteId=o}(r.pendingWriteTree_,t,e,o,l),l?Ya(r,new Qo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function $l(r,t,e=!1){const o=function i_(r,t){for(let e=0;e<r.allWrites.length;e++){const o=r.allWrites[e];if(o.writeId===t)return o}return null}(r.pendingWriteTree_,t);if(function Sh(r,t){const e=r.allWrites.findIndex(C=>C.writeId===t);(0,R.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=r.allWrites[e];r.allWrites.splice(e,1);let l=o.visible,d=!1,g=r.allWrites.length-1;for(;l&&g>=0;){const C=r.allWrites[g];C.visible&&(g>=e&&Ph(C,o.path)?l=!1:ni(o.path,C.path)&&(d=!0)),g--}return!!l&&(d?(function s_(r){r.visibleWrites=_p(r.allWrites,mp,Lt()),r.lastWriteId=r.allWrites.length>0?r.allWrites[r.allWrites.length-1].writeId:-1}(r),!0):(o.snap?r.visibleWrites=hp(r.visibleWrites,o.path):Rn(o.children,I=>{r.visibleWrites=hp(r.visibleWrites,sn(o.path,I))}),!0))}(r.pendingWriteTree_,t)){let d=new Jt(null);return null!=o.snap?d=d.set(Lt(),!0):Rn(o.children,g=>{d=d.set(new jt(g),!0)}),Ya(r,new go(o.path,d,e))}return[]}function Uh(r,t,e){return Ya(r,new Qo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function _o(r,t,e,o){const l=t._path,d=r.syncPointTree_.get(l);let g=[];if(d&&("default"===t._queryIdentifier||f0(d,t))){const C=function h0(r,t,e,o){const l=t._queryIdentifier,d=[];let g=[];const C=ea(r);if("default"===l)for(const[I,P]of r.views.entries())g=g.concat(c0(P,e,o)),Ip(P)&&(r.views.delete(I),P.query._queryParams.loadsAllData()||d.push(P.query));else{const I=r.views.get(l);I&&(g=g.concat(c0(I,e,o)),Ip(I)&&(r.views.delete(l),I.query._queryParams.loadsAllData()||d.push(I.query)))}return C&&!ea(r)&&d.push(new(function Sp(){return(0,R.hu)(jl,"Reference.ts has not been loaded"),jl}())(t._repo,t._path)),{removed:d,events:g}}(d,t,e,o);(function gw(r){return 0===r.views.size})(d)&&(r.syncPointTree_=r.syncPointTree_.remove(l));const I=C.removed;g=C.events;const P=-1!==I.findIndex(k=>k._queryParams.loadsAllData()),U=r.syncPointTree_.findOnPath(l,(k,Q)=>ea(Q));if(P&&!U){const k=r.syncPointTree_.subtree(l);if(!k.isEmpty()){const Q=function m0(r){return r.fold((t,e,o)=>{if(e&&ea(e))return[od(e)];{let l=[];return e&&(l=Mp(e)),Rn(o,(d,g)=>{l=l.concat(g)}),l}})}(k);for(let pe=0;pe<Q.length;++pe){const Me=Q[pe],at=Me.query,xt=Np(r,Me);r.listenProvider_.startListening(na(at),Bh(r,at),xt.hashFn,xt.onComplete)}}}!U&&I.length>0&&!o&&(P?r.listenProvider_.stopListening(na(t),null):I.forEach(k=>{const Q=r.queryToTagMap.get(Yu(k));r.listenProvider_.stopListening(na(k),Q)})),function Qu(r,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const l=Yu(o),d=r.queryToTagMap.get(l);r.queryToTagMap.delete(l),r.tagToQueryMap.delete(d)}}}(r,I)}return g}function Rp(r,t,e){const o=t._path;let l=null,d=!1;r.syncPointTree_.foreachOnPath(o,(k,Q)=>{const pe=_r(k,o);l=l||Hl(Q,pe),d=d||ea(Q)});let C,g=r.syncPointTree_.get(o);g?(d=d||ea(g),l=l||Hl(g,Lt())):(g=new Lh,r.syncPointTree_=r.syncPointTree_.set(o,g)),null!=l?C=!0:(C=!1,l=ct.EMPTY_NODE,r.syncPointTree_.subtree(o).foreachChild((Q,pe)=>{const Me=Hl(pe,Lt());Me&&(l=l.updateImmediateChild(Q,Me))}));const I=f0(g,t);if(!I&&!t._queryParams.loadsAllData()){const k=Yu(t);(0,R.hu)(!r.queryToTagMap.has(k),"View does not exist, but we have a tag");const Q=function Fp(){return _w++}();r.queryToTagMap.set(k,Q),r.tagToQueryMap.set(Q,k)}let U=function d0(r,t,e,o,l,d){const g=p_(r,t,o,l,d);return r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,g),function Dp(r,t){r.eventRegistrations_.push(t)}(g,e),function pw(r,t){const e=r.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Qt,(d,g)=>{o.push(Ga(d,g))}),e.isFullyInitialized()&&o.push(Zc(e.getNode())),sd(r,o,e.getNode(),t)}(g,e)}(g,t,e,nd(r.pendingWriteTree_,o),l,C);if(!I&&!d){const k=g_(g,t);U=U.concat(function Ju(r,t,e){const o=t._path,l=Bh(r,t),d=Np(r,e),g=r.listenProvider_.startListening(na(t),l,d.hashFn,d.onComplete),C=r.syncPointTree_.subtree(o);if(l)(0,R.hu)(!ea(C.value),"If we're adding a query, it shouldn't be shadowed");else{const I=C.fold((P,U,k)=>{if(!Et(P)&&U&&ea(U))return[od(U).query];{let Q=[];return U&&(Q=Q.concat(Mp(U).map(pe=>pe.query))),Rn(k,(pe,Me)=>{Q=Q.concat(Me)}),Q}});for(let P=0;P<I.length;++P){const U=I[P];r.listenProvider_.stopListening(na(U),Bh(r,U))}}return g}(r,t,k))}return U}function Ku(r,t,e){const l=r.pendingWriteTree_,d=r.syncPointTree_.findOnPath(t,(g,C)=>{const P=Hl(C,_r(g,t));if(P)return P});return Mh(l,t,d,e,!0)}function Ya(r,t){return y_(t,r.syncPointTree_,null,nd(r.pendingWriteTree_,Lt()))}function y_(r,t,e,o){if(Et(r.path))return ta(r,t,e,o);{const l=t.get(Lt());null==e&&null!=l&&(e=Hl(l,Lt()));let d=[];const g=vt(r.path),C=r.operationForChild(g),I=t.children.get(g);if(I&&C){const P=e?e.getImmediateChild(g):null,U=l_(o,g);d=d.concat(y_(C,I,P,U))}return l&&(d=d.concat(Pp(l,r,o,e))),d}}function ta(r,t,e,o){const l=t.get(Lt());null==e&&null!=l&&(e=Hl(l,Lt()));let d=[];return t.children.inorderTraversal((g,C)=>{const I=e?e.getImmediateChild(g):null,P=l_(o,g),U=r.operationForChild(g);U&&(d=d.concat(ta(U,C,I,P)))}),l&&(d=d.concat(Pp(l,r,o,e))),d}function Np(r,t){const e=t.query,o=Bh(r,e);return{hashFn:()=>(function wp(r){return r.viewCache_.serverCache.getNode()}(t)||ct.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function Ew(r,t,e){const o=kp(r,e);if(o){const l=Vh(o),d=l.path,g=l.queryId,C=_r(d,t);return Lp(r,d,new Yo(za(g),C))}return[]}(r,e._path,o):function Cw(r,t){return Ya(r,new Yo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(r,e._path);{const d=function Du(r,t){let e="Unknown Error";"too_big"===r?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===r?e="Client doesn't have permission to access the desired data.":"unavailable"===r&&(e="The service is unavailable");const o=new Error(r+" at "+t._path.toString()+": "+e);return o.code=r.toUpperCase(),o}(l,e);return _o(r,e,null,d)}}}}function Bh(r,t){const e=Yu(t);return r.queryToTagMap.get(e)}function Yu(r){return r._path.toString()+"$"+r._queryIdentifier}function kp(r,t){return r.tagToQueryMap.get(t)}function Vh(r){const t=r.indexOf("$");return(0,R.hu)(-1!==t&&t<r.length-1,"Bad queryKey."),{queryId:r.substr(t+1),path:new jt(r.substr(0,t))}}function Lp(r,t,e){const o=r.syncPointTree_.get(t);return(0,R.hu)(o,"Missing sync point for query tag that we're tracking"),Pp(o,e,nd(r.pendingWriteTree_,t),null)}function na(r){return r._queryParams.loadsAllData()&&!r._queryParams.isDefault()?new(function mw(){return(0,R.hu)(Fh,"Reference.ts has not been loaded"),Fh}())(r._repo,r._path):r}class Wl{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Wl(e)}node(){return this.node_}}class Qa{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=sn(this.path_,t);return new Qa(this.syncTree_,e)}node(){return Ku(this.syncTree_,this.path_)}}const Up=function(r,t,e){return r&&"object"==typeof r?((0,R.hu)(".sv"in r,"Unexpected leaf node or priority contents"),"string"==typeof r[".sv"]?v_(r[".sv"],t,e):"object"==typeof r[".sv"]?Bp(r[".sv"],t):void(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2))):r},v_=function(r,t,e){if("timestamp"===r)return e.timestamp;(0,R.hu)(!1,"Unexpected server value: "+r)},Bp=function(r,t,e){r.hasOwnProperty("increment")||(0,R.hu)(!1,"Unexpected server value: "+JSON.stringify(r,null,2));const o=r.increment;"number"!=typeof o&&(0,R.hu)(!1,"Unexpected increment value: "+o);const l=t.node();if((0,R.hu)(null!=l,"Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const g=l.getValue();return"number"!=typeof g?o:g+o},jh=function(r,t,e,o){return Xu(t,new Qa(e,r),o)},Hh=function(r,t,e){return Xu(r,new Wl(t),e)};function Xu(r,t,e){const o=r.getPriority().val(),l=Up(o,t.getImmediateChild(".priority"),e);let d;if(r.isLeafNode()){const g=r,C=Up(g.getValue(),t,e);return C!==g.getValue()||l!==g.getPriority().val()?new Go(C,on(l)):r}{const g=r;return d=g,l!==g.getPriority().val()&&(d=d.updatePriority(new Go(l))),g.forEachChild(Qt,(C,I)=>{const P=Xu(I,t.getImmediateChild(C),e);P!==I&&(d=d.updateImmediateChild(C,P))}),d}}class Vp{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function ad(r,t){let e=t instanceof jt?t:new jt(t),o=r,l=vt(e);for(;null!==l;){const d=(0,R.DV)(o.node.children,l)||{children:{},childCount:0};o=new Vp(l,o,d),e=Yt(e),l=vt(e)}return o}function ec(r){return r.node.value}function $h(r,t){r.node.value=t,Hp(r)}function jp(r){return r.node.childCount>0}function ld(r,t){Rn(r.node.children,(e,o)=>{t(new Vp(e,r,o))})}function C_(r,t,e,o){e&&!o&&t(r),ld(r,l=>{C_(l,t,!0,o)}),e&&o&&t(r)}function vr(r){return new jt(null===r.parent?r.name:vr(r.parent)+"/"+r.name)}function Hp(r){null!==r.parent&&function C0(r,t,e){const o=function y0(r){return void 0===ec(r)&&!jp(r)}(e),l=(0,R.r3)(r.node.children,t);o&&l?(delete r.node.children[t],r.node.childCount--,Hp(r)):!o&&!l&&(r.node.children[t]=e.node,r.node.childCount++,Hp(r))}(r.parent,r.name,r)}const ww=/[\[\].#$\/\u0000-\u001F\u007F]/,bw=/[\[\].#$\u0000-\u001F\u007F]/,Wh=10485760,$p=function(r){return"string"==typeof r&&0!==r.length&&!ww.test(r)},E_=function(r){return"string"==typeof r&&0!==r.length&&!bw.test(r)},tc=function(r){return null===r||"string"==typeof r||"number"==typeof r&&!Lo(r)||r&&"object"==typeof r&&(0,R.r3)(r,".sv")},yo=function(r,t,e,o){o&&void 0===t||ud((0,R.gK)(r,"value"),t,e)},ud=function(r,t,e){const o=e instanceof jt?new rp(e,r):e;if(void 0===t)throw new Error(r+"contains undefined "+$o(o));if("function"==typeof t)throw new Error(r+"contains a function "+$o(o)+" with contents = "+t.toString());if(Lo(t))throw new Error(r+"contains "+t.toString()+" "+$o(o));if("string"==typeof t&&t.length>Wh/3&&(0,R.ug)(t)>Wh)throw new Error(r+"contains a string greater than "+Wh+" utf8 bytes "+$o(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,d=!1;if(Rn(t,(g,C)=>{if(".value"===g)l=!0;else if(".priority"!==g&&".sv"!==g&&(d=!0,!$p(g)))throw new Error(r+" contains an invalid key ("+g+") "+$o(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Xm(r,t){r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=(0,R.ug)(t),ip(r)})(o,g),ud(r,C,o),function Ho(r){const t=r.parts_.pop();r.byteLength_-=(0,R.ug)(t),r.parts_.length>0&&(r.byteLength_-=1)}(o)}),l&&d)throw new Error(r+' contains ".value" child '+$o(o)+" in addition to actual children.")}},Gp=function(r,t,e,o){if(o&&void 0===t)return;const l=(0,R.gK)(r,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const d=[];Rn(t,(g,C)=>{const I=new jt(g);if(ud(l,C,sn(e,I)),".priority"===ti(I)&&!tc(C))throw new Error(l+"contains an invalid value for '"+I.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(I)}),function(r,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const d=Fa(o);for(let g=0;g<d.length;g++)if((".priority"!==d[g]||g!==d.length-1)&&!$p(d[g]))throw new Error(r+"contains an invalid key ("+d[g]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(np);let l=null;for(e=0;e<t.length;e++){if(o=t[e],null!==l&&ni(l,o))throw new Error(r+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}}(l,d)},zp=function(r,t,e){if(!e||void 0!==t){if(Lo(t))throw new Error((0,R.gK)(r,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!tc(t))throw new Error((0,R.gK)(r,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},nc=function(r,t,e,o){if(!(o&&void 0===e||$p(e)))throw new Error((0,R.gK)(r,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},cd=function(r,t,e,o){if(!(o&&void 0===e||E_(e)))throw new Error((0,R.gK)(r,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Pi=function(r,t){if(".info"===vt(t))throw new Error(r+" failed = Can't modify data under /.info/")},Zp=function(r,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!$p(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(r){return r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),E_(r)}(e))throw new Error((0,R.gK)(r,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class b0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mi(r,t){let e=null;for(let o=0;o<t.length;o++){const l=t[o],d=l.getPath();null!==e&&!Nu(d,e.path)&&(r.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(l)}e&&r.eventLists_.push(e)}function dd(r,t,e){Mi(r,e),w_(r,o=>Nu(o,t))}function os(r,t,e){Mi(r,e),w_(r,o=>ni(o,t)||ni(t,o))}function w_(r,t){r.recursionDepth_++;let e=!0;for(let o=0;o<r.eventLists_.length;o++){const l=r.eventLists_[o];l&&(t(l.path)?(Iw(r.eventLists_[o]),r.eventLists_[o]=null):e=!1)}e&&(r.eventLists_=[]),r.recursionDepth_--}function Iw(r){for(let t=0;t<r.events.length;t++){const e=r.events[t];if(null!==e){r.events[t]=null;const o=e.getEventRunner();Ps&&dn("event: "+e.toString()),ts(o)}}}const qp="repo_interrupt";class D0{constructor(t,e,o,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new b0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=f(),this.transactionQueueTree_=new Vp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Gh(r){const e=r.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function hd(r){return function(r){return(r=r||{}).timestamp=r.timestamp||(new Date).getTime(),r}({timestamp:Gh(r)})}function b_(r,t,e,o,l){r.dataUpdateCount++;const d=new jt(t);e=r.interceptServerDataCallback_?r.interceptServerDataCallback_(t,e):e;let g=[];if(l)if(o){const I=(0,R.UI)(e,P=>on(P));g=function g0(r,t,e,o){const l=kp(r,o);if(l){const d=Vh(l),g=d.path,C=d.queryId,I=_r(g,t),P=Jt.fromObject(e);return Lp(r,g,new Hr(za(C),I,P))}return[]}(r.serverSyncTree_,d,I,l)}else{const I=on(e);g=function xp(r,t,e,o){const l=kp(r,o);if(null!=l){const d=Vh(l),g=d.path,C=d.queryId,I=_r(g,t);return Lp(r,g,new Qo(za(C),I,e))}return[]}(r.serverSyncTree_,d,I,l)}else if(o){const I=(0,R.UI)(e,P=>on(P));g=function vw(r,t,e){const o=Jt.fromObject(e);return Ya(r,new Hr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(r.serverSyncTree_,d,I)}else{const I=on(e);g=Uh(r.serverSyncTree_,d,I)}let C=d;g.length>0&&(C=Gl(r,d)),os(r.eventQueue_,C,g)}function fd(r,t){Yp(r,"connected",t),!1===t&&function S0(r){ii(r,"onDisconnectEvents");const t=hd(r),e=f();M(r.onDisconnect_,Lt(),(l,d)=>{const g=jh(l,d,r.serverSyncTree_,t);y(e,l,g)});let o=[];M(e,Lt(),(l,d)=>{o=o.concat(Uh(r.serverSyncTree_,l,d));const g=Kh(r,l);Gl(r,g)}),r.onDisconnect_=f(),os(r.eventQueue_,Lt(),o)}(r)}function Yp(r,t,e){const o=new jt("/.info/"+t),l=on(e);r.infoData_.updateSnapshot(o,l);const d=Uh(r.infoSyncTree_,o,l);os(r.eventQueue_,o,d)}function rc(r){return r.nextWriteId_++}function zh(r,t,e,o,l){ii(r,"set",{path:t.toString(),value:e,priority:o});const d=hd(r),g=on(e,o),C=Ku(r.serverSyncTree_,t),I=Hh(g,C,d),P=rc(r),U=m_(r.serverSyncTree_,t,I,P,!0);Mi(r.eventQueue_,U),r.server_.put(t.toString(),g.val(!0),(Q,pe)=>{const Me="ok"===Q;Me||fr("set at "+t+" failed: "+Q);const at=$l(r.serverSyncTree_,P,!Me);os(r.eventQueue_,t,at),Vs(0,l,Q,pe)});const k=Kh(r,t);Gl(r,k),os(r.eventQueue_,k,[])}function Jp(r,t,e){r.server_.onDisconnectCancel(t.toString(),(o,l)=>{"ok"===o&&D(r.onDisconnect_,t),Vs(0,e,o,l)})}function P0(r,t,e,o){const l=on(e);r.server_.onDisconnectPut(t.toString(),l.val(!0),(d,g)=>{"ok"===d&&y(r.onDisconnect_,t,l),Vs(0,o,d,g)})}function Zh(r,t,e){let o;o=".info"===vt(t._path)?_o(r.infoSyncTree_,t,e):_o(r.serverSyncTree_,t,e),dd(r.eventQueue_,t._path,o)}function Xp(r){r.persistentConnection_&&r.persistentConnection_.interrupt(qp)}function ii(r,...t){let e="";r.persistentConnection_&&(e=r.persistentConnection_.id+":"),dn(e,...t)}function Vs(r,t,e,o){t&&ts(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let d=l;o&&(d+=": "+o);const g=new Error(d);g.code=l,t(g)}})}function eg(r,t,e){return Ku(r.serverSyncTree_,t,e)||ct.EMPTY_NODE}function tg(r,t=r.transactionQueueTree_){if(t||pd(r,t),ec(t)){const e=A_(r,t);(0,R.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function ng(r,t,e){const o=e.map(P=>P.currentWriteId),l=eg(r,t,o);let d=l;const g=l.hash();for(let P=0;P<e.length;P++){const U=e[P];(0,R.hu)(0===U.status,"tryToSendTransactionQueue_: items in queue should all be run."),U.status=1,U.retryCount++;const k=_r(t,U.path);d=d.updateChild(k,U.currentOutputSnapshotRaw)}const C=d.val(!0),I=t;r.server_.put(I.toString(),C,P=>{ii(r,"transaction put response",{path:I.toString(),status:P});let U=[];if("ok"===P){const k=[];for(let Q=0;Q<e.length;Q++)e[Q].status=2,U=U.concat($l(r.serverSyncTree_,e[Q].currentWriteId)),e[Q].onComplete&&k.push(()=>e[Q].onComplete(null,!0,e[Q].currentOutputSnapshotResolved)),e[Q].unwatcher();pd(r,ad(r.transactionQueueTree_,t)),tg(r,r.transactionQueueTree_),os(r.eventQueue_,t,U);for(let Q=0;Q<k.length;Q++)ts(k[Q])}else{if("datastale"===P)for(let k=0;k<e.length;k++)e[k].status=3===e[k].status?4:0;else{fr("transaction at "+I.toString()+" failed: "+P);for(let k=0;k<e.length;k++)e[k].status=4,e[k].abortReason=P}Gl(r,t)}},g)}(r,vr(t),e)}else jp(t)&&ld(t,e=>{tg(r,e)})}function Gl(r,t){const e=ic(r,t),o=vr(e);return function rg(r,t,e){if(0===t.length)return;const o=[];let l=[];const g=t.filter(C=>0===C.status).map(C=>C.currentWriteId);for(let C=0;C<t.length;C++){const I=t[C],P=_r(e,I.path);let k,U=!1;if((0,R.hu)(null!==P,"rerunTransactionsUnderNode_: relativePath should not be null."),4===I.status)U=!0,k=I.abortReason,l=l.concat($l(r.serverSyncTree_,I.currentWriteId,!0));else if(0===I.status)if(I.retryCount>=25)U=!0,k="maxretry",l=l.concat($l(r.serverSyncTree_,I.currentWriteId,!0));else{const Q=eg(r,I.path,g);I.currentInputSnapshot=Q;const pe=t[C].update(Q.val());if(void 0!==pe){ud("transaction failed: Data returned ",pe,I.path);let Me=on(pe);"object"==typeof pe&&null!=pe&&(0,R.r3)(pe,".priority")||(Me=Me.updatePriority(Q.getPriority()));const xt=I.currentWriteId,Jn=hd(r),hn=Hh(Me,Q,Jn);I.currentOutputSnapshotRaw=Me,I.currentOutputSnapshotResolved=hn,I.currentWriteId=rc(r),g.splice(g.indexOf(xt),1),l=l.concat(m_(r.serverSyncTree_,I.path,hn,I.currentWriteId,I.applyLocally)),l=l.concat($l(r.serverSyncTree_,xt,!0))}else U=!0,k="nodata",l=l.concat($l(r.serverSyncTree_,I.currentWriteId,!0))}os(r.eventQueue_,e,l),l=[],U&&(t[C].status=2,setTimeout(t[C].unwatcher,Math.floor(0)),t[C].onComplete&&o.push("nodata"===k?()=>t[C].onComplete(null,!1,t[C].currentInputSnapshot):()=>t[C].onComplete(new Error(k),!1,null)))}pd(r,r.transactionQueueTree_);for(let C=0;C<o.length;C++)ts(o[C]);tg(r,r.transactionQueueTree_)}(r,A_(r,e),o),o}function ic(r,t){let e,o=r.transactionQueueTree_;for(e=vt(t);null!==e&&void 0===ec(o);)o=ad(o,e),e=vt(t=Yt(t));return o}function A_(r,t){const e=[];return qh(r,t,e),e.sort((o,l)=>o.order-l.order),e}function qh(r,t,e){const o=ec(t);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);ld(t,l=>{qh(r,l,e)})}function pd(r,t){const e=ec(t);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,$h(t,e.length>0?e:void 0)}ld(t,o=>{pd(r,o)})}function Kh(r,t){const e=vr(ic(r,t)),o=ad(r.transactionQueueTree_,t);return function v0(r,t,e){let o=e?r:r.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,l=>{Yh(r,l)}),Yh(r,o),C_(o,l=>{Yh(r,l)}),e}function Yh(r,t){const e=ec(t);if(e){const o=[];let l=[],d=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,R.hu)(d===g-1,"All SENT items should be at beginning of queue."),d=g,e[g].status=3,e[g].abortReason="set"):((0,R.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),l=l.concat($l(r.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&o.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===d?$h(t,void 0):e.length=d+1,os(r.eventQueue_,vr(t),l);for(let g=0;g<o.length;g++)ts(o[g])}}const sg=function(r,t){const e=R0(r),o=e.namespace;return"firebase.com"===e.domain&&wi(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&wi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&fr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Bo(e.host,e.secure,o,t,"ws"===e.scheme||"wss"===e.scheme,"",o!==e.subdomain),path:new jt(e.pathString)}},R0=function(r){let t="",e="",o="",l="",d="",g=!0,C="https",I=443;if("string"==typeof r){let P=r.indexOf("//");P>=0&&(C=r.substring(0,P-1),r=r.substring(P+2));let U=r.indexOf("/");-1===U&&(U=r.length);let k=r.indexOf("?");-1===k&&(k=r.length),t=r.substring(0,Math.min(U,k)),U<k&&(l=function x0(r){let t="";const e=r.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(d){}t+="/"+l}return t}(r.substring(U,k)));const Q=function ig(r){const t={};"?"===r.charAt(0)&&(r=r.substring(1));for(const e of r.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):fr(`Invalid query segment '${e}' in query '${r}'`)}return t}(r.substring(Math.min(r.length,k)));P=t.indexOf(":"),P>=0?(g="https"===C||"wss"===C,I=parseInt(t.substring(P+1),10)):P=t.length;const pe=t.slice(0,P);if("localhost"===pe.toLowerCase())e="localhost";else if(pe.split(".").length<=2)e=pe;else{const Me=t.indexOf(".");o=t.substring(0,Me).toLowerCase(),e=t.substring(Me+1),d=o}"ns"in Q&&(d=Q.ns)}return{host:t,port:I,domain:e,subdomain:o,secure:g,scheme:C,pathString:l,namespace:d}};class og{constructor(t,e,o,l){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,R.Pz)(this.snapshot.exportVal())}}class zl{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ag{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,R.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class S_{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new R.BH;return Jp(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Pi("OnDisconnect.remove",this._path);const t=new R.BH;return P0(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Pi("OnDisconnect.set",this._path),yo("OnDisconnect.set",t,this._path,!1);const e=new R.BH;return P0(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Pi("OnDisconnect.setWithPriority",this._path),yo("OnDisconnect.setWithPriority",t,this._path,!1),zp("OnDisconnect.setWithPriority",e,!1);const o=new R.BH;return function M0(r,t,e,o,l){const d=on(e,o);r.server_.onDisconnectPut(t.toString(),d.val(!0),(g,C)=>{"ok"===g&&y(r.onDisconnect_,t,d),Vs(0,l,g,C)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){Pi("OnDisconnect.update",this._path),Gp("OnDisconnect.update",t,this._path,!1);const e=new R.BH;return function I_(r,t,e,o){if((0,R.xb)(e))return dn("onDisconnect().update() called with empty data.  Don't do anything."),void Vs(0,o,"ok",void 0);r.server_.onDisconnectMerge(t.toString(),e,(l,d)=>{"ok"===l&&Rn(e,(g,C)=>{const I=on(C);y(r.onDisconnect_,sn(t,g),I)}),Vs(0,o,l,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class si{constructor(t,e,o,l){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return Et(this._path)?null:ti(this._path)}get ref(){return new as(this._repo,this._path)}get _queryIdentifier(){const t=Dh(this._queryParams),e=Fo(t);return"{}"===e?"default":e}get _queryObject(){return Dh(this._queryParams)}isEqual(t){if(!((t=(0,R.m9)(t))instanceof si))return!1;const e=this._repo===t._repo,o=Nu(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Nl(r){let t="";for(let e=r.pieceNum_;e<r.pieces_.length;e++)""!==r.pieces_[e]&&(t+="/"+encodeURIComponent(String(r.pieces_[e])));return t||"/"}(this._path)}}function ra(r,t){if(!0===r._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ja(r){let t=null,e=null;if(r.hasStart()&&(t=r.getIndexStartValue()),r.hasEnd()&&(e=r.getIndexEndValue()),r.getIndex()===is){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(r.hasStart()){if(r.getIndexStartName()!==Ji)throw new Error(o);if("string"!=typeof t)throw new Error(l)}if(r.hasEnd()){if(r.getIndexEndName()!==bi)throw new Error(o);if("string"!=typeof e)throw new Error(l)}}else if(r.getIndex()===Qt){if(null!=t&&!tc(t)||null!=e&&!tc(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,R.hu)(r.getIndex()instanceof yr||r.getIndex()===Fl,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Qh(r){if(r.hasStart()&&r.hasEnd()&&r.hasLimit()&&!r.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class as extends si{constructor(t,e){super(t,e,new Hu,!1)}get parent(){const t=tp(this._path);return null===t?null:new as(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Zl{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new jt(t),o=Xa(this.ref,t);return new Zl(this._node.getChild(e),o,Qt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>t(new Zl(l,Xa(this.ref,o),Qt)))}hasChild(t){const e=new jt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ls(r,t){return(r=(0,R.m9)(r))._checkNotDeleted("ref"),void 0!==t?Xa(r._root,t):r._root}function Jh(r,t){(r=(0,R.m9)(r))._checkNotDeleted("refFromURL");const e=sg(t,r._repo.repoInfo_.nodeAdmin);Zp("refFromURL",e);const o=e.repoInfo;return!r._repo.repoInfo_.isCustomHost()&&o.host!==r._repo.repoInfo_.host&&wi("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+r._repo.repoInfo_.host+")"),ls(r,e.path.toString())}function Xa(r,t){return null===vt((r=(0,R.m9)(r))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),cd("child","path",e,!1)):cd("child","path",t,!1),new as(r._repo,sn(r._path,t));var e}function lg(r,t){r=(0,R.m9)(r),Pi("set",r._path),yo("set",t,r._path,!1);const e=new R.BH;return zh(r._repo,r._path,t,null,e.wrapCallback(()=>{})),e.promise}function F0(r,t){Gp("update",t,r._path,!1);const e=new R.BH;return function A0(r,t,e,o){ii(r,"update",{path:t.toString(),value:e});let l=!0;const d=hd(r),g={};if(Rn(e,(C,I)=>{l=!1,g[C]=jh(sn(t,C),on(I),r.serverSyncTree_,d)}),l)dn("update() called with empty data.  Don't do anything."),Vs(0,o,"ok",void 0);else{const C=rc(r),I=function yw(r,t,e,o){!function gp(r,t,e,o){(0,R.hu)(o>r.lastWriteId,"Stacking an older merge on top of newer ones"),r.allWrites.push({path:t,children:e,writeId:o,visible:!0}),r.visibleWrites=Ah(r.visibleWrites,t,e),r.lastWriteId=o}(r.pendingWriteTree_,t,e,o);const l=Jt.fromObject(e);return Ya(r,new Hr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(r.serverSyncTree_,t,g,C);Mi(r.eventQueue_,I),r.server_.merge(t.toString(),e,(P,U)=>{const k="ok"===P;k||fr("update at "+t+" failed: "+P);const Q=$l(r.serverSyncTree_,C,!k),pe=Q.length>0?Gl(r,t):t;os(r.eventQueue_,pe,Q),Vs(0,o,P,U)}),Rn(e,P=>{const U=Kh(r,sn(t,P));Gl(r,U)}),os(r.eventQueue_,t,[])}}(r._repo,r._path,t,e.wrapCallback(()=>{})),e.promise}function O_(r){return function Qp(r,t){const e=function __(r,t){const e=t._path;let o=null;r.syncPointTree_.foreachOnPath(e,(P,U)=>{const k=_r(P,e);o=o||Hl(U,k)});let l=r.syncPointTree_.get(e);l?o=o||Hl(l,Lt()):(l=new Lh,r.syncPointTree_=r.syncPointTree_.set(e,l));const d=null!=o,g=d?new Si(o,!0,!1):null;return function Xo(r){return Th(r.viewCache_)}(p_(l,t,nd(r.pendingWriteTree_,t._path),d?g.getNode():ct.EMPTY_NODE,d))}(r.serverSyncTree_,t);return null!=e?Promise.resolve(e):r.server_.get(t).then(o=>{const l=on(o).withIndex(t._queryParams.getIndex()),d=Uh(r.serverSyncTree_,t._path,l);return dd(r.eventQueue_,t._path,d),Promise.resolve(l)},o=>(ii(r,"get for query "+(0,R.Pz)(t)+" failed: "+o),Promise.reject(new Error(o))))}((r=(0,R.m9)(r))._repo,r).then(t=>new Zl(t,new as(r._repo,r._path),r._queryParams.getIndex()))}class ug{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new og("value",this,new Zl(t.snapshotNode,new as(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new zl(this,t,e):null}matches(t){return t instanceof ug&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class gd{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new zl(this,t,e):null}createEvent(t,e){(0,R.hu)(null!=t.childName,"Child events should have a childName.");const o=Xa(new as(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new og(t.type,this,new Zl(t.snapshotNode,o,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof gd&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function md(r,t,e,o,l){let d;if("object"==typeof o&&(d=void 0,l=o),"function"==typeof o&&(d=o),l&&l.onlyOnce){const I=e,P=(U,k)=>{Zh(r._repo,r,C),I(U,k)};P.userCallback=e.userCallback,P.context=e.context,e=P}const g=new ag(e,d||void 0),C="value"===t?new ug(g):new gd(t,g);return function D_(r,t,e){let o;o=".info"===vt(t._path)?Rp(r.infoSyncTree_,t,e):Rp(r.serverSyncTree_,t,e),dd(r.eventQueue_,t._path,o)}(r._repo,r,C),()=>Zh(r._repo,r,C)}function cg(r,t,e,o){return md(r,"value",t,e,o)}function U0(r,t,e,o){return md(r,"child_added",t,e,o)}function B0(r,t,e,o){return md(r,"child_changed",t,e,o)}function Xh(r,t,e,o){return md(r,"child_moved",t,e,o)}function x_(r,t,e,o){return md(r,"child_removed",t,e,o)}function dg(r,t,e){let o=null;const l=e?new ag(e):null;"value"===t?o=new ug(l):t&&(o=new gd(t,l)),Zh(r._repo,r,o)}class us{}class V0 extends us{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yo("endAt",this._value,t._path,!0);const e=Vl(t._queryParams,this._value,this._key);if(Qh(e),Ja(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new si(t._repo,t._path,e,t._orderByCalled)}}class Dw extends us{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yo("endBefore",this._value,t._path,!1);const e=function cp(r,t,e){let o,l;return r.index_===is?("string"==typeof t&&(t=Ai(t)),l=Vl(r,t,e)):(o=null==e?Ji:Ai(e),l=Vl(r,t,o)),l.endBeforeSet_=!0,l}(t._queryParams,this._value,this._key);if(Qh(e),Ja(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new si(t._repo,t._path,e,t._orderByCalled)}}class hg extends us{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yo("startAt",this._value,t._path,!0);const e=$u(t._queryParams,this._value,this._key);if(Qh(e),Ja(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new si(t._repo,t._path,e,t._orderByCalled)}}class N_ extends us{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){yo("startAfter",this._value,t._path,!1);const e=function up(r,t,e){let o;if(r.index_===is)"string"==typeof t&&(t=wh(t)),o=$u(r,t,e);else{let l;l=null==e?bi:wh(e),o=$u(r,t,l)}return o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(Qh(e),Ja(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new si(t._repo,t._path,e,t._orderByCalled)}}class Aw extends us{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new si(t._repo,t._path,function Bl(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class L_ extends us{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new si(t._repo,t._path,function Kc(r,t){const e=r.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class fg extends us{constructor(t){super(),this._path=t}_apply(t){ra(t,"orderByChild");const e=new jt(this._path);if(Et(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new yr(e),l=Wu(t._queryParams,o);return Ja(l),new si(t._repo,t._path,l,!0)}}class W0 extends us{_apply(t){ra(t,"orderByKey");const e=Wu(t._queryParams,is);return Ja(e),new si(t._repo,t._path,e,!0)}}class z0 extends us{_apply(t){ra(t,"orderByPriority");const e=Wu(t._queryParams,Qt);return Ja(e),new si(t._repo,t._path,e,!0)}}class q0 extends us{_apply(t){ra(t,"orderByValue");const e=Wu(t._queryParams,Fl);return Ja(e),new si(t._repo,t._path,e,!0)}}class sc extends us{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(yo("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new V0(this._value,this._key)._apply(new hg(this._value,this._key)._apply(t))}}function $r(r,...t){let e=(0,R.m9)(r);for(const o of t)e=o._apply(e);return e}(function Ap(r){(0,R.hu)(!jl,"__referenceConstructor has already been defined"),jl=r})(as),function Op(r){(0,R.hu)(!Fh,"__referenceConstructor has already been defined"),Fh=r}(as);const pg={};function oc(r,t,e,o,l){let d=o||r.options.databaseURL;void 0===d&&(r.options.projectId||wi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dn("Using default host for project ",r.options.projectId),d=`${r.options.projectId}-default-rtdb.firebaseio.com`);let I,P,g=sg(d,l),C=g.repoInfo;"undefined"!=typeof process&&(P=process.env.FIREBASE_DATABASE_EMULATOR_HOST),P?(I=!0,d=`http://${P}?ns=${C.namespace}`,g=sg(d,l),C=g.repoInfo):I=!g.repoInfo.secure;const U=l&&I?new uo(uo.OWNER):new gr(r.name,r.options,t);Zp("Invalid Firebase Database URL",g),Et(g.path)||wi("Database URL must point to the root of a Firebase Database (not including a child path).");const k=function ql(r,t,e,o){let l=pg[t.name];l||(l={},pg[t.name]=l);let d=l[r.toURLString()];return d&&wi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new D0(r,false,e,o),l[r.toURLString()]=d,d}(C,r,U,new Al(r.name,e));return new cs(k,r)}class cs{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function T0(r,t,e){if(r.stats_=S(r.repoInfo_),r.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)r.server_=new m(r.repoInfo_,(o,l,d,g)=>{b_(r,o,l,d,g)},r.authTokenProvider_,r.appCheckProvider_),setTimeout(()=>fd(r,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,R.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}r.persistentConnection_=new Ba(r.repoInfo_,t,(o,l,d,g)=>{b_(r,o,l,d,g)},o=>{fd(r,o)},o=>{!function Kp(r,t){Rn(t,(e,o)=>{Yp(r,e,o)})}(r,o)},r.authTokenProvider_,r.appCheckProvider_,e),r.server_=r.persistentConnection_}r.authTokenProvider_.addTokenChangeListener(o=>{r.server_.refreshAuthToken(o)}),r.appCheckProvider_.addTokenChangeListener(o=>{r.server_.refreshAppCheckToken(o.token)}),r.statsReporter_=function L(r,t){const e=r.toString();return b[e]||(b[e]=t()),b[e]}(r.repoInfo_,()=>new qe(r.stats_,r.server_)),r.infoData_=new c,r.infoSyncTree_=new p0({startListening:(o,l,d,g)=>{let C=[];const I=r.infoData_.getNode(o._path);return I.isEmpty()||(C=Uh(r.infoSyncTree_,o._path,I),setTimeout(()=>{g("ok")},0)),C},stopListening:()=>{}}),Yp(r,"connected",!1),r.serverSyncTree_=new p0({startListening:(o,l,d,g)=>(r.server_.listen(o,d,l,(C,I)=>{const P=g(C,I);os(r.eventQueue_,o._path,P)}),[]),stopListening:(o,l)=>{r.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new as(this._repo,Lt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function xr(r,t){const e=pg[t];(!e||e[r.key]!==r)&&wi(`Database ${t}(${r.repoInfo_}) has already been deleted.`),Xp(r),delete e[r.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&wi("Cannot call "+t+" on a deleted database.")}}function cc(r,t){Ms(r,t)}const hc={".sv":"timestamp"};class gc{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ba.prototype.simpleListen=function(r,t){this.sendRequest("q",{p:r},t)},Ba.prototype.echo=function(r,t){this.sendRequest("echo",{d:r},t)},function dc(r){bu(Vr.SDK_VERSION),(0,Vr._registerComponent)(new hr.wA("database",(t,{instanceIdentifier:e})=>oc(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Vr.registerVersion)(Lc,"0.12.6",r),(0,Vr.registerVersion)(Lc,"0.12.6","esm2017")}();const j_=new ao.Yd("@firebase/database-compat"),gg=function(r){j_.warn("FIREBASE WARNING: "+r)};class X0{constructor(t){this._delegate=t}cancel(t){(0,R.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,R.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,R.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,R.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,R.Dv)("OnDisconnect.set",1,2,arguments.length),(0,R.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,R.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,R.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const l=this._delegate.setWithPriority(t,e);return o&&l.then(()=>o(null),d=>o(d)),l}update(t,e){if((0,R.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,gg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,R.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),l=>e(l)),o}}class W_{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,R.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class el{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,R.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,R.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,R.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,R.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,R.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),cd("DataSnapshot.child","path",t,!1),new el(this._database,this._delegate.child(t))}hasChild(t){return(0,R.Dv)("DataSnapshot.hasChild",1,1,arguments.length),cd("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,R.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,R.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,R.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new el(this._database,e)))}hasChildren(){return(0,R.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,R.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,R.Dv)("DataSnapshot.ref",0,0,arguments.length),new oi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Cr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,l){var d;(0,R.Dv)("Query.on",2,4,arguments.length),(0,R.Wj)("Query.on","callback",e,!1);const g=Cr.getCancelAndContextArgs_("Query.on",o,l),C=(P,U)=>{e.call(g.context,new el(this.database,P),U)};C.userCallback=e,C.context=g.context;const I=null===(d=g.cancel)||void 0===d?void 0:d.bind(g.context);switch(t){case"value":return cg(this._delegate,C,I),e;case"child_added":return U0(this._delegate,C,I),e;case"child_removed":return x_(this._delegate,C,I),e;case"child_changed":return B0(this._delegate,C,I),e;case"child_moved":return Xh(this._delegate,C,I),e;default:throw new Error((0,R.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,R.Dv)("Query.off",0,3,arguments.length),function(r,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,R.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,R.Wj)("Query.off","callback",e,!0),(0,R.lb)("Query.off","context",o,!0),e){const l=()=>{};l.userCallback=e,l.context=o,dg(this._delegate,t,l)}else dg(this._delegate,t)}get(){return O_(this._delegate).then(t=>new el(this.database,t))}once(t,e,o,l){(0,R.Dv)("Query.once",1,4,arguments.length),(0,R.Wj)("Query.once","callback",e,!0);const d=Cr.getCancelAndContextArgs_("Query.once",o,l),g=new R.BH,C=(P,U)=>{const k=new el(this.database,P);e&&e.call(d.context,k,U),g.resolve(k)};C.userCallback=e,C.context=d.context;const I=P=>{d.cancel&&d.cancel.call(d.context,P),g.reject(P)};switch(t){case"value":cg(this._delegate,C,I,{onlyOnce:!0});break;case"child_added":U0(this._delegate,C,I,{onlyOnce:!0});break;case"child_removed":x_(this._delegate,C,I,{onlyOnce:!0});break;case"child_changed":B0(this._delegate,C,I,{onlyOnce:!0});break;case"child_moved":Xh(this._delegate,C,I,{onlyOnce:!0});break;default:throw new Error((0,R.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,R.Dv)("Query.limitToFirst",1,1,arguments.length),new Cr(this.database,$r(this._delegate,function k_(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Aw(r)}(t)))}limitToLast(t){return(0,R.Dv)("Query.limitToLast",1,1,arguments.length),new Cr(this.database,$r(this._delegate,function H0(r){if("number"!=typeof r||Math.floor(r)!==r||r<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new L_(r)}(t)))}orderByChild(t){return(0,R.Dv)("Query.orderByChild",1,1,arguments.length),new Cr(this.database,$r(this._delegate,function $0(r){if("$key"===r)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===r)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===r)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return cd("orderByChild","path",r,!1),new fg(r)}(t)))}orderByKey(){return(0,R.Dv)("Query.orderByKey",0,0,arguments.length),new Cr(this.database,$r(this._delegate,function G0(){return new W0}()))}orderByPriority(){return(0,R.Dv)("Query.orderByPriority",0,0,arguments.length),new Cr(this.database,$r(this._delegate,function Z0(){return new z0}()))}orderByValue(){return(0,R.Dv)("Query.orderByValue",0,0,arguments.length),new Cr(this.database,$r(this._delegate,function ef(){return new q0}()))}startAt(t=null,e){return(0,R.Dv)("Query.startAt",0,2,arguments.length),new Cr(this.database,$r(this._delegate,function R_(r=null,t){return nc("startAt","key",t,!0),new hg(r,t)}(t,e)))}startAfter(t=null,e){return(0,R.Dv)("Query.startAfter",0,2,arguments.length),new Cr(this.database,$r(this._delegate,function j0(r,t){return nc("startAfter","key",t,!0),new N_(r,t)}(t,e)))}endAt(t=null,e){return(0,R.Dv)("Query.endAt",0,2,arguments.length),new Cr(this.database,$r(this._delegate,function js(r,t){return nc("endAt","key",t,!0),new V0(r,t)}(t,e)))}endBefore(t=null,e){return(0,R.Dv)("Query.endBefore",0,2,arguments.length),new Cr(this.database,$r(this._delegate,function Tw(r,t){return nc("endBefore","key",t,!0),new Dw(r,t)}(t,e)))}equalTo(t,e){return(0,R.Dv)("Query.equalTo",1,2,arguments.length),new Cr(this.database,$r(this._delegate,function K0(r,t){return nc("equalTo","key",t,!0),new sc(r,t)}(t,e)))}toString(){return(0,R.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,R.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,R.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Cr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const l={cancel:void 0,context:void 0};if(e&&o)l.cancel=e,(0,R.Wj)(t,"cancel",l.cancel,!0),l.context=o,(0,R.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,R.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new oi(this.database,new as(this._delegate._repo,this._delegate._path))}}class oi extends Cr{constructor(t,e){super(t,new si(e._repo,e._path,new Hu,!1)),this.database=t,this._delegate=e}getKey(){return(0,R.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,R.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new oi(this.database,Xa(this._delegate,t))}getParent(){(0,R.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new oi(this.database,t):null}getRoot(){return(0,R.Dv)("Reference.root",0,0,arguments.length),new oi(this.database,this._delegate.root)}set(t,e){(0,R.Dv)("Reference.set",1,2,arguments.length),(0,R.Wj)("Reference.set","onComplete",e,!0);const o=lg(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}update(t,e){if((0,R.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,gg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Pi("Reference.update",this._delegate._path),(0,R.Wj)("Reference.update","onComplete",e,!0);const o=F0(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,R.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,R.Wj)("Reference.setWithPriority","onComplete",o,!0);const l=function L0(r,t,e){if(Pi("setWithPriority",r._path),yo("setWithPriority",t,r._path,!1),zp("setWithPriority",e,!1),".length"===r.key||".keys"===r.key)throw"setWithPriority failed: "+r.key+" is a read-only object.";const o=new R.BH;return zh(r._repo,r._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&l.then(()=>o(null),d=>o(d)),l}remove(t){(0,R.Dv)("Reference.remove",0,1,arguments.length),(0,R.Wj)("Reference.remove","onComplete",t,!0);const e=function M_(r){return Pi("remove",r._path),lg(r,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,R.Dv)("Reference.transaction",1,3,arguments.length),(0,R.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,R.Wj)("Reference.transaction","onComplete",e,!0),function(r,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,R.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const l=function U_(r,t,e){var o;if(r=(0,R.m9)(r),Pi("Reference.transaction",r._path),".length"===r.key||".keys"===r.key)throw"Reference.transaction failed: "+r.key+" is a read-only object.";const l=null===(o=null==e?void 0:e.applyLocally)||void 0===o||o,d=new R.BH,C=cg(r,()=>{});return function O0(r,t,e,o,l,d){ii(r,"transaction on "+t);const g={path:t,update:e,onComplete:o,status:null,order:Ei(),applyLocally:d,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},C=eg(r,t,void 0);g.currentInputSnapshot=C;const I=g.update(C.val());if(void 0===I)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{ud("transaction failed: Data returned ",I,g.path),g.status=0;const P=ad(r.transactionQueueTree_,t),U=ec(P)||[];let k;U.push(g),$h(P,U),"object"==typeof I&&null!==I&&(0,R.r3)(I,".priority")?(k=(0,R.DV)(I,".priority"),(0,R.hu)(tc(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):k=(Ku(r.serverSyncTree_,t)||ct.EMPTY_NODE).getPriority().val();const Q=hd(r),pe=on(I,k),Me=Hh(pe,C,Q);g.currentOutputSnapshotRaw=pe,g.currentOutputSnapshotResolved=Me,g.currentWriteId=rc(r);const at=m_(r.serverSyncTree_,t,Me,g.currentWriteId,g.applyLocally);os(r.eventQueue_,t,at),tg(r,r.transactionQueueTree_)}}(r._repo,r._path,t,(I,P,U)=>{let k=null;I?d.reject(I):(k=new Zl(U,new as(r._repo,r._path),Qt),d.resolve(new gc(P,k)))},C,l),d.promise}(this._delegate,t,{applyLocally:o}).then(d=>new W_(d.committed,new el(this.database,d.snapshot)));return e&&l.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),l}setPriority(t,e){(0,R.Dv)("Reference.setPriority",1,2,arguments.length),(0,R.Wj)("Reference.setPriority","onComplete",e,!0);const o=function k0(r,t){r=(0,R.m9)(r),Pi("setPriority",r._path),zp("setPriority",t,!1);const e=new R.BH;return zh(r._repo,sn(r._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}push(t,e){(0,R.Dv)("Reference.push",0,2,arguments.length),(0,R.Wj)("Reference.push","onComplete",e,!0);const o=function P_(r,t){r=(0,R.m9)(r),Pi("push",r._path),yo("push",t,r._path,!0);const e=Gh(r._repo),o=Eh(e),l=Xa(r,o),d=Xa(r,o);let g;return g=null!=t?lg(d,t).then(()=>d):Promise.resolve(d),l.then=g.then.bind(g),l.catch=g.then.bind(g,void 0),l}(this._delegate,t),l=o.then(g=>new oi(this.database,g));e&&l.then(()=>e(null),g=>e(g));const d=new oi(this.database,o);return d.then=l.then.bind(l),d.catch=l.catch.bind(l,void 0),d}onDisconnect(){return Pi("Reference.onDisconnect",this._delegate._path),new X0(new S_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class _d{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,o={}){!function ac(r,t,e,o={}){(r=(0,R.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&wi("Cannot call useEmulator() after instance has already been initialized.");const l=r._repoInternal;let d;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&wi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new uo(uo.OWNER);else if(o.mockUserToken){const g="string"==typeof o.mockUserToken?o.mockUserToken:(0,R.Sg)(o.mockUserToken,r.app.options.projectId);d=new uo(g)}!function vo(r,t,e,o){r.repoInfo_=new Bo(`${t}:${e}`,!1,r.repoInfo_.namespace,r.repoInfo_.webSocketOnly,r.repoInfo_.nodeAdmin,r.repoInfo_.persistenceKey,r.repoInfo_.includeNamespaceInQueryParams),o&&(r.authTokenProvider_=o)}(l,t,e,d)}(this._delegate,t,e,o)}ref(t){if((0,R.Dv)("database.ref",0,1,arguments.length),t instanceof oi){const e=Jh(this._delegate,t.toString());return new oi(this,e)}{const e=ls(this._delegate,t);return new oi(this,e)}}refFromURL(t){(0,R.Dv)("database.refFromURL",1,1,arguments.length);const o=Jh(this._delegate,t);return new oi(this,o)}goOffline(){return(0,R.Dv)("database.goOffline",0,0,arguments.length),function lc(r){(r=(0,R.m9)(r))._checkNotDeleted("goOffline"),Xp(r._repo)}(this._delegate)}goOnline(){return(0,R.Dv)("database.goOnline",0,0,arguments.length),function uc(r){(r=(0,R.m9)(r))._checkNotDeleted("goOnline"),function T_(r){r.persistentConnection_&&r.persistentConnection_.resume(qp)}(r._repo)}(this._delegate)}}_d.ServerValue={TIMESTAMP:function fc(){return hc}(),increment:r=>function pc(r){return{".sv":{increment:r}}}(r)};var G_=Object.freeze({__proto__:null,initStandalone:function eC({app:r,url:t,version:e,customAuthImpl:o,namespace:l,nodeAdmin:d=!1}){bu(e);const g=new hr.zt("auth-internal",new hr.H0("database-standalone"));return g.setComponent(new hr.wA("auth-internal",()=>o,"PRIVATE")),{instance:new _d(oc(r,g,void 0,t,d),r),namespace:l}}});const tC=_d.ServerValue;!function z_(r){r.INTERNAL.registerComponent(new hr.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new _d(l,o)},"PUBLIC").setServiceProps({Reference:oi,Query:Cr,Database:_d,DataSnapshot:el,enableLogging:cc,INTERNAL:G_,ServerValue:tC}).setMultipleInstances(!0)),r.registerVersion("@firebase/database-compat","0.1.6")}(Tl.Z);var tl=O(7579),rf=O(5363),Sw=O(6063);class nC extends tl.x{constructor(t=1/0,e=1/0,o=Sw.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:d,_windowTime:g}=this;e||(o.push(t),!l&&o.push(d.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:l}=this,d=l.slice();for(let g=0;g<d.length&&!t.closed;g+=o?1:2)t.next(d[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:l}=this,d=(l?1:2)*t;if(t<1/0&&d<o.length&&o.splice(0,o.length-d),!l){const g=e.now();let C=0;for(let I=1;I<o.length&&o[I]<=g;I+=2)C=I;C&&o.splice(0,C+1)}}}function sf(r,t,e){let o,l=!1;return r&&"object"==typeof r?({bufferSize:o=1/0,windowTime:t=1/0,refCount:l=!1,scheduler:e}=r):o=null!=r?r:1/0,(0,Wt.B)({connector:()=>new nC(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}const of=(0,O(3888).d)(r=>function(){r(this),this.name="EmptyError",this.message="no elements in sequence"});function mc(r,t){return(0,tn.e)((e,o)=>{let l=0;e.subscribe((0,Tn.x)(o,d=>r.call(t,d,l++)&&o.next(d)))})}var Z_=O(5698);function rC(r){return(0,tn.e)((t,e)=>{let o=!1;t.subscribe((0,Tn.x)(e,l=>{o=!0,e.next(l)},()=>{o||e.next(r),e.complete()}))})}function q_(r=K_){return(0,tn.e)((t,e)=>{let o=!1;t.subscribe((0,Tn.x)(e,l=>{o=!0,e.next(l)},()=>o?e.complete():e.error(r())))})}function K_(){return new of}function _c(r,t){const e=arguments.length>=2;return o=>o.pipe(r?mc((l,d)=>r(l,d,o)):Yi.y,(0,Z_.q)(1),e?rC(t):q_(()=>new of))}var _g=O(576);function Kl(r,t){return(0,_g.m)(t)?nn(()=>r,t):nn(()=>r)}var yg=O(9468);O(5867);const X_=new Map,Rw={activated:!1,tokenObservers:[]},yd={initialized:!1,enabled:!1};function Qn(r){return X_.get(r)||Rw}function Oi(r,t){X_.set(r,t)}function yc(){return yd}class bg{constructor(t,e,o,l,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,vi.Z)(function*(){e.stop();try{e.pending=new R.BH,yield function Ig(r){return new Promise(t=>{setTimeout(t,r)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new R.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Rr=new R.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Dg(r){if(!Qn(r).activated)throw Rr.create("use-before-activation",{appName:r.name})}function Tg(r,t){return df.apply(this,arguments)}function df(){return(df=(0,vi.Z)(function*({url:r,body:t},e){const o={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const k=yield l.getHeartbeatsHeader();k&&(o["X-Firebase-Client"]=k)}const d={method:"POST",body:JSON.stringify(t),headers:o};let g,C;try{g=yield fetch(r,d)}catch(k){throw Rr.create("fetch-network-error",{originalErrorMessage:k.message})}if(200!==g.status)throw Rr.create("fetch-status-error",{httpStatus:g.status});try{C=yield g.json()}catch(k){throw Rr.create("fetch-parse-error",{originalErrorMessage:k.message})}const I=C.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Rr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${C.ttl}`});const P=1e3*Number(I[1]),U=Date.now();return{token:C.attestationToken,expireTimeMillis:U+P,issuedAtTimeMillis:U}})).apply(this,arguments)}function ry(r,t){const{projectId:e,appId:o,apiKey:l}=r.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${o}:exchangeDebugToken?key=${l}`,body:{debug_token:t}}}const Ed="firebase-app-check-store";let Cc=null;function Pg(){return Cc||(Cc=new Promise((r,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=o=>{r(o.target.result)},e.onerror=o=>{var l;t(Rr.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Ed,{keyPath:"compositeKey"})}}catch(e){t(Rr.create("storage-open",{originalErrorMessage:e.message}))}}),Cc)}function hf(){return(hf=(0,vi.Z)(function*(r,t){const o=(yield Pg()).transaction(Ed,"readwrite"),d=o.objectStore(Ed).put({compositeKey:r,value:t});return new Promise((g,C)=>{d.onsuccess=I=>{g()},o.onerror=I=>{var P;C(Rr.create("storage-set",{originalErrorMessage:null===(P=I.target.error)||void 0===P?void 0:P.message}))}})})).apply(this,arguments)}const wd=new ao.Yd("@firebase/app-check");function Vn(r,t){return(0,R.hl)()?function sy(r,t){return function Mg(r,t){return hf.apply(this,arguments)}(function uy(r){return`${r.options.appId}-${r.name}`}(r),t)}(r,t).catch(e=>{wd.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function hy(){return yc().enabled}function Ng(){return kg.apply(this,arguments)}function kg(){return(kg=(0,vi.Z)(function*(){const r=yc();if(r.enabled&&r.token)return r.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const py={error:"UNKNOWN_ERROR"};function Ec(r){return R.US.encodeString(JSON.stringify(r),!1)}function ff(r){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,vi.Z)(function*(r,t=!1){const e=r.app;Dg(e);const o=Qn(e);let d,l=o.token;if(!l){const I=yield o.cachedTokenPromise;I&&bd(I)&&(l=I)}if(!t&&l&&bd(l))return{token:l.token};let C,g=!1;if(hy()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Tg(ry(e,yield Ng()),r.heartbeatServiceProvider).then(P=>(o.exchangeTokenPromise=void 0,P)),g=!0);const I=yield o.exchangeTokenPromise;return yield Vn(e,I),Oi(e,Object.assign(Object.assign({},o),{token:I})),{token:I.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(I=>(o.exchangeTokenPromise=void 0,I)),g=!0),l=yield o.exchangeTokenPromise}catch(I){"appCheck/throttled"===I.code?wd.warn(I.message):wd.error(I),d=I}return l?(C={token:l.token},Oi(e,Object.assign(Object.assign({},o),{token:l})),yield Vn(e,l)):C=Co(d),g&&Bg(e,C),C})).apply(this,arguments)}function Fg(r,t){const e=Qn(r),o=e.tokenObservers.filter(l=>l.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Oi(r,Object.assign(Object.assign({},e),{tokenObservers:o}))}function Ug(r){const{app:t}=r,e=Qn(t);let o=e.tokenRefresher;o||(o=function Nw(r){const{app:t}=r;return new bg((0,vi.Z)(function*(){let o;if(o=Qn(t).token?yield ff(r,!0):yield ff(r),o.error)throw o.error}),()=>!0,()=>{const e=Qn(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(r),Oi(t,Object.assign(Object.assign({},e),{tokenRefresher:o}))),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function Bg(r,t){const e=Qn(r).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch(l){}}function bd(r){return r.expireTimeMillis-Date.now()>0}function Co(r){return{token:Ec(py),error:r}}class pC{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Qn(this.app);for(const e of t)Fg(this.app,e.next);return Promise.resolve()}}const Gg="app-check-internal";!function Ey(){(0,Vr._registerComponent)(new hr.wA("app-check",r=>function gC(r,t){return new pC(r,t)}(r.getProvider("app").getImmediate(),r.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((r,t,e)=>{r.getProvider(Gg).initialize()})),(0,Vr._registerComponent)(new hr.wA(Gg,r=>function Eo(r){return{getToken:t=>ff(r,t),addTokenListener:t=>function pf(r,t,e,o){const{app:l}=r,d=Qn(l),g={next:e,error:o,type:t};if(Oi(l,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,g]})),d.token&&bd(d.token)){const C=d.token;Promise.resolve().then(()=>{e({token:C.token}),Ug(r)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Ug(r))}(r,"INTERNAL",t),removeTokenListener:t=>Fg(r.app,t)}}(r.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vr.registerVersion)("@firebase/app-check","0.5.4")}();class Zg{constructor(){return(0,rn.vb)("app-check")}}"undefined"!=typeof window&&window;var AC=O(127);const Kg=new p.OlP("angularfire2.auth.use-emulator"),Yg=new p.OlP("angularfire2.auth.settings"),Qg=new p.OlP("angularfire2.auth.tenant-id"),Jg=new p.OlP("angularfire2.auth.langugage-code"),Xg=new p.OlP("angularfire2.auth.use-device-language"),em=new p.OlP("angularfire.auth.persistence"),tm=(r,t,e,o,l,d,g,C)=>(0,_i.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const I=t.runOutsideAngular(()=>r.auth());if(e&&I.useEmulator(...e),o&&(I.tenantId=o),I.languageCode=l,d&&I.useDeviceLanguage(),g)for(const[P,U]of Object.entries(g))I.settings[P]=U;return C&&I.setPersistence(C),I},[e,o,l,d,g,C]);let nm=(()=>{class r{constructor(e,o,l,d,g,C,I,P,U,k,Q,pe){const Me=new tl.x,at=et(void 0).pipe((0,rf.Q)(g.outsideAngular),nn(()=>d.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,2092)))),(0,St.U)(()=>(0,_i.on)(e,d,o)),(0,St.U)(xt=>tm(xt,d,C,P,U,k,I,Q)),sf({bufferSize:1,refCount:!1}));if(function Wn(r){return"server"===r}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{at.pipe(_c()).subscribe();const Jn=at.pipe(nn(_n=>_n.getRedirectResult().then(gs=>gs,()=>null)),rn.iC,sf({bufferSize:1,refCount:!1})),hn=at.pipe(nn(_n=>new Qr.y(gs=>({unsubscribe:d.runOutsideAngular(()=>_n.onAuthStateChanged(su=>gs.next(su),su=>gs.error(su),()=>gs.complete()))})))),kr=at.pipe(nn(_n=>new Qr.y(gs=>({unsubscribe:d.runOutsideAngular(()=>_n.onIdTokenChanged(su=>gs.next(su),su=>gs.error(su),()=>gs.complete()))}))));this.authState=Jn.pipe(Kl(hn),(0,yg.R)(g.outsideAngular),(0,rf.Q)(g.insideAngular)),this.user=Jn.pipe(Kl(kr),(0,yg.R)(g.outsideAngular),(0,rf.Q)(g.insideAngular)),this.idToken=this.user.pipe(nn(_n=>_n?(0,En.D)(_n.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(nn(_n=>_n?(0,En.D)(_n.getIdTokenResult()):et(null))),this.credential=(0,Ki.T)(Jn,Me,this.authState.pipe(mc(_n=>!_n))).pipe((0,St.U)(_n=>(null==_n?void 0:_n.user)?_n:null),(0,yg.R)(g.outsideAngular),(0,rf.Q)(g.insideAngular))}return(0,_i.pX)(this,at,d,{spy:{apply:(xt,Jn,hn)=>{(xt.startsWith("signIn")||xt.startsWith("createUser"))&&hn.then(kr=>Me.next(kr))}}})}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(_i.Dh),p.LFG(_i.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(rn.HU),p.LFG(Kg,8),p.LFG(Yg,8),p.LFG(Qg,8),p.LFG(Jg,8),p.LFG(Xg,8),p.LFG(em,8),p.LFG(Zg,8))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function nl(r){return null==r}function Iy(r){return"function"==typeof r.set}function Dy(r,t){return Iy(t)?t:r.ref(t)}function Ql(r,t){if(function wy(r){return"string"==typeof r}(r))return t.stringCase();if(Iy(r))return t.firebaseCase();if(function by(r){return"function"==typeof r.exportVal}(r))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof r)}function yf(r,t,e="on",o=qn.z){return new Qr.y(l=>{let d=null;return d=r[e](t,(g,C)=>{o.schedule(()=>{l.next({snapshot:g,prevKey:C})}),"once"===e&&o.schedule(()=>l.complete())},g=>{o.schedule(()=>l.error(g))}),"on"===e?{unsubscribe(){null!=d&&r.off(t,d)}}:{unsubscribe(){}}}).pipe((0,St.U)(l=>{const{snapshot:d,prevKey:g}=l;let C=null;return d.exists()&&(C=d.key),{type:t,payload:d,prevKey:g,key:C}}),(0,Wt.B)())}function MC(r,t){const e=r.length;for(let o=0;o<e;o++)if(r[o].payload.key===t)return o;return-1}function Ay(r,t){const{payload:e,prevKey:o,key:l}=t,d=MC(r,l),g=function Ty(r,t){if(nl(t))return 0;{const e=MC(r,t);return-1===e?r.length:e+1}}(r,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let C=null;t.payload.forEach(I=>{const P={payload:I,type:"value",prevKey:C,key:I.key};return C=I.key,r=[...r,P],!1})}return r;case"child_added":if(d>-1){const C=r[d-1];(C&&C.key||null)!==o&&(r=r.filter(I=>I.payload.key!==e.key)).splice(g,0,t)}else{if(null==o)return[t,...r];(r=r.slice()).splice(g,0,t)}return r;case"child_removed":return r.filter(C=>C.payload.key!==e.key);case"child_changed":return r.map(C=>C.payload.key===l?t:C);case"child_moved":if(d>-1){const C=r.splice(d,1)[0];return(r=r.slice()).splice(g,0,C),r}return r;default:return r}}function OC(r){return(nl(r)||0===r.length)&&(r=["child_added","child_removed","child_changed","child_moved"]),r}function rt(r,t,e){return function rm(r,t,e){return yf(r,"value","once",e).pipe(nn(o=>{const l=[et(o)];return t.forEach(d=>l.push(yf(r,d,"on",e))),(0,Ki.T)(...l).pipe(ko(Ay,[]))}),function kc(r,t=Yi.y){return r=null!=r?r:ro,(0,tn.e)((e,o)=>{let l,d=!0;e.subscribe((0,Tn.x)(o,g=>{const C=t(g);(d||!r(l,C))&&(d=!1,l=C,o.next(g))}))})}())}(r,t=OC(t),e)}function Sy(r,t,e){const o=(t=OC(t)).map(l=>yf(r,l,"on",e));return(0,Ki.T)(...o)}function Py(r,t){return function(o,l){return Ql(o,{stringCase:()=>r.child(o)[t](l),firebaseCase:()=>o[t](l),snapshotCase:()=>o.ref[t](l)})}}function Cf(r){return function(e){return e?Ql(e,{stringCase:()=>r.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):r.remove()}}function bn(r,t){return function(){return yf(r,"value","on",t)}}const My=new p.OlP("angularfire2.realtimeDatabaseURL"),NC=new p.OlP("angularfire2.database.use-emulator");let Td=(()=>{class r{constructor(e,o,l,d,g,C,I,P,U,k,Q,pe,Me,at,xt){this.schedulers=C;const Jn=I,hn=(0,_i.on)(e,g,o);P&&tm(hn,g,U,Q,pe,Me,k,at),this.database=(0,_i.cc)(`${hn.name}.database.${l}`,"AngularFireDatabase",hn.name,()=>{const kr=g.runOutsideAngular(()=>hn.database(l||void 0));return Jn&&kr.useEmulator(...Jn),kr},[Jn])}list(e,o){const l=this.schedulers.ngZone.runOutsideAngular(()=>Dy(this.database,e));let d=l;return o&&(d=o(l)),function Ef(r,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>r.ref);return{query:r,update:Py(o,"update"),set:Py(o,"set"),push:l=>o.push(l),remove:Cf(o),snapshotChanges:l=>rt(r,l,e).pipe(rn.iC),stateChanges:l=>Sy(r,l,e).pipe(rn.iC),auditTrail:l=>function xC(r,t,e){return function vf(r,t,e){return function RC(r,t){return yf(r,"value","on",t).pipe((0,St.U)(e=>{let o;return e.payload.forEach(l=>(o=l.key,!1)),{data:e,lastKeyToLoad:o}}))}(r,e).pipe(function yi(...r){const t=(0,nr.jO)(r);return(0,tn.e)((e,o)=>{const l=r.length,d=new Array(l);let g=r.map(()=>!1),C=!1;for(let I=0;I<l;I++)(0,Sa.Xf)(r[I]).subscribe((0,Tn.x)(o,P=>{d[I]=P,!C&&!g[I]&&(g[I]=!0,(C=g.every(Yi.y))&&(g=null))},io.Z));e.subscribe((0,Tn.x)(o,I=>{if(C){const P=[I,...d];o.next(t?t(...P):P)}}))})}(t),(0,St.U)(([l,d])=>{const g=l.lastKeyToLoad,C=d.map(I=>I.key);return{actions:d,lastKeyToLoad:g,loadedKeys:C}}),function so(r){return(0,tn.e)((t,e)=>{let o=!1,l=0;t.subscribe((0,Tn.x)(e,d=>(o||(o=!r(d,l++)))&&e.next(d)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,St.U)(l=>l.actions))}(r,Sy(r,t).pipe(ko((l,d)=>[...l,d],[])),e)}(r,l,e).pipe(rn.iC),valueChanges:(l,d)=>rt(r,l,e).pipe((0,St.U)(C=>C.map(I=>d&&d.idField?Object.assign(Object.assign({},I.payload.val()),{[d.idField]:I.key}):I.payload.val())),rn.iC)}}(d,this)}object(e){return function Gw(r,t){return{query:r,snapshotChanges:()=>bn(r,t.schedulers.outsideAngular)().pipe(rn.iC),update:e=>r.ref.update(e),set:e=>r.ref.set(e),remove:()=>r.ref.remove(),valueChanges:()=>bn(r,t.schedulers.outsideAngular)().pipe(rn.iC,(0,St.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>Dy(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(_i.Dh),p.LFG(_i.xv,8),p.LFG(My,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(rn.HU),p.LFG(NC,8),p.LFG(nm,8),p.LFG(Kg,8),p.LFG(Yg,8),p.LFG(Qg,8),p.LFG(Jg,8),p.LFG(Xg,8),p.LFG(em,8),p.LFG(Zg,8))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Oy=(()=>{class r{constructor(){AC.Z.registerVersion("angularfire",rn.q4.full,"rtdb-compat")}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({providers:[Td]}),r})();class ds extends tl.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:o}=this;if(t)throw e;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}}const{isArray:xy}=Array,{getPrototypeOf:Ry,prototype:kC,keys:LC}=Object;const{isArray:UC}=Array;var Ny=O(9672);function ky(...r){const t=(0,nr.yG)(r),e=(0,nr.jO)(r),{args:o,keys:l}=function FC(r){if(1===r.length){const t=r[0];if(xy(t))return{args:t,keys:null};if(function Ad(r){return r&&"object"==typeof r&&Ry(r)===kC}(t)){const e=LC(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:r,keys:null}}(r);if(0===o.length)return(0,En.D)([],t);const d=new Qr.y(function Ly(r,t,e=Yi.y){return o=>{Fy(t,()=>{const{length:l}=r,d=new Array(l);let g=l,C=l;for(let I=0;I<l;I++)Fy(t,()=>{const P=(0,En.D)(r[I],t);let U=!1;P.subscribe((0,Tn.x)(o,k=>{d[I]=k,U||(U=!0,C--),C||o.next(e(d.slice()))},()=>{--g||o.complete()}))},o)},o)}}(o,t,l?g=>function wf(r,t){return r.reduce((e,o,l)=>(e[o]=t[l],e),{})}(l,g):Yi.y));return e?d.pipe(function VC(r){return(0,St.U)(t=>function BC(r,t){return UC(t)?r(...t):r(t)}(r,t))}(e)):d}function Fy(r,t,e){r?(0,Ny.f)(e,r,t):t()}function rl(r,t){const e=(0,_g.m)(r)?r:()=>r,o=l=>l.error(e());return new Qr.y(t?l=>t.schedule(o,0,l):o)}var il=O(8189);function im(...r){return function jC(){return(0,il.J)(1)}()((0,En.D)(r,(0,nr.yG)(r)))}function Uy(r){return new Qr.y(t=>{(0,Sa.Xf)(r()).subscribe(t)})}var Jl=O(515),sm=O(727);function om(){return(0,tn.e)((r,t)=>{let e=null;r._refCount++;const o=(0,Tn.x)(t,void 0,void 0,void 0,()=>{if(!r||r._refCount<=0||0<--r._refCount)return void(e=null);const l=r._connection,d=e;e=null,l&&(!d||l===d)&&l.unsubscribe(),t.unsubscribe()});r.subscribe(o),o.closed||(e=r.connect())})}class HC extends Qr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,tn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new sm.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Tn.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=sm.w0.EMPTY)}return t}refCount(){return om()(this)}}function sl(r){return(0,tn.e)((t,e)=>{let d,o=null,l=!1;o=t.subscribe((0,Tn.x)(e,void 0,void 0,g=>{d=(0,Sa.Xf)(r(g,sl(r)(t))),o?(o.unsubscribe(),o=null,d.subscribe(e)):l=!0})),l&&(o.unsubscribe(),o=null,d.subscribe(e))})}var Nr=O(5577);function bf(r,t){return(0,_g.m)(t)?(0,Nr.z)(r,t,1):(0,Nr.z)(r,1)}function Vy(r){return r<=0?()=>Jl.E:(0,tn.e)((t,e)=>{let o=[];t.subscribe((0,Tn.x)(e,l=>{o.push(l),r<o.length&&o.shift()},()=>{for(const l of o)e.next(l);e.complete()},void 0,()=>{o=null}))})}var hs=O(8505);class fs{constructor(t,e){this.id=t,this.url=e}}class am extends fs{constructor(t,e,o="imperative",l=null){super(t,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sd extends fs{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lm extends fs{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pd extends fs{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class $C extends fs{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WC extends fs{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GC extends fs{constructor(t,e,o,l,d){super(t,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zC extends fs{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZC extends fs{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class um{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hy{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qC{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wc{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KC{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $y{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wy{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Tt="primary";class YC{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xl(r){return new YC(r)}const Gy="ngNavigationCancelingError";function Md(r){const t=Error("NavigationCancelingError: "+r);return t[Gy]=!0,t}function zy(r,t,e){const o=e.path.split("/");if(o.length>r.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<r.length))return null;const l={};for(let d=0;d<o.length;d++){const g=o[d],C=r[d];if(g.startsWith(":"))l[g.substring(1)]=C;else if(g!==C.path)return null}return{consumed:r.slice(0,o.length),posParams:l}}function wo(r,t){const e=r?Object.keys(r):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let d=0;d<e.length;d++)if(l=e[d],!qy(r[l],t[l]))return!1;return!0}function qy(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;const e=[...r].sort(),o=[...t].sort();return e.every((l,d)=>o[d]===l)}return r===t}function Ky(r){return Array.prototype.concat.apply([],r)}function If(r){return r.length>0?r[r.length-1]:null}function ir(r,t){for(const e in r)r.hasOwnProperty(e)&&t(r[e],e)}function bo(r){return(0,p.CqO)(r)?r:(0,p.QGY)(r)?(0,En.D)(Promise.resolve(r)):et(r)}const XC={exact:function Jy(r,t,e){if(!tu(r.segments,t.segments)||!Df(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!r.children[o]||!Jy(r.children[o],t.children[o],e))return!1;return!0},subset:cm},Yy={exact:function eE(r,t){return wo(r,t)},subset:function tE(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>qy(r[e],t[e]))},ignored:()=>!0};function Qy(r,t,e){return XC[e.paths](r.root,t.root,e.matrixParams)&&Yy[e.queryParams](r.queryParams,t.queryParams)&&!("exact"===e.fragment&&r.fragment!==t.fragment)}function cm(r,t,e){return dm(r,t,t.segments,e)}function dm(r,t,e,o){if(r.segments.length>e.length){const l=r.segments.slice(0,e.length);return!(!tu(l,e)||t.hasChildren()||!Df(l,e,o))}if(r.segments.length===e.length){if(!tu(r.segments,e)||!Df(r.segments,e,o))return!1;for(const l in t.children)if(!r.children[l]||!cm(r.children[l],t.children[l],o))return!1;return!0}{const l=e.slice(0,r.segments.length),d=e.slice(r.segments.length);return!!(tu(r.segments,l)&&Df(r.segments,l,o)&&r.children[Tt])&&dm(r.children[Tt],t,d,o)}}function Df(r,t,e){return t.every((o,l)=>Yy[e](r[l].parameters,o.parameters))}class eu{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xl(this.queryParams)),this._queryParamMap}toString(){return pm.serialize(this)}}class Pt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ir(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Af(this)}}class Od{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Xl(this.parameters)),this._parameterMap}toString(){return mm(this)}}function tu(r,t){return r.length===t.length&&r.every((e,o)=>e.path===t[o].path)}class Tf{}class fm{parse(t){const e=new ev(t);return new eu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${xd(t.root,!0)}`,o=function iE(r){const t=Object.keys(r).map(e=>{const o=r[e];return Array.isArray(o)?o.map(l=>`${Pf(e)}=${Pf(l)}`).join("&"):`${Pf(e)}=${Pf(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${o}${"string"==typeof t.fragment?`#${function rE(r){return encodeURI(r)}(t.fragment)}`:""}`}}const pm=new fm;function Af(r){return r.segments.map(t=>mm(t)).join("/")}function xd(r,t){if(!r.hasChildren())return Af(r);if(t){const e=r.children[Tt]?xd(r.children[Tt],!1):"",o=[];return ir(r.children,(l,d)=>{d!==Tt&&o.push(`${d}:${xd(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function hm(r,t){let e=[];return ir(r.children,(o,l)=>{l===Tt&&(e=e.concat(t(o,l)))}),ir(r.children,(o,l)=>{l!==Tt&&(e=e.concat(t(o,l)))}),e}(r,(o,l)=>l===Tt?[xd(r.children[Tt],!1)]:[`${l}:${xd(o,!1)}`]);return 1===Object.keys(r.children).length&&null!=r.children[Tt]?`${Af(r)}/${e[0]}`:`${Af(r)}/(${e.join("//")})`}}function Sf(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pf(r){return Sf(r).replace(/%3B/gi,";")}function gm(r){return Sf(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rd(r){return decodeURIComponent(r)}function Xy(r){return Rd(r.replace(/\+/g,"%20"))}function mm(r){return`${gm(r.path)}${function qw(r){return Object.keys(r).map(t=>`;${gm(t)}=${gm(r[t])}`).join("")}(r.parameters)}`}const Mf=/^[^\/()?;=#]+/;function Of(r){const t=r.match(Mf);return t?t[0]:""}const bc=/^[^=?&#]+/,sE=/^[^&#]+/;class ev{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[Tt]=new Pt(t,e)),o}parseSegment(){const t=Of(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Od(Rd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Of(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=Of(this.remaining);l&&(o=l,this.capture(o))}t[Rd(e)]=Rd(o)}parseQueryParam(t){const e=function Nd(r){const t=r.match(bc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const g=function Kw(r){const t=r.match(sE);return t?t[0]:""}(this.remaining);g&&(o=g,this.capture(o))}const l=Xy(e),d=Xy(o);if(t.hasOwnProperty(l)){let g=t[l];Array.isArray(g)||(g=[g],t[l]=g),g.push(d)}else t[l]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Of(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=Tt);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[Tt]:new Pt([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class tv{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=_m(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=_m(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ym(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return ym(t,this._root).map(e=>e.value)}}function _m(r,t){if(r===t.value)return t;for(const e of t.children){const o=_m(r,e);if(o)return o}return null}function ym(r,t){if(r===t.value)return[t];for(const e of t.children){const o=ym(r,e);if(o.length)return o.unshift(t),o}return[]}class ia{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function nu(r){const t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}class vm extends tv{constructor(t,e){super(t),this.snapshot=e,Cm(this,t)}toString(){return this.snapshot.toString()}}function xf(r,t){const e=function Rf(r,t){const g=new kd([],{},{},"",{},Tt,t,null,r.root,-1,{});return new iv("",new ia(g,[]))}(r,t),o=new ds([new Od("",{})]),l=new ds({}),d=new ds({}),g=new ds({}),C=new ds(""),I=new Io(o,l,g,C,d,Tt,t,e.root);return I.snapshot=e.root,new vm(new ia(I,[]),e)}class Io{constructor(t,e,o,l,d,g,C,I){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=g,this.component=C,this._futureSnapshot=I}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(t=>Xl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(t=>Xl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nv(r,t="emptyOnly"){const e=r.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const l=e[o],d=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(d.component)break;o--}}return function rv(r){return r.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class kd{constructor(t,e,o,l,d,g,C,I,P,U,k){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=g,this.component=C,this.routeConfig=I,this._urlSegment=P,this._lastPathIndex=U,this._resolve=k}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iv extends tv{constructor(t,e){super(e),this.url=t,Cm(this,e)}toString(){return Nf(this._root)}}function Cm(r,t){t.value._routerState=r,t.children.forEach(e=>Cm(r,e))}function Nf(r){const t=r.children.length>0?` { ${r.children.map(Nf).join(", ")} } `:"";return`${r.value}${t}`}function Em(r){if(r.snapshot){const t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,wo(t.queryParams,e.queryParams)||r.queryParams.next(e.queryParams),t.fragment!==e.fragment&&r.fragment.next(e.fragment),wo(t.params,e.params)||r.params.next(e.params),function Zy(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!wo(r[e],t[e]))return!1;return!0}(t.url,e.url)||r.url.next(e.url),wo(t.data,e.data)||r.data.next(e.data)}else r.snapshot=r._futureSnapshot,r.data.next(r._futureSnapshot.data)}function sv(r,t){const e=wo(r.params,t.params)&&function nE(r,t){return tu(r,t)&&r.every((e,o)=>wo(e.parameters,t[o].parameters))}(r.url,t.url);return e&&!(!r.parent!=!t.parent)&&(!r.parent||sv(r.parent,t.parent))}function Ld(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const l=function Ic(r,t,e){return t.children.map(o=>{for(const l of e.children)if(r.shouldReuseRoute(o.value,l.value.snapshot))return Ld(r,o,l);return Ld(r,o)})}(r,t,e);return new ia(o,l)}{if(r.shouldAttach(t.value)){const d=r.retrieve(t.value);if(null!==d){const g=d.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(C=>Ld(r,C)),g}}const o=function ov(r){return new Io(new ds(r.url),new ds(r.params),new ds(r.queryParams),new ds(r.fragment),new ds(r.data),r.outlet,r.component,r)}(t.value),l=t.children.map(d=>Ld(r,d));return new ia(o,l)}}function wm(r){return"object"==typeof r&&null!=r&&!r.outlets&&!r.segmentPath}function Tc(r){return"object"==typeof r&&null!=r&&r.outlets}function bm(r,t,e,o,l){let d={};if(o&&ir(o,(C,I)=>{d[I]=Array.isArray(C)?C.map(P=>`${P}`):`${C}`}),r===t)return new eu(e,d,l);const g=aE(r,t,e);return new eu(g,d,l)}function aE(r,t,e){const o={};return ir(r.children,(l,d)=>{o[d]=l===t?e:aE(l,t,e)}),new Pt(r.segments,o)}class Im{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&wm(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(Tc);if(l&&l!==If(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kf{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function lv(r,t,e){if(r||(r=new Pt([],{})),0===r.segments.length&&r.hasChildren())return Lf(r,t,e);const o=function uE(r,t,e){let o=0,l=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<r.segments.length;){if(o>=e.length)return d;const g=r.segments[l],C=e[o];if(Tc(C))break;const I=`${C}`,P=o<e.length-1?e[o+1]:null;if(l>0&&void 0===I)break;if(I&&P&&"object"==typeof P&&void 0===P.outlets){if(!cv(I,P,g))return d;o+=2}else{if(!cv(I,{},g))return d;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(r,t,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<r.segments.length){const d=new Pt(r.segments.slice(0,o.pathIndex),{});return d.children[Tt]=new Pt(r.segments.slice(o.pathIndex),r.children),Lf(d,0,l)}return o.match&&0===l.length?new Pt(r.segments,{}):o.match&&!r.hasChildren()?Tm(r,t,e):o.match?Lf(r,0,l):Tm(r,t,e)}function Lf(r,t,e){if(0===e.length)return new Pt(r.segments,{});{const o=function av(r){return Tc(r[0])?r[0].outlets:{[Tt]:r}}(e),l={};return ir(o,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[g]=lv(r.children[g],t,d))}),ir(r.children,(d,g)=>{void 0===o[g]&&(l[g]=d)}),new Pt(r.segments,l)}}function Tm(r,t,e){const o=r.segments.slice(0,t);let l=0;for(;l<e.length;){const d=e[l];if(Tc(d)){const I=cE(d.outlets);return new Pt(o,I)}if(0===l&&wm(e[0])){o.push(new Od(r.segments[t].path,uv(e[0]))),l++;continue}const g=Tc(d)?d.outlets[Tt]:`${d}`,C=l<e.length-1?e[l+1]:null;g&&C&&wm(C)?(o.push(new Od(g,uv(C))),l+=2):(o.push(new Od(g,{})),l++)}return new Pt(o,{})}function cE(r){const t={};return ir(r,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=Tm(new Pt([],{}),0,e))}),t}function uv(r){const t={};return ir(r,(e,o)=>t[o]=`${e}`),t}function cv(r,t,e){return r==e.path&&wo(t,e.parameters)}class Fd{constructor(t,e,o,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),Em(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const l=nu(e);t.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,l[g],o),delete l[g]}),ir(l,(d,g)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(l===d)if(l.component){const g=o.getContext(l.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,o);else d&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,d=nu(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);if(o&&o.outlet){const g=o.outlet.detach(),C=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:C})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,d=nu(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const l=nu(e);t.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],o),this.forwardEvent(new $y(d.value.snapshot))}),t.children.length&&this.forwardEvent(new wc(t.value.snapshot))}activateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(Em(l),l===d)if(l.component){const g=o.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,o);else if(l.component){const g=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const C=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),g.children.onOutletReAttached(C.contexts),g.attachRef=C.componentRef,g.route=C.route.value,g.outlet&&g.outlet.attach(C.componentRef,C.route.value),Em(C.route.value),this.activateChildRoutes(t,null,g.children)}else{const C=function dv(r){for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),I=C?C.module.componentFactoryResolver:null;g.attachRef=null,g.route=l,g.resolver=I,g.outlet&&g.outlet.activateWith(l,I),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,o)}}class Ff{constructor(t,e){this.routes=t,this.module=e}}function sa(r){return"function"==typeof r}function ol(r){return r instanceof eu}const Ud=Symbol("INITIAL_VALUE");function Bd(){return nn(r=>ky(r.map(t=>t.pipe((0,Z_.q)(1),function By(...r){const t=(0,nr.yG)(r);return(0,tn.e)((e,o)=>{(t?im(r,e,t):im(r,e)).subscribe(o)})}(Ud)))).pipe(ko((t,e)=>{let o=!1;return e.reduce((l,d,g)=>l!==Ud?l:(d===Ud&&(o=!0),o||!1!==d&&g!==e.length-1&&!ol(d)?l:d),t)},Ud),mc(t=>t!==Ud),(0,St.U)(t=>ol(t)?t:!0===t),(0,Z_.q)(1)))}class mE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new oa,this.attachRef=null}}class oa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new mE,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Am=(()=>{class r{constructor(e,o,l,d,g){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=d||Tt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),C=this.parentContexts.getOrCreateContext(this.name).children,I=new Sm(e,C,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,I),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(oa),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},r.\u0275dir=p.lG2({type:r,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),r})();class Sm{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===Io?this.route:t===oa?this.childContexts:this.parent.get(t,e)}}let Ws=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=p.Xpm({type:r,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&p._UZ(0,"router-outlet")},directives:[Am],encapsulation:2}),r})();function fv(r,t=""){for(let e=0;e<r.length;e++){const o=r[e];Pm(o,Vd(t,o))}}function Pm(r,t){r.children&&fv(r.children,t)}function Vd(r,t){return t?r||t.path?r&&!t.path?`${r}/`:!r&&t.path?t.path:`${r}/${t.path}`:"":r}function Mm(r){const t=r.children&&r.children.map(Mm),e=t?Object.assign(Object.assign({},r),{children:t}):Object.assign({},r);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Tt&&(e.component=Ws),e}function ps(r){return r.outlet||Tt}function pv(r,t){const e=r.filter(o=>ps(o)===t);return e.push(...r.filter(o=>ps(o)!==t)),e}const jd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ru(r,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(r.hasChildren()||e.length>0)?Object.assign({},jd):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const d=(t.matcher||zy)(e,r,t);if(!d)return Object.assign({},jd);const g={};ir(d.posParams,(I,P)=>{g[P]=I.path});const C=d.consumed.length>0?Object.assign(Object.assign({},g),d.consumed[d.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:d.consumed,remainingSegments:e.slice(d.consumed.length),parameters:C,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function Uf(r,t,e,o,l="corrected"){if(e.length>0&&function mv(r,t,e){return e.some(o=>Hd(r,t,o)&&ps(o)!==Tt)}(r,e,o)){const g=new Pt(t,function gv(r,t,e,o){const l={};l[Tt]=o,o._sourceSegment=r,o._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&ps(d)!==Tt){const g=new Pt([],{});g._sourceSegment=r,g._segmentIndexShift=t.length,l[ps(d)]=g}return l}(r,t,o,new Pt(e,r.children)));return g._sourceSegment=r,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function Om(r,t,e){return e.some(o=>Hd(r,t,o))}(r,e,o)){const g=new Pt(r.segments,function _E(r,t,e,o,l,d){const g={};for(const C of o)if(Hd(r,e,C)&&!l[ps(C)]){const I=new Pt([],{});I._sourceSegment=r,I._segmentIndexShift="legacy"===d?r.segments.length:t.length,g[ps(C)]=I}return Object.assign(Object.assign({},l),g)}(r,t,e,o,r.children,l));return g._sourceSegment=r,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const d=new Pt(r.segments,r.children);return d._sourceSegment=r,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function Hd(r,t,e){return(!(r.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function _v(r,t,e,o){return!!(ps(r)===o||o!==Tt&&Hd(t,e,r))&&("**"===r.path||ru(t,r,e).matched)}function yv(r,t,e){return 0===t.length&&!r.children[e]}class xm{constructor(t){this.segmentGroup=t||null}}class Bf{constructor(t){this.urlTree=t}}function iu(r){return rl(new xm(r))}function Rm(r){return rl(new Bf(r))}class vE{constructor(t,e,o,l,d){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=t.get(p.h0i)}apply(){const t=Uf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Tt).pipe((0,St.U)(d=>this.createUrlTree(Lm(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(sl(d=>{if(d instanceof Bf)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof xm?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Tt).pipe((0,St.U)(l=>this.createUrlTree(Lm(l),t.queryParams,t.fragment))).pipe(sl(l=>{throw l instanceof xm?this.noMatchError(l):l}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const l=t.segments.length>0?new Pt([],{[Tt]:t}):t;return new eu(l,e,o)}expandSegmentGroup(t,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,St.U)(d=>new Pt([],d))):this.expandSegment(t,o,e,o.segments,l,!0)}expandChildren(t,e,o){const l=[];for(const d of Object.keys(o.children))"primary"===d?l.unshift(d):l.push(d);return(0,En.D)(l).pipe(bf(d=>{const g=o.children[d],C=pv(e,d);return this.expandSegmentGroup(t,C,g,d).pipe((0,St.U)(I=>({segment:I,outlet:d})))}),ko((d,g)=>(d[g.outlet]=g.segment,d),{}),function zw(r,t){const e=arguments.length>=2;return o=>o.pipe(r?mc((l,d)=>r(l,d,o)):Yi.y,Vy(1),e?rC(t):q_(()=>new of))}())}expandSegment(t,e,o,l,d,g){return(0,En.D)(o).pipe(bf(C=>this.expandSegmentAgainstRoute(t,e,o,C,l,d,g).pipe(sl(P=>{if(P instanceof xm)return et(null);throw P}))),_c(C=>!!C),sl((C,I)=>{if(C instanceof of||"EmptyError"===C.name)return yv(e,l,d)?et(new Pt([],{})):iu(e);throw C}))}expandSegmentAgainstRoute(t,e,o,l,d,g,C){return _v(l,e,d,g)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,d,g):C&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g):iu(e):iu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,l,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,l){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Rm(d):this.lineralizeSegments(o,d).pipe((0,Nr.z)(g=>{const C=new Pt(g,{});return this.expandSegment(t,C,e,g,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g){const{matched:C,consumedSegments:I,remainingSegments:P,positionalParamSegments:U}=ru(e,l,d);if(!C)return iu(e);const k=this.applyRedirectCommands(I,l.redirectTo,U);return l.redirectTo.startsWith("/")?Rm(k):this.lineralizeSegments(l,k).pipe((0,Nr.z)(Q=>this.expandSegment(t,e,o,Q.concat(P),g,!1)))}matchSegmentAgainstRoute(t,e,o,l,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?et(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,St.U)(k=>(o._loadedConfig=k,new Pt(l,{})))):et(new Pt(l,{}));const{matched:g,consumedSegments:C,remainingSegments:I}=ru(e,o,l);return g?this.getChildConfig(t,o,l).pipe((0,Nr.z)(U=>{const k=U.module,Q=U.routes,{segmentGroup:pe,slicedSegments:Me}=Uf(e,C,I,Q),at=new Pt(pe.segments,pe.children);if(0===Me.length&&at.hasChildren())return this.expandChildren(k,Q,at).pipe((0,St.U)(kr=>new Pt(C,kr)));if(0===Q.length&&0===Me.length)return et(new Pt(C,{}));const xt=ps(o)===d;return this.expandSegment(k,at,Q,Me,xt?Tt:d,!0).pipe((0,St.U)(hn=>new Pt(C.concat(hn.segments),hn.children)))})):iu(e)}getChildConfig(t,e,o){return e.children?et(new Ff(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?et(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,Nr.z)(l=>l?this.configLoader.load(t.injector,e).pipe((0,St.U)(d=>(e._loadedConfig=d,d))):function km(r){return rl(Md(`Cannot load children because the guard of the route "path: '${r.path}'" returned false`))}(e))):et(new Ff([],t))}runCanLoadGuards(t,e,o){const l=e.canLoad;return l&&0!==l.length?et(l.map(g=>{const C=t.get(g);let I;if(function hE(r){return r&&sa(r.canLoad)}(C))I=C.canLoad(e,o);else{if(!sa(C))throw new Error("Invalid CanLoad guard");I=C(e,o)}return bo(I)})).pipe(Bd(),(0,hs.b)(g=>{if(!ol(g))return;const C=Md(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw C.url=g,C}),(0,St.U)(g=>!0===g)):et(!0)}lineralizeSegments(t,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return et(o);if(l.numberOfChildren>1||!l.children[Tt])return rl(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));l=l.children[Tt]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,l){const d=this.createSegmentGroup(t,e.root,o,l);return new eu(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return ir(t,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const C=l.substring(1);o[d]=e[C]}else o[d]=l}),o}createSegmentGroup(t,e,o,l){const d=this.createSegments(t,e.segments,o,l);let g={};return ir(e.children,(C,I)=>{g[I]=this.createSegmentGroup(t,C,o,l)}),new Pt(d,g)}createSegments(t,e,o,l){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,l):this.findOrReturn(d,o))}findPosParam(t,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return l}findOrReturn(t,e){let o=0;for(const l of e){if(l.path===t.path)return e.splice(o),l;o++}return t}}function Lm(r){const t={};for(const o of Object.keys(r.children)){const d=Lm(r.children[o]);(d.segments.length>0||d.hasChildren())&&(t[o]=d)}return function CE(r){if(1===r.numberOfChildren&&r.children[Tt]){const t=r.children[Tt];return new Pt(r.segments.concat(t.segments),t.children)}return r}(new Pt(r.segments,t))}class Vf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $d{constructor(t,e){this.component=t,this.route=e}}function Cv(r,t,e){const o=r._root;return Ac(o,t?t._root:null,e,[o.value])}function Wd(r,t,e){const o=function EE(r){if(!r)return null;for(let t=r.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(r)}function Ac(r,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=nu(t);return r.children.forEach(g=>{(function wv(r,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=r.value,g=t?t.value:null,C=e?e.getContext(r.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const I=function wE(r,t,e){if("function"==typeof e)return e(r,t);switch(e){case"pathParamsChange":return!tu(r.url,t.url);case"pathParamsOrQueryParamsChange":return!tu(r.url,t.url)||!wo(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!sv(r,t)||!wo(r.queryParams,t.queryParams);default:return!sv(r,t)}}(g,d,d.routeConfig.runGuardsAndResolvers);I?l.canActivateChecks.push(new Vf(o)):(d.data=g.data,d._resolvedData=g._resolvedData),Ac(r,t,d.component?C?C.children:null:e,o,l),I&&C&&C.outlet&&C.outlet.isActivated&&l.canDeactivateChecks.push(new $d(C.outlet.component,g))}else g&&Sc(t,C,l),l.canActivateChecks.push(new Vf(o)),Ac(r,null,d.component?C?C.children:null:e,o,l)})(g,d[g.value.outlet],e,o.concat([g.value]),l),delete d[g.value.outlet]}),ir(d,(g,C)=>Sc(g,e.getContext(C),l)),l}function Sc(r,t,e){const o=nu(r),l=r.value;ir(o,(d,g)=>{Sc(d,l.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new $d(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}class Fm{}function bv(r){return new Qr.y(t=>t.error(r))}class AE{constructor(t,e,o,l,d,g){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g}recognize(){const t=Uf(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Tt);if(null===e)return null;const o=new kd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new ia(o,e),d=new iv(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(t){const e=t.value,o=nv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const d of Object.keys(e.children)){const g=e.children[d],C=pv(t,d),I=this.processSegmentGroup(C,g,d);if(null===I)return null;o.push(...I)}const l=Bm(o);return function SE(r){r.sort((t,e)=>t.value.outlet===Tt?-1:e.value.outlet===Tt?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l}processSegment(t,e,o,l){for(const d of t){const g=this.processSegmentAgainstRoute(d,e,o,l);if(null!==g)return g}return yv(e,o,l)?[]:null}processSegmentAgainstRoute(t,e,o,l){if(t.redirectTo||!_v(t,e,o,l))return null;let d,g=[],C=[];if("**"===t.path){const pe=o.length>0?If(o).parameters:{};d=new kd(o,pe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jm(t),ps(t),t.component,t,jf(e),PE(e)+o.length,Tv(t))}else{const pe=ru(e,t,o);if(!pe.matched)return null;g=pe.consumedSegments,C=pe.remainingSegments,d=new kd(g,pe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,jm(t),ps(t),t.component,t,jf(e),PE(e)+g.length,Tv(t))}const I=function Um(r){return r.children?r.children:r.loadChildren?r._loadedConfig.routes:[]}(t),{segmentGroup:P,slicedSegments:U}=Uf(e,g,C,I.filter(pe=>void 0===pe.redirectTo),this.relativeLinkResolution);if(0===U.length&&P.hasChildren()){const pe=this.processChildren(I,P);return null===pe?null:[new ia(d,pe)]}if(0===I.length&&0===U.length)return[new ia(d,[])];const k=ps(t)===l,Q=this.processSegment(I,P,U,k?Tt:l);return null===Q?null:[new ia(d,Q)]}}function Dv(r){const t=r.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Bm(r){const t=[],e=new Set;for(const o of r){if(!Dv(o)){t.push(o);continue}const l=t.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):t.push(o)}for(const o of e){const l=Bm(o.children);t.push(new ia(o.value,l))}return t.filter(o=>!e.has(o))}function jf(r){let t=r;for(;t._sourceSegment;)t=t._sourceSegment;return t}function PE(r){let t=r,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function jm(r){return r.data||{}}function Tv(r){return r.resolve||{}}function $f(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Pv(r){return nn(t=>{const e=r(t);return e?(0,En.D)(e).pipe((0,St.U)(()=>t)):et(t)})}class Mv extends class xE{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Wf=new p.OlP("ROUTES");class Ov{constructor(t,e,o,l){this.injector=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,St.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=d.create(t);return new Ff(Ky(g.injector.get(Wf,void 0,p.XFs.Self|p.XFs.Optional)).map(Mm),g)}),sl(d=>{throw e._loader$=void 0,d}));return e._loader$=new HC(l,()=>new tl.x).pipe(om()),e._loader$}loadModuleFactory(t){return bo(t()).pipe((0,Nr.z)(e=>e instanceof p.YKP?et(e):(0,En.D)(this.compiler.compileModuleAsync(e))))}}class Rv{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function RE(r){throw r}function NE(r,t,e){return t.parse("/")}function $m(r,t){return et(null)}const kE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Nv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Gr=(()=>{class r{constructor(e,o,l,d,g,C,I){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=d,this.config=I,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new tl.x,this.errorHandler=RE,this.malformedUriErrorHandler=NE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:$m,afterPreactivation:$m},this.urlHandlingStrategy=new Rv,this.routeReuseStrategy=new Mv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(p.h0i),this.console=g.get(p.c2e);const k=g.get(p.R0b);this.isNgZoneEnabled=k instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(I),this.currentUrlTree=function JC(){return new eu(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ov(g,C,Q=>this.triggerEvent(new um(Q)),Q=>this.triggerEvent(new Hy(Q))),this.routerState=xf(this.currentUrlTree,this.rootComponentType),this.transitions=new ds({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(mc(l=>0!==l.id),(0,St.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),nn(l=>{let d=!1,g=!1;return et(l).pipe((0,hs.b)(C=>{this.currentNavigation={id:C.id,initialUrl:C.currentRawUrl,extractedUrl:C.extractedUrl,trigger:C.source,extras:C.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),nn(C=>{const I=this.browserUrlTree.toString(),P=!this.navigated||C.extractedUrl.toString()!==I||I!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||P)&&this.urlHandlingStrategy.shouldProcessUrl(C.rawUrl))return Wm(C.source)&&(this.browserUrlTree=C.extractedUrl),et(C).pipe(nn(k=>{const Q=this.transitions.getValue();return o.next(new am(k.id,this.serializeUrl(k.extractedUrl),k.source,k.restoredState)),Q!==this.transitions.getValue()?Jl.E:Promise.resolve(k)}),function vv(r,t,e,o){return nn(l=>function yE(r,t,e,o,l){return new vE(r,t,e,o,l).apply()}(r,t,e,l.extractedUrl,o).pipe((0,St.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,hs.b)(k=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:k.urlAfterRedirects})}),function Av(r,t,e,o,l){return(0,Nr.z)(d=>function Iv(r,t,e,o,l="emptyOnly",d="legacy"){try{const g=new AE(r,t,e,o,l,d).recognize();return null===g?bv(new Fm):et(g)}catch(g){return bv(g)}}(r,t,d.urlAfterRedirects,e(d.urlAfterRedirects),o,l).pipe((0,St.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.rootComponentType,this.config,k=>this.serializeUrl(k),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,hs.b)(k=>{if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const pe=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(pe,k)}this.browserUrlTree=k.urlAfterRedirects}const Q=new $C(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);o.next(Q)}));if(P&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:pe,source:Me,restoredState:at,extras:xt}=C,Jn=new am(Q,this.serializeUrl(pe),Me,at);o.next(Jn);const hn=xf(pe,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},C),{targetSnapshot:hn,urlAfterRedirects:pe,extras:Object.assign(Object.assign({},xt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=C.rawUrl,C.resolve(null),Jl.E}),Pv(C=>{const{targetSnapshot:I,id:P,extractedUrl:U,rawUrl:k,extras:{skipLocationChange:Q,replaceUrl:pe}}=C;return this.hooks.beforePreactivation(I,{navigationId:P,appliedUrlTree:U,rawUrlTree:k,skipLocationChange:!!Q,replaceUrl:!!pe})}),(0,hs.b)(C=>{const I=new WC(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(I)}),(0,St.U)(C=>Object.assign(Object.assign({},C),{guards:Cv(C.targetSnapshot,C.currentSnapshot,this.rootContexts)})),function bE(r,t){return(0,Nr.z)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?et(Object.assign(Object.assign({},e),{guardsResult:!0})):function Wr(r,t,e,o){return(0,En.D)(r).pipe((0,Nr.z)(l=>function TE(r,t,e,o,l){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?et(d.map(C=>{const I=Wd(C,t,l);let P;if(function gE(r){return r&&sa(r.canDeactivate)}(I))P=bo(I.canDeactivate(r,t,e,o));else{if(!sa(I))throw new Error("Invalid CanDeactivate guard");P=bo(I(r,t,e,o))}return P.pipe(_c())})).pipe(Bd()):et(!0)}(l.component,l.route,e,t,o)),_c(l=>!0!==l,!0))}(g,o,l,r).pipe((0,Nr.z)(C=>C&&function hv(r){return"boolean"==typeof r}(C)?function Pc(r,t,e,o){return(0,En.D)(t).pipe(bf(l=>im(function DE(r,t){return null!==r&&t&&t(new qC(r)),et(!0)}(l.route.parent,o),function IE(r,t){return null!==r&&t&&t(new KC(r)),et(!0)}(l.route,o),function Gd(r,t,e){const o=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(g=>function Ev(r){const t=r.routeConfig?r.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:r,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Uy(()=>et(g.guards.map(I=>{const P=Wd(I,g.node,e);let U;if(function pE(r){return r&&sa(r.canActivateChild)}(P))U=bo(P.canActivateChild(o,r));else{if(!sa(P))throw new Error("Invalid CanActivateChild guard");U=bo(P(o,r))}return U.pipe(_c())})).pipe(Bd())));return et(d).pipe(Bd())}(r,l.path,e),function Qw(r,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return et(!0);const l=o.map(d=>Uy(()=>{const g=Wd(d,t,e);let C;if(function fE(r){return r&&sa(r.canActivate)}(g))C=bo(g.canActivate(t,r));else{if(!sa(g))throw new Error("Invalid CanActivate guard");C=bo(g(t,r))}return C.pipe(_c())}));return et(l).pipe(Bd())}(r,l.route,e))),_c(l=>!0!==l,!0))}(o,d,r,t):et(C)),(0,St.U)(C=>Object.assign(Object.assign({},e),{guardsResult:C})))})}(this.ngModule.injector,C=>this.triggerEvent(C)),(0,hs.b)(C=>{if(ol(C.guardsResult)){const P=Md(`Redirecting to "${this.serializeUrl(C.guardsResult)}"`);throw P.url=C.guardsResult,P}const I=new GC(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot,!!C.guardsResult);this.triggerEvent(I)}),mc(C=>!!C.guardsResult||(this.restoreHistory(C),this.cancelNavigationTransition(C,""),!1)),Pv(C=>{if(C.guards.canActivateChecks.length)return et(C).pipe((0,hs.b)(I=>{const P=new zC(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(P)}),nn(I=>{let P=!1;return et(I).pipe(function Hf(r,t){return(0,Nr.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return et(e);let d=0;return(0,En.D)(l).pipe(bf(g=>function Sv(r,t,e,o){return function ME(r,t,e,o){const l=$f(r);if(0===l.length)return et({});const d={};return(0,En.D)(l).pipe((0,Nr.z)(g=>function Hm(r,t,e,o){const l=Wd(r,t,o);return bo(l.resolve?l.resolve(t,e):l(t,e))}(r[g],t,e,o).pipe((0,hs.b)(C=>{d[g]=C}))),Vy(1),(0,Nr.z)(()=>$f(d).length===l.length?et(d):Jl.E))}(r._resolve,r,t,o).pipe((0,St.U)(d=>(r._resolvedData=d,r.data=Object.assign(Object.assign({},r.data),nv(r,e).resolve),null)))}(g.route,o,r,t)),(0,hs.b)(()=>d++),Vy(1),(0,Nr.z)(g=>d===l.length?et(e):Jl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,hs.b)({next:()=>P=!0,complete:()=>{P||(this.restoreHistory(I),this.cancelNavigationTransition(I,"At least one route resolver didn't emit any value."))}}))}),(0,hs.b)(I=>{const P=new ZC(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);this.triggerEvent(P)}))}),Pv(C=>{const{targetSnapshot:I,id:P,extractedUrl:U,rawUrl:k,extras:{skipLocationChange:Q,replaceUrl:pe}}=C;return this.hooks.afterPreactivation(I,{navigationId:P,appliedUrlTree:U,rawUrlTree:k,skipLocationChange:!!Q,replaceUrl:!!pe})}),(0,St.U)(C=>{const I=function oE(r,t,e){const o=Ld(r,t._root,e?e._root:void 0);return new vm(o,t)}(this.routeReuseStrategy,C.targetSnapshot,C.currentRouterState);return Object.assign(Object.assign({},C),{targetRouterState:I})}),(0,hs.b)(C=>{this.currentUrlTree=C.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl),this.routerState=C.targetRouterState,"deferred"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,C),this.browserUrlTree=C.urlAfterRedirects)}),((r,t,e)=>(0,St.U)(o=>(new Fd(t,o.targetRouterState,o.currentRouterState,e).activate(r),o)))(this.rootContexts,this.routeReuseStrategy,C=>this.triggerEvent(C)),(0,hs.b)({next(){d=!0},complete(){d=!0}}),function jy(r){return(0,tn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(r)}})}(()=>{var C;d||g||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null===(C=this.currentNavigation)||void 0===C?void 0:C.id)===l.id&&(this.currentNavigation=null)}),sl(C=>{if(g=!0,function QC(r){return r&&r[Gy]}(C)){const I=ol(C.url);I||(this.navigated=!0,this.restoreHistory(l,!0));const P=new lm(l.id,this.serializeUrl(l.extractedUrl),C.message);o.next(P),I?setTimeout(()=>{const U=this.urlHandlingStrategy.merge(C.url,this.rawUrlTree),k={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wm(l.source)};this.scheduleNavigation(U,"imperative",null,k,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const I=new Pd(l.id,this.serializeUrl(l.extractedUrl),C);o.next(I);try{l.resolve(this.errorHandler(C))}catch(P){l.reject(P)}}return Jl.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var l;const d={replaceUrl:!0},g=(null===(l=e.state)||void 0===l?void 0:l.navigationId)?e.state:null;if(g){const I=Object.assign({},g);delete I.navigationId,delete I.\u0275routerPageId,0!==Object.keys(I).length&&(d.state=I)}const C=this.parseUrl(e.url);this.scheduleNavigation(C,o,g,d)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){fv(e),this.config=e.map(Mm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:d,fragment:g,queryParamsHandling:C,preserveFragment:I}=o,P=l||this.routerState.root,U=I?this.currentUrlTree.fragment:g;let k=null;switch(C){case"merge":k=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":k=this.currentUrlTree.queryParams;break;default:k=d||null}return null!==k&&(k=this.removeEmptyProps(k)),function Dc(r,t,e,o,l){if(0===e.length)return bm(t.root,t.root,t.root,o,l);const d=function Yw(r){if("string"==typeof r[0]&&1===r.length&&"/"===r[0])return new Im(!0,0,r);let t=0,e=!1;const o=r.reduce((l,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const C={};return ir(d.outlets,(I,P)=>{C[P]="string"==typeof I?I.split("/"):I}),[...l,{outlets:C}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===g?(d.split("/").forEach((C,I)=>{0==I&&"."===C||(0==I&&""===C?e=!0:".."===C?t++:""!=C&&l.push(C))}),l):[...l,d]},[]);return new Im(e,t,o)}(e);if(d.toRoot())return bm(t.root,t.root,new Pt([],{}),o,l);const g=function Dm(r,t,e){if(r.isAbsolute)return new kf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new kf(d,d===t.root,0)}const o=wm(r.commands[0])?0:1;return function lE(r,t,e){let o=r,l=t,d=e;for(;d>l;){if(d-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new kf(o,!1,l-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,r.numberOfDoubleDots)}(d,t,r),C=g.processChildren?Lf(g.segmentGroup,g.index,d.commands):lv(g.segmentGroup,g.index,d.commands);return bm(t.root,g.segmentGroup,C,o,l)}(P,this.currentUrlTree,e,k,null!=U?U:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=ol(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function kv(r){for(let t=0;t<r.length;t++){const e=r[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?Object.assign({},kE):!1===o?Object.assign({},Nv):o,ol(e))return Qy(this.currentUrlTree,e,l);const d=this.parseUrl(e);return Qy(this.currentUrlTree,d,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const d=e[l];return null!=d&&(o[l]=d),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Sd(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,l,d,g){var C,I;if(this.disposed)return Promise.resolve(!1);let P,U,k;g?(P=g.resolve,U=g.reject,k=g.promise):k=new Promise((Me,at)=>{P=Me,U=at});const Q=++this.navigationId;let pe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),pe=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(C=this.browserPageId)&&void 0!==C?C:0:(null!==(I=this.browserPageId)&&void 0!==I?I:0)+1):pe=0,this.setTransition({id:Q,targetPageId:pe,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:P,reject:U,promise:k,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),k.catch(Me=>Promise.reject(Me))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(e,o=!1){var l,d;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===g?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new lm(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return r.\u0275fac=function(e){p.$Z()},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})();function Wm(r){return"imperative"!==r}let Gm=(()=>{class r{constructor(e,o,l,d,g){this.router=e,this.route=o,this.tabIndexAttribute=l,this.renderer=d,this.el=g,this.commands=null,this.onChanges=new tl.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const o=this.renderer,l=this.el.nativeElement;null!==e?o.setAttribute(l,"tabindex",e):o.removeAttribute(l,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:zd(this.skipLocationChange),replaceUrl:zd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zd(this.preserveFragment)})}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(Gr),p.Y36(Io),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},r.\u0275dir=p.lG2({type:r,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&p.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),r})(),Gf=(()=>{class r{constructor(e,o,l){this.router=e,this.route=o,this.locationStrategy=l,this.commands=null,this.href=null,this.onChanges=new tl.x,this.subscription=e.events.subscribe(d=>{d instanceof Sd&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,l,d,g){if(0!==e||o||l||d||g||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const C={skipLocationChange:zd(this.skipLocationChange),replaceUrl:zd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,C),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:zd(this.preserveFragment)})}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(Gr),p.Y36(Io),p.Y36(ce))},r.\u0275dir=p.lG2({type:r,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&p.NdJ("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&p.uIk("target",o.target)("href",o.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),r})();function zd(r){return""===r||!!r}let zm=(()=>{class r{constructor(e,o,l,d,g,C){this.router=e,this.element=o,this.renderer=l,this.cdr=d,this.link=g,this.linkWithHref=C,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new p.vpe,this.routerEventsSubscription=e.events.subscribe(I=>{I instanceof Sd&&this.update()})}ngAfterContentInit(){et(this.links.changes,this.linksWithHrefs.changes,et(null)).pipe((0,il.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const o=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(l=>!!l).map(l=>l.onChanges);this.linkInputChangesSubscription=(0,En.D)(o).pipe((0,il.J)()).subscribe(l=>{this.isActive!==this.isLinkActive(this.router)(l)&&this.update()})}set routerLinkActive(e){const o=Array.isArray(e)?e:e.split(" ");this.classes=o.filter(l=>!!l)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(o=>{e?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),this.isActiveChange.emit(e))})}isLinkActive(e){const o=function Jw(r){return!!r.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return l=>!!l.urlTree&&e.isActive(l.urlTree,o)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(Gr),p.Y36(p.SBq),p.Y36(p.Qsj),p.Y36(p.sBO),p.Y36(Gm,8),p.Y36(Gf,8))},r.\u0275dir=p.lG2({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(e,o,l){if(1&e&&(p.Suo(l,Gm,5),p.Suo(l,Gf,5)),2&e){let d;p.iGM(d=p.CRH())&&(o.links=d),p.iGM(d=p.CRH())&&(o.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[p.TTD]}),r})();class LE{}class FE{preload(t,e){return et(null)}}let UE=(()=>{class r{constructor(e,o,l,d){this.router=e,this.injector=l,this.preloadingStrategy=d,this.loader=new Ov(l,o,I=>e.triggerEvent(new um(I)),I=>e.triggerEvent(new Hy(I)))}setUpPreloading(){this.subscription=this.router.events.pipe(mc(e=>e instanceof Sd),bf(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(p.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const g=d._loadedConfig;l.push(this.processRoutes(g.module,g.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(e,d)):d.children&&l.push(this.processRoutes(e,d.children));return(0,En.D)(l).pipe((0,il.J)(),(0,St.U)(d=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?et(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,Nr.z)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(Gr),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(LE))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})(),Lv=(()=>{class r{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof am?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Sd&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Wy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new Wy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return r.\u0275fac=function(e){p.$Z()},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})();const Mc=new p.OlP("ROUTER_CONFIGURATION"),Zd=new p.OlP("ROUTER_FORROOT_GUARD"),eb=[ge,{provide:Tf,useClass:fm},{provide:Gr,useFactory:function Vv(r,t,e,o,l,d,g={},C,I){const P=new Gr(null,r,t,e,o,l,Ky(d));return C&&(P.urlHandlingStrategy=C),I&&(P.routeReuseStrategy=I),function jv(r,t){r.errorHandler&&(t.errorHandler=r.errorHandler),r.malformedUriErrorHandler&&(t.malformedUriErrorHandler=r.malformedUriErrorHandler),r.onSameUrlNavigation&&(t.onSameUrlNavigation=r.onSameUrlNavigation),r.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=r.paramsInheritanceStrategy),r.relativeLinkResolution&&(t.relativeLinkResolution=r.relativeLinkResolution),r.urlUpdateStrategy&&(t.urlUpdateStrategy=r.urlUpdateStrategy),r.canceledNavigationResolution&&(t.canceledNavigationResolution=r.canceledNavigationResolution)}(g,P),g.enableTracing&&P.events.subscribe(U=>{var k,Q;null===(k=console.group)||void 0===k||k.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(Q=console.groupEnd)||void 0===Q||Q.call(console)}),P},deps:[Tf,oa,ge,p.zs3,p.Sil,Wf,Mc,[class xv{},new p.FiY],[class OE{},new p.FiY]]},oa,{provide:Io,useFactory:function Hv(r){return r.routerState.root},deps:[Gr]},UE,FE,class Xw{preload(t,e){return e().pipe(sl(()=>et(null)))}},{provide:Mc,useValue:{enableTracing:!1}}];function Fv(){return new p.PXZ("Router",Gr)}let zf=(()=>{class r{constructor(e,o){}static forRoot(e,o){return{ngModule:r,providers:[eb,Zf(e),{provide:Zd,useFactory:tb,deps:[[Gr,new p.FiY,new p.tp0]]},{provide:Mc,useValue:o||{}},{provide:ce,useFactory:Bv,deps:[ue,[new p.tBr(je),new p.FiY],Mc]},{provide:Lv,useFactory:Uv,deps:[Gr,ma,Mc]},{provide:LE,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:FE},{provide:p.PXZ,multi:!0,useFactory:Fv},[$v,{provide:p.ip1,multi:!0,useFactory:Wv,deps:[$v]},{provide:qf,useFactory:BE,deps:[$v]},{provide:p.tb,multi:!0,useExisting:qf}]]}}static forChild(e){return{ngModule:r,providers:[Zf(e)]}}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(Zd,8),p.LFG(Gr,8))},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({}),r})();function Uv(r,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Lv(r,t,e)}function Bv(r,t,e={}){return e.useHash?new Ce(r,t):new Fe(r,t)}function tb(r){return"guarded"}function Zf(r){return[{provide:p.deG,multi:!0,useValue:r},{provide:Wf,multi:!0,useValue:r}]}let $v=(()=>{class r{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new tl.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(C=>o=C),d=this.injector.get(Gr),g=this.injector.get(Mc);return"disabled"===g.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(Mc),l=this.injector.get(UE),d=this.injector.get(Lv),g=this.injector.get(Gr),C=this.injector.get(p.z2F);e===C.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&g.initialNavigation(),l.setUpPreloading(),d.init(),g.resetRootComponentType(C.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return r.\u0275fac=function(e){return new(e||r)(p.LFG(p.zs3))},r.\u0275prov=p.Yz7({token:r,factory:r.\u0275fac}),r})();function Wv(r){return r.appInitializer.bind(r)}function BE(r){return r.bootstrapListener.bind(r)}const qf=new p.OlP("Router Initializer"),nb=function(r){return{"box-shadow":r}};function rb(r,t){if(1&r){const e=p.EpF();p.TgZ(0,"div",13),p.NdJ("click",function(){p.CHM(e);const l=p.oxw().$implicit;return p.oxw().viewListing(l)}),p._UZ(1,"div",14),p.TgZ(2,"div",15)(3,"div",16)(4,"div",17),p._uU(5),p.qZA(),p.TgZ(6,"div",18),p._uU(7),p.qZA()(),p.TgZ(8,"div",19),p._uU(9),p.qZA()(),p.TgZ(10,"div",20),p._uU(11),p.qZA()()}if(2&r){const e=p.oxw().$implicit,o=p.oxw();p.Q6J("ngStyle",p.VKq(7,nb,e==o.selectedListing?"inset 5px 5px 10px rgba(20,20,20, 8)":"")),p.xp6(5),p.Oqu(e.address),p.xp6(2),p.Oqu(e.city),p.xp6(2),p.hij("$",e.price,""),p.xp6(2),p.lnq(" ",e.beds," Beds | ",e.baths," Baths | ",e.size,"sqft ")}}function jE(r,t){if(1&r&&(p.TgZ(0,"div"),p.YNc(1,rb,12,9,"div",12),p.qZA()),2&r){const e=t.$implicit,o=p.oxw();p.xp6(1),p.Q6J("ngIf",o.matchesFilter(e))}}function HE(r,t){if(1&r&&(p.TgZ(0,"li"),p._uU(1),p.qZA()),2&r){const e=t.$implicit;p.xp6(1),p.hij(" ",e," ")}}function $E(r,t){if(1&r&&(p.TgZ(0,"div",21)(1,"h1"),p._uU(2),p.qZA(),p.TgZ(3,"h3"),p._uU(4),p.qZA(),p.TgZ(5,"h2"),p._uU(6),p.qZA(),p._UZ(7,"div",14),p.TgZ(8,"div",22)(9,"h3"),p._uU(10,"Owner Details"),p.qZA(),p._uU(11," Dalton Comer "),p._UZ(12,"br"),p._uU(13," Email: dalton.comer@outlook.com "),p._UZ(14,"br"),p._uU(15," Phone: 647-287-7115 "),p.qZA(),p.TgZ(16,"div",23)(17,"h2"),p._uU(18,"Property Description"),p.qZA(),p.TgZ(19,"p"),p._uU(20," This property is located in the heart of St.Catharines Ontario. With local transportation 5 minutes away and retail outlets within walking distance, this house is perfect for any young couple looking for their first home "),p.qZA()(),p.TgZ(21,"div",24)(22,"h2"),p._uU(23,"Property Details"),p.qZA(),p.TgZ(24,"div",25)(25,"div",26)(26,"b"),p._uU(27,"Size:"),p.qZA(),p._UZ(28,"br"),p._uU(29,"500 sqft"),p.qZA(),p.TgZ(30,"div",27)(31,"b"),p._uU(32,"Listing Type:"),p.qZA(),p._UZ(33,"br"),p._uU(34," Buy"),p.qZA(),p.TgZ(35,"div",28)(36,"b"),p._uU(37,"Year Built:"),p.qZA(),p._UZ(38,"br"),p._uU(39," 2000"),p.qZA(),p.TgZ(40,"div",29)(41,"b"),p._uU(42,"Monthly Cost:"),p.qZA(),p._UZ(43,"br"),p._uU(44," $6000"),p.qZA(),p.TgZ(45,"div",30)(46,"b"),p._uU(47,"# of Beds:"),p.qZA(),p._UZ(48,"br"),p._uU(49),p.qZA(),p.TgZ(50,"div",31)(51,"b"),p._uU(52,"# of Baths:"),p.qZA(),p._UZ(53,"br"),p._uU(54),p.qZA()()(),p.TgZ(55,"div",32)(56,"h2"),p._uU(57,"Amenities"),p.qZA(),p.TgZ(58,"div",33)(59,"ul"),p.YNc(60,HE,2,1,"li",9),p.qZA()()()()),2&r){const e=p.oxw();p.xp6(2),p.Oqu(e.selectedListing.address),p.xp6(2),p.Oqu(e.selectedListing.city),p.xp6(2),p.hij("$",e.selectedListing.price,""),p.xp6(43),p.hij(" ",e.selectedListing.beds,""),p.xp6(5),p.hij(" ",e.selectedListing.baths,""),p.xp6(6),p.Q6J("ngForOf",e.fakeAmenities)}}let ib=(()=>{class r{constructor(e){this.db=e,this.data=[],this.selectedListing=[],this.detailsVisible=!1,this.fakeAmenities=["Laundry","AC","Heating","Parking","Security System"]}ngOnInit(){this.db.list("Listings").valueChanges().subscribe(o=>{this.data=o,console.log(o)})}matchesFilter(e){return!0}viewListing(e){e==this.selectedListing?(this.detailsVisible=!1,this.selectedListing=[]):(this.detailsVisible=!0,this.selectedListing=e)}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(Td))},r.\u0275cmp=p.Xpm({type:r,selectors:[["app-rent"]],decls:16,vars:2,consts:[[1,"layoutGrid"],[1,"leftPanel"],[1,"filterOptions"],["type","text","placeholder","Location"],["type","text","placeholder","Max Price"],["type","text","placeholder","Beds"],["type","text","placeholder","Baths"],[1,"listings"],[1,"list"],[4,"ngFor","ngForOf"],[1,"rightPanel"],["class","fullListing",4,"ngIf"],["class","property",3,"ngStyle","click",4,"ngIf"],[1,"property",3,"ngStyle","click"],[1,"photos"],[1,"topDetails"],[1,"location"],[1,"adress"],[1,"city"],[1,"price"],[1,"bottomDetails"],[1,"fullListing"],[1,"ownerDetails"],[1,"propertyDescription"],[1,"propertyDetails"],[1,"details"],[1,"size"],[1,"type"],[1,"year"],[1,"monthlyCost"],[1,"beds"],[1,"baths"],[1,"amenities"],[1,"amenitiesList"]],template:function(e,o){1&e&&(p.TgZ(0,"div",0)(1,"div",1)(2,"h1"),p._uU(3,"Listings for Rent"),p.qZA(),p.TgZ(4,"div",2),p._UZ(5,"input",3)(6,"input",4)(7,"input",5)(8,"input",6),p.TgZ(9,"button"),p._uU(10,"Search"),p.qZA()(),p.TgZ(11,"div",7)(12,"div",8),p.YNc(13,jE,2,1,"div",9),p.qZA()()(),p.TgZ(14,"div",10),p.YNc(15,$E,61,6,"div",11),p.qZA()()),2&e&&(p.xp6(13),p.Q6J("ngForOf",o.data),p.xp6(2),p.Q6J("ngIf",o.detailsVisible))},directives:[xn,tr,al],styles:[".list[_ngcontent-%COMP%]{display:block;flex-wrap:wrap;width:100%;height:100%}.property[_ngcontent-%COMP%]{width:90%;height:-moz-fit-content;height:fit-content;background-color:#f1faee;border:2px solid #1D3557;margin:5%;display:block;border-radius:30px;box-shadow:inset -5px -5px 10px #000c,inset 5px 5px 10px #ffffff7a;color:#1d3557}.property[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]{width:100%;height:10rem;border-bottom:2px solid black;border-top-right-radius:30px;border-top-left-radius:30px}.property[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-top-right-radius:30px;border-top-left-radius:30px;height:100%;width:100%}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:inline-block;padding:10px}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .adress[_ngcontent-%COMP%]{display:block;text-align:end;font-size:larger;font-weight:700}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{text-align:end;display:block;font-size:small}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{display:inline-block;float:right;margin:15px;text-align:end;font-weight:bolder;font-size:large}.property[_ngcontent-%COMP%]   .bottomDetails[_ngcontent-%COMP%]{height:2rem;display:block;margin-top:10%;margin-left:15px;margin-bottom:15px}.layoutGrid[_ngcontent-%COMP%]{display:flex;border-top:2px solid black}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]{background-color:#457b9d;height:650px;width:50%;display:inline-flex;flex-direction:column;overflow-y:scroll}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:4px;overflow-y:scroll;background:red;box-shadow:inset 0 0 4px red}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:blue;border-radius:10px}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#f1faee;font-weight:bolder}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   .filterOptions[_ngcontent-%COMP%]{align-self:center;background-color:#a8dadc;display:block;padding-top:5px;padding-bottom:5px;width:70%;border-radius:10px;margin:10px;text-align:center;border:1px solid black;box-shadow:inset -2px -2px 4px #000,inset 2px 2px 4px #fff,2px 2px 4px #000}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   .filterOptions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:15%;margin:5px;text-align:center;height:30px;border-radius:30px;border:none;font-size:small;box-shadow:inset 2px 2px 4px #000;background-color:#457b9d;color:#fff;font-weight:700;font-size:smaller}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   .filterOptions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#fff;font-weight:700;font-size:smaller}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   .filterOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:30px!important;margin:5px;border-radius:30px;border:none;box-shadow:2px 2px 4px #000,inset -2px -2px 4px #000,inset 2px 2px 4px #fff;background-color:#1d3557;color:#f1faee;height:30px;cursor:pointer}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:3rem;margin-bottom:0%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%;height:650px;background-color:#a8dadc}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;padding:10%;overflow-y:scroll;overflow-x:hidden}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:0%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-weight:lighter;margin-top:0%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]{width:100%;padding-bottom:50%;border:2px solid black}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .ownerDetails[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;align-self:flex-end;height:-moz-fit-content;height:fit-content;background-color:#457b9d;border-radius:30px;padding:5%;margin-top:5%;box-shadow:inset -2px -2px 4px #000,inset 2px 2px 4px #fff;color:#f1faee}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .propertyDescription[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .propertyDescription[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:left}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .propertyDescription[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:3%;text-indent:10%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{width:100%;height:auto;display:grid;columns:2;text-align:center}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:left}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{grid-column:1;grid-row:1;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{grid-column:2;grid-row:1;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{grid-column:1;grid-row:2;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .monthlyCost[_ngcontent-%COMP%]{grid-column:2;grid-row:2;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .beds[_ngcontent-%COMP%]{grid-column:1;grid-row:3;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .baths[_ngcontent-%COMP%]{grid-column:2;grid-row:3;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .amenities[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:left}"]}),r})();const WE=function(r){return{"box-shadow":r}};function Zm(r,t){if(1&r){const e=p.EpF();p.TgZ(0,"div",20),p.NdJ("click",function(){p.CHM(e);const l=p.oxw().$implicit;return p.oxw().viewListing(l)}),p.TgZ(1,"div",21),p._UZ(2,"img",22),p.qZA(),p.TgZ(3,"div",23)(4,"div",24)(5,"div",25)(6,"div",26),p._uU(7),p.qZA(),p.TgZ(8,"div",27),p._uU(9),p.qZA()(),p.TgZ(10,"div",28),p._uU(11),p.qZA()(),p.TgZ(12,"div",29),p._uU(13),p.qZA()()()}if(2&r){const e=p.oxw().$implicit,o=p.oxw();p.Q6J("ngStyle",p.VKq(8,WE,e==o.selectedListing?"inset 5px 5px 10px rgba(20,20,20, 8)":"")),p.xp6(2),p.Q6J("src",o.imgRand(),p.LSH),p.xp6(5),p.Oqu(e.address),p.xp6(2),p.Oqu(e.city),p.xp6(2),p.hij("$",e.price,""),p.xp6(2),p.lnq(" ",e.beds," Beds | ",e.baths," Baths | ",e.size,"sqft ")}}function GE(r,t){if(1&r&&(p.TgZ(0,"div"),p.YNc(1,Zm,14,10,"div",19),p.qZA()),2&r){const e=t.$implicit,o=p.oxw();p.xp6(1),p.Q6J("ngIf",o.matchesFilter(e))}}function Gs(r,t){if(1&r&&(p.TgZ(0,"li"),p._uU(1),p.qZA()),2&r){const e=t.$implicit;p.xp6(1),p.hij(" ",e," ")}}function zE(r,t){if(1&r&&(p.TgZ(0,"div",30)(1,"h1"),p._uU(2),p.qZA(),p.TgZ(3,"h3"),p._uU(4),p.qZA(),p.TgZ(5,"h2"),p._uU(6),p.qZA(),p.TgZ(7,"div",21),p._UZ(8,"img",22),p.qZA(),p.TgZ(9,"div",31)(10,"h3"),p._uU(11,"Owner Details"),p.qZA(),p._uU(12," Dalton Comer "),p._UZ(13,"br"),p._uU(14," Email: dalton.comer@outlook.com "),p._UZ(15,"br"),p._uU(16," Phone: 647-287-7115 "),p.TgZ(17,"button"),p._uU(18,"Contact"),p.qZA()(),p.TgZ(19,"div",32)(20,"h2"),p._uU(21,"Property Description"),p.qZA(),p.TgZ(22,"p"),p._uU(23," This property is located in the heart of St.Catharines Ontario. With local transportation 5 minutes away and retail outlets within walking distance, this house is perfect for any young couple looking for their first home "),p.qZA()(),p.TgZ(24,"div",33)(25,"h2"),p._uU(26,"Property Details"),p.qZA(),p.TgZ(27,"div",23)(28,"div",34)(29,"b"),p._uU(30,"Size:"),p.qZA(),p._UZ(31,"br"),p._uU(32,"500 sqft"),p.qZA(),p.TgZ(33,"div",35)(34,"b"),p._uU(35,"Listing Type:"),p.qZA(),p._UZ(36,"br"),p._uU(37," Buy"),p.qZA(),p.TgZ(38,"div",36)(39,"b"),p._uU(40,"Year Built:"),p.qZA(),p._UZ(41,"br"),p._uU(42," 2000"),p.qZA(),p.TgZ(43,"div",37)(44,"b"),p._uU(45,"Monthly Cost:"),p.qZA(),p._UZ(46,"br"),p._uU(47," $6000"),p.qZA(),p.TgZ(48,"div",38)(49,"b"),p._uU(50,"# of Beds:"),p.qZA(),p._UZ(51,"br"),p._uU(52),p.qZA(),p.TgZ(53,"div",39)(54,"b"),p._uU(55,"# of Baths:"),p.qZA(),p._UZ(56,"br"),p._uU(57),p.qZA()()(),p.TgZ(58,"div",40)(59,"h2"),p._uU(60,"Amenities"),p.qZA(),p.TgZ(61,"div",41)(62,"ul"),p.YNc(63,Gs,2,1,"li",16),p.qZA()()()()),2&r){const e=p.oxw();p.xp6(2),p.Oqu(e.selectedListing.address),p.xp6(2),p.Oqu(e.selectedListing.city),p.xp6(2),p.hij("$",e.selectedListing.price,""),p.xp6(2),p.Q6J("src",e.imgRand(),p.LSH),p.xp6(44),p.hij(" ",e.selectedListing.beds,""),p.xp6(5),p.hij(" ",e.selectedListing.baths,""),p.xp6(6),p.Q6J("ngForOf",e.fakeAmenities)}}let qm=(()=>{class r{constructor(e){this.db=e,this.data=[],this.selectedListing=[],this.detailsVisible=!1,this.fakeAmenities=["Laundry","AC","Heating","Parking","Security System"],this.images=[{img:"assets/1.jpg"},{img:"assets/2.jpg"},{img:"assets/3.jpg"},{img:"assets/4.jpg"},{img:"assets/5.jpg"},{img:"assets/6.jpg"},{img:"assets/7.jpg"},{img:"assets/8.jpg"},{img:"assets/9.jpg"},{img:"assets/10.jpg"}],this.newArr=[]}ngOnInit(){this.db.list("Listings").valueChanges().subscribe(o=>{this.data=o,console.log(o)})}imgRand(){return this.images[Math.floor(Math.random()*this.images.length)].img}matchesFilter(e){return!0}viewListing(e){e==this.selectedListing?(this.detailsVisible=!1,this.selectedListing=[]):(this.detailsVisible=!0,this.selectedListing=e)}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(Td))},r.\u0275cmp=p.Xpm({type:r,selectors:[["app-buy"]],decls:23,vars:2,consts:[[1,"layoutGrid"],[1,"leftPanel"],[1,"filterOptions"],[1,"radio-buttons"],["type","radio","id","rentals","name","listingType","value","rent","checked",""],["for","rent"],["type","radio","id","buy","name","listingType","value","buy"],["for","buy"],[1,"text-fields"],["type","text","placeholder","Location"],["type","text","placeholder","Max Price"],["type","text","placeholder","Beds"],["type","text","placeholder","Baths"],[1,"search"],[1,"listings"],[1,"list"],[4,"ngFor","ngForOf"],[1,"rightPanel"],["class","fullListing",4,"ngIf"],["class","property",3,"ngStyle","click",4,"ngIf"],[1,"property",3,"ngStyle","click"],[1,"photos"],[3,"src"],[1,"details"],[1,"topDetails"],[1,"location"],[1,"adress"],[1,"city"],[1,"price"],[1,"bottomDetails"],[1,"fullListing"],[1,"ownerDetails"],[1,"propertyDescription"],[1,"propertyDetails"],[1,"size"],[1,"type"],[1,"year"],[1,"monthlyCost"],[1,"beds"],[1,"baths"],[1,"amenities"],[1,"amenitiesList"]],template:function(e,o){1&e&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p._uU(4," Listing Type: "),p._UZ(5,"input",4),p.TgZ(6,"label",5),p._uU(7,"Rent"),p.qZA(),p._UZ(8,"input",6),p.TgZ(9,"label",7),p._uU(10,"Buy"),p.qZA()(),p.TgZ(11,"div",8),p._UZ(12,"input",9)(13,"input",10)(14,"input",11)(15,"input",12),p.TgZ(16,"button",13),p._uU(17,"Search"),p.qZA()()(),p.TgZ(18,"div",14)(19,"div",15),p.YNc(20,GE,2,1,"div",16),p.qZA()()(),p.TgZ(21,"div",17),p.YNc(22,zE,64,7,"div",18),p.qZA()()),2&e&&(p.xp6(20),p.Q6J("ngForOf",o.data),p.xp6(2),p.Q6J("ngIf",o.detailsVisible))},directives:[xn,tr,al],styles:['@charset "UTF-8";.list[_ngcontent-%COMP%]{display:block;flex-wrap:wrap;width:100%;height:100%}.property[_ngcontent-%COMP%]{width:90%;background-color:#f1faee;border:2px solid #1D3557;margin:5%;display:flex;border-radius:30px;box-shadow:inset -5px -5px 10px #000c,inset 5px 5px 10px #ffffff7a;color:#1d3557;cursor:pointer;align-items:center}.property[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]{border-radius:30px;display:inline;width:min(20rem,20vw);height:100%;margin:2%}.property[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:15px;height:100%;width:100%;border:2px solid black;margin-bottom:0%}.property[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;width:50%;align-items:flex-end;margin-right:1rem}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]{display:inline-block;height:-moz-fit-content;height:fit-content}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:block}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .adress[_ngcontent-%COMP%]{display:block;text-align:end;font-size:larger;font-weight:700;padding-top:1rem}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{margin-left:1rem;text-align:end;display:block;font-size:small}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{display:block;text-align:end;font-weight:bolder;font-size:large}.property[_ngcontent-%COMP%]   .bottomDetails[_ngcontent-%COMP%]{height:2rem;display:inline-block;margin-top:30%;margin-left:15px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:5rem}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#F1FAEE;border:1px solid black;border-radius:10rem}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:lightgray}.layoutGrid[_ngcontent-%COMP%]{display:flex}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]{background-color:#457b9d;height:95vh;width:50%;display:inline-flex;flex-direction:column;overflow-y:scroll}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   \\200b[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#f1faee;font-weight:bolder}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   .filterOptions[_ngcontent-%COMP%]{align-self:center;background-color:#a8dadc;display:block;padding-top:5px;padding-bottom:5px;width:80%;border-radius:10px;margin-top:1rem;text-align:center;border:1px solid black;box-shadow:inset -2px -2px 4px #000,inset 2px 2px 4px #fff,2px 2px 4px #000}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   .filterOptions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:15%;margin:5px;text-align:center;height:30px;border-radius:30px;border:none;font-size:small;box-shadow:inset 2px 2px 4px #000;color:#457b9d;font-weight:700;font-size:smaller}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   .filterOptions[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#457b9d;font-weight:700;font-size:smaller;font-style:italic}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   .filterOptions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:30px!important;border-radius:30px;border:none;box-shadow:2px 2px 4px #000,inset -2px -2px 4px #000,inset 2px 2px 4px #fff;background-color:#1d3557;color:#f1faee;height:2rem;width:8rem;cursor:pointer}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   .filterOptions[_ngcontent-%COMP%]   .radio-buttons[_ngcontent-%COMP%]{display:flex;margin:1rem;align-items:center;font-weight:700}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   .filterOptions[_ngcontent-%COMP%]   .radio-buttons[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:none;width:5%;height:1.5em}.layoutGrid[_ngcontent-%COMP%]   .leftPanel[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:3rem;margin-bottom:0%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%;height:95vh;background-color:#a8dadc}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;padding:10%;overflow-y:scroll;overflow-x:hidden}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:0%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;font-weight:lighter;margin-top:0%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]{display:block;width:100%;border:2px solid black;text-align:center}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .ownerDetails[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:-moz-fit-content;width:fit-content;align-self:flex-end;height:-moz-fit-content;height:fit-content;background-color:#457b9d;border-radius:30px;padding:2rem;margin-top:5%;box-shadow:inset 5px 5px 10px #192c38,inset -5px -5px 10px #baf1f3;color:#f1faee}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .ownerDetails[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;width:80%;align-self:center;border-radius:10px;border:1px solid #457B9D;background-color:#a8dadc;box-shadow:inset 2px 2px 4px #fff,inset -2px -2px 4px #000}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .propertyDescription[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .propertyDescription[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:xx-large;text-align:left}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .propertyDescription[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:larger;padding:3%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .propertyDetails[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:xx-large;text-align:center}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{width:100%;height:auto;display:grid;columns:2;text-align:center;font-size:large}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:larger}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{grid-column:1;grid-row:1;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{grid-column:2;grid-row:1;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{grid-column:1;grid-row:2;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .monthlyCost[_ngcontent-%COMP%]{grid-column:2;grid-row:2;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .beds[_ngcontent-%COMP%]{grid-column:1;grid-row:3;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .baths[_ngcontent-%COMP%]{grid-column:2;grid-row:3;margin:5%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .amenities[_ngcontent-%COMP%]{align-self:flex-start}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .amenities[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:xx-large;text-align:left;margin:0%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .amenities[_ngcontent-%COMP%]   .amenitiesList[_ngcontent-%COMP%]{display:inline;font-size:larger;list-style-type:square}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .amenities[_ngcontent-%COMP%]   .amenitiesList[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0%}.layoutGrid[_ngcontent-%COMP%]   .rightPanel[_ngcontent-%COMP%]   .fullListing[_ngcontent-%COMP%]   .amenities[_ngcontent-%COMP%]   .amenitiesList[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left;margin:1rem}']}),r})();const ZE=["address"],qE=["city"],Km=["postalCode"],Gv=["beds"],zv=["baths"],KE=["size"],Zv=["price"];function qv(r,t){if(1&r){const e=p.EpF();p.TgZ(0,"div",9)(1,"div",10)(2,"label",11),p._uU(3,"Street Address:"),p._UZ(4,"br")(5,"input",12,13),p.qZA(),p.TgZ(7,"label",14),p._uU(8,"City:"),p._UZ(9,"br")(10,"input",12,15),p.qZA(),p.TgZ(12,"label",16),p._uU(13,"Postal Code:"),p._UZ(14,"br")(15,"input",12,17),p.qZA(),p.TgZ(17,"label",18),p._uU(18,"Number of Beds:"),p._UZ(19,"br")(20,"input",19,20),p.qZA(),p.TgZ(22,"label",21),p._uU(23,"Number of Baths:"),p._UZ(24,"br")(25,"input",19,22),p.qZA(),p.TgZ(27,"label",23),p._uU(28,"Size (sqft):"),p._UZ(29,"br")(30,"input",19,24),p.qZA(),p.TgZ(32,"label",25),p._uU(33,"Price:"),p._UZ(34,"br")(35,"input",19,26),p.qZA(),p.TgZ(37,"div",27)(38,"button",28),p.NdJ("click",function(){return p.CHM(e),p.oxw().isCreatingListing=!1}),p._uU(39,"Cancel"),p.qZA(),p.TgZ(40,"button",29),p.NdJ("click",function(){return p.CHM(e),p.oxw().postListing()}),p._uU(41,"Submit"),p.qZA()()()()}}const zs=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=p.Xpm({type:r,selectors:[["app-home"]],decls:10,vars:0,consts:[[1,"home"],[1,"home-left"],[1,"landing-text"],[1,"main-text"],[1,"sub-text"],[1,"home-right"],[1,"right-image"],["src","https://images.unsplash.com/photo-1523217582562-09d0def993a6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx","alt","home photo"]],template:function(e,o){1&e&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),p._uU(4," BUY. RENT. SELL. "),p.qZA(),p.TgZ(5,"span",4),p._uU(6," Whether you are a young adult looking to rent your first home, a working professional in the market to buy your first home, or are looking to sell your current home, HomeHunter provides top quality listings and wants to help you sell your own house. "),p.qZA()()(),p.TgZ(7,"div",5)(8,"div",6),p._UZ(9,"img",7),p.qZA()()())},styles:[".home[_ngcontent-%COMP%]{display:flex;width:100vw}.home-left[_ngcontent-%COMP%]{display:grid;grid-auto-rows:10vh;width:50%;height:95vh}.home-left[_ngcontent-%COMP%]   .landing-text[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:baseline;padding:5%;align-items:flex-start;grid-row:3}.home-left[_ngcontent-%COMP%]   .landing-text[_ngcontent-%COMP%]   .main-text[_ngcontent-%COMP%]{display:flex;font-weight:bolder;font-size:10vh;text-align:center;color:#1d3557}.home-left[_ngcontent-%COMP%]   .landing-text[_ngcontent-%COMP%]   .sub-text[_ngcontent-%COMP%]{display:flex;font-size:3vh;padding:3%;font-weight:700;text-align:center;color:#457b9d}.home-right[_ngcontent-%COMP%]{display:inline-flex;width:50%;height:95vh;background-color:#0ff}.home-right[_ngcontent-%COMP%]   .right-image[_ngcontent-%COMP%]{height:auto;width:100%}.home-right[_ngcontent-%COMP%]   .right-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}"]}),r})()},{path:"rent",component:ib},{path:"buy",component:qm},{path:"sell",component:(()=>{class r{constructor(e){this.db=e,this.isCreatingListing=!1}ngOnInit(){}postListing(){var e={address:this.addressElem.nativeElement.value,city:this.cityElem.nativeElement.value,postalCode:this.postalElem.nativeElement.value,beds:this.bedsElem.nativeElement.value,baths:this.bathsElem.nativeElement.value,size:this.sizeElem.nativeElement.value,price:this.priceElem.nativeElement.value};try{this.db.database.ref("Listings").push(e),alert("Listing Posted!")}catch(o){alert("Error Submitting Listing, Please try again")}this.addressElem.nativeElement.value=null,this.cityElem.nativeElement.value=null,this.postalElem.nativeElement.value=null,this.bedsElem.nativeElement.value=null,this.bathsElem.nativeElement.value=null,this.sizeElem.nativeElement.value=null,this.priceElem.nativeElement.value=null,this.isCreatingListing=!1}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(Td))},r.\u0275cmp=p.Xpm({type:r,selectors:[["app-sell"]],viewQuery:function(e,o){if(1&e&&(p.Gf(ZE,5),p.Gf(qE,5),p.Gf(Km,5),p.Gf(Gv,5),p.Gf(zv,5),p.Gf(KE,5),p.Gf(Zv,5)),2&e){let l;p.iGM(l=p.CRH())&&(o.addressElem=l.first),p.iGM(l=p.CRH())&&(o.cityElem=l.first),p.iGM(l=p.CRH())&&(o.postalElem=l.first),p.iGM(l=p.CRH())&&(o.bedsElem=l.first),p.iGM(l=p.CRH())&&(o.bathsElem=l.first),p.iGM(l=p.CRH())&&(o.sizeElem=l.first),p.iGM(l=p.CRH())&&(o.priceElem=l.first)}},decls:12,vars:1,consts:[[1,"full-page"],[1,"sell-left"],[1,"mainText"],[1,"subText"],[1,"sellButton",3,"click"],[1,"sell-right"],[1,"photo"],["src","https://images.unsplash.com/photo-1626178793926-22b28830aa30?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx","alt","sell image"],["class","newListingOverlay",4,"ngIf"],[1,"newListingOverlay"],[1,"listingForm"],["for","adress"],["type","text"],["address",""],["for","province"],["city",""],["for","postalCode"],["postalCode",""],["for","beds"],["type","number"],["beds",""],["for","baths"],["baths",""],["for","size"],["size",""],["for","price"],["price",""],[1,"buttons"],[1,"cancel",3,"click"],[1,"submit",3,"click"]],template:function(e,o){1&e&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2),p._uU(3," SELL YOUR HOME WITH EASE "),p.qZA(),p.TgZ(4,"div",3),p._uU(5," No matter your real estate needs, HomeHunter\u2019s got you covered "),p.qZA(),p.TgZ(6,"button",4),p.NdJ("click",function(){return o.isCreatingListing=!0}),p._uU(7," Start Selling! "),p.qZA()(),p.TgZ(8,"div",5)(9,"div",6),p._UZ(10,"img",7),p.qZA()()(),p.YNc(11,qv,42,0,"div",8)),2&e&&(p.xp6(11),p.Q6J("ngIf",o.isCreatingListing))},directives:[tr],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.full-page[_ngcontent-%COMP%]{display:flex;width:100vw;height:95vh}.full-page[_ngcontent-%COMP%]   .sell-left[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;flex-basis:100vw;text-align:center;justify-content:center;width:100%;height:100%}.full-page[_ngcontent-%COMP%]   .sell-left[_ngcontent-%COMP%]   .mainText[_ngcontent-%COMP%]{color:#1d3557;font-size:4rem}.full-page[_ngcontent-%COMP%]   .sell-left[_ngcontent-%COMP%]   .subText[_ngcontent-%COMP%]{color:#457b9d;font-size:2rem}.full-page[_ngcontent-%COMP%]   .sell-right[_ngcontent-%COMP%]{display:inline-flex;flex-direction:column;width:100%;height:100%;justify-content:center;align-items:center}.full-page[_ngcontent-%COMP%]   .sell-right[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{display:block;border:2px solid black;width:80%}.full-page[_ngcontent-%COMP%]   .sell-right[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%}button[_ngcontent-%COMP%]{background:#457b9d;width:25%;height:2rem;border-radius:50px;box-shadow:10px 10px 20px #00000040,inset -10px -10px 20px #000000a8,inset 10px 10px 20px #d8d8d8b6;text-align:center;color:#f1faee;font-size:large;border:none;margin-top:2rem;cursor:pointer;align-self:center}.newListingOverlay[_ngcontent-%COMP%]{display:flex;position:fixed;top:0%;left:0%;right:0%;height:100%;width:100%;background-color:#80808086;justify-content:center;align-items:center}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]{width:50%;height:70%;background-color:#fff;padding:30px;padding-bottom:0%!important}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;width:30%;margin:15px;font-weight:700;text-align:center}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:2.5rem}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;position:sticky;top:100%;width:100%;align-items:center;justify-content:center}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:2rem;border:none;border-radius:10px;margin:15px;color:#fff;font-size:large;font-weight:700;cursor:pointer}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:red}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background-color:green}"]}),r})()},{path:"learn",component:(()=>{class r{constructor(e){this.router=e}goToPage(e=""){const o=["/home"];e.length&&o.push(e),this.router.navigate(o)}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(Gr))},r.\u0275cmp=p.Xpm({type:r,selectors:[["app-learn"]],decls:40,vars:0,consts:[[1,"cardGrid"],[1,"rentCard"],[1,"card"],["src","assets/c.jpg",1,"center",2,"width","400px","height","300px"],[1,"center"],[1,"button",3,"click"],[1,"buyCard"],["src","assets/b.jpg",1,"center",2,"width","400px","height","300px"],[1,"sellCard"],["src","assets/a.jpg",1,"center",2,"width","400px","height","300px"]],template:function(e,o){1&e&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),p._uU(4," Renter's Guide"),p.qZA(),p._UZ(5,"img",3)(6,"br")(7,"br"),p.TgZ(8,"p",4),p._uU(9,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."),p.qZA(),p._UZ(10,"br")(11,"br"),p.TgZ(12,"button",5),p.NdJ("click",function(){return o.goToPage("RH.html")}),p._uU(13,"CLICK HERE"),p.qZA()()(),p.TgZ(14,"div",6)(15,"div",2)(16,"h2"),p._uU(17," Buyer's Guide"),p.qZA(),p._UZ(18,"img",7)(19,"br")(20,"br"),p.TgZ(21,"p",4),p._uU(22,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."),p.qZA(),p._UZ(23,"br")(24,"br"),p.TgZ(25,"button",5),p.NdJ("click",function(){return o.goToPage("RH.html")}),p._uU(26,"CLICK HERE"),p.qZA()()(),p.TgZ(27,"div",8)(28,"div",2)(29,"h3"),p._uU(30," Seller's Guide"),p.qZA(),p._UZ(31,"img",9)(32,"br")(33,"br"),p.TgZ(34,"p",4),p._uU(35,"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book."),p.qZA(),p._UZ(36,"br")(37,"br"),p.TgZ(38,"button",5),p.NdJ("click",function(){return o.goToPage("RH.html")}),p._uU(39,"CLICK HERE"),p.qZA()()()())},styles:[".cardGrid[_ngcontent-%COMP%]{display:grid;columns:3;padding:5%;grid-column-gap:5%;column-gap:5%}.rentCard[_ngcontent-%COMP%]{grid-column-start:0;grid-column-end:1}.buyCard[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:2}.sellCard[_ngcontent-%COMP%]{grid-column-start:2;grid-column-end:3}.card[_ngcontent-%COMP%]{height:700px;border:2px solid black;border-radius:50px}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{font-family:Helvetica;color:#404040;text-align:center;font-size:35px}p1[_ngcontent-%COMP%]{font-size:20px;text-align:center}p[_ngcontent-%COMP%]{font-size:15px;text-align:left;font-style:italic;font-weight:700;font-family:Helvetica}h[_ngcontent-%COMP%]{text-align:left;font-size:25px;font-style:italic}hx[_ngcontent-%COMP%]{font-size:40px;text-align:center}button[_ngcontent-%COMP%]{width:50%;margin-left:25%;margin-right:25%}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:50%}"]}),r})()}];let YE=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=p.oAB({type:r}),r.\u0275inj=p.cJS({imports:[[zf.forRoot(zs)],zf]}),r})(),ab=(()=>{class r{constructor(e){this.title="homehunter"}}return r.\u0275fac=function(e){return new(e||r)(p.Y36(Td))},r.\u0275cmp=p.Xpm({type:r,selectors:[["app-root"]],decls:18,vars:0,consts:[[1,"container"],["href","#","routerLinkActive","router-link-active","routerLink","/home",1,"logo"],["href","#","routerLinkActive","router-link-active","routerLink","/buy"],["href","#","routerLinkActive","router-link-active","routerLink","/sell"],["href","#","routerLinkActive","router-link-active","routerLink","/learn"]],template:function(e,o){1&e&&(p.TgZ(0,"header")(1,"div",0)(2,"a",1),p._uU(3,"HomeHunter"),p.qZA(),p.TgZ(4,"nav")(5,"ul")(6,"li")(7,"a",2),p._uU(8,"Listings"),p.qZA()(),p.TgZ(9,"li")(10,"a",3),p._uU(11,"Sell"),p.qZA()(),p.TgZ(12,"li")(13,"a",4),p._uU(14,"Learn"),p.qZA()()()()()(),p._UZ(15,"body"),p.TgZ(16,"div",0),p._UZ(17,"router-outlet"),p.qZA())},directives:[Gf,zm,Am],styles:[""]}),r})();const Yv_firebase={projectId:"homehunter-cosc3p94",appId:"1:713223580883:web:52fb46fd3530c01989b826",databaseURL:"https://homehunter-cosc3p94-default-rtdb.firebaseio.com",storageBucket:"homehunter-cosc3p94.appspot.com",apiKey:"AIzaSyBfmSrOUgl2EiP-zSL3zpvyRxyPkJqBHqo",authDomain:"homehunter-cosc3p94.firebaseapp.com",messagingSenderId:"713223580883",measurementId:"G-E56XXYXNGG"};let JE=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=p.oAB({type:r,bootstrap:[ab]}),r.\u0275inj=p.cJS({providers:[],imports:[[Ro,_i.hO.initializeApp(Yv_firebase),Oy,YE]]}),r})();(0,p.G48)(),yl().bootstrapModule(JE).catch(r=>console.error(r))},5867:(ze,ve,O)=>{O.d(ve,{C6:()=>p.getApps,Mq:()=>p.getApp});var p=O(9681);(0,p.registerVersion)("firebase","9.6.9","app")},127:(ze,ve,O)=>{O.d(ve,{Z:()=>p.Z});var p=O(3942);p.Z.registerVersion("firebase","9.6.9","app-compat")},2092:(ze,ve,O)=>{O.r(ve);var p=O(5861),q=O(3942),x=O(2090),se=O(9681),J=O(655),de=O(1877),ie=O(4859);const Te=function Le(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Pe=function be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ce=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new de.Yd("@firebase/auth");function Fe(m,...c){je.logLevel<=de.in.ERROR&&je.error(`Auth (${se.SDK_VERSION}): ${m}`,...c)}function Ce(m,...c){throw Re(m,...c)}function ge(m,...c){return Re(m,...c)}function me(m,c,f){const y=Object.assign(Object.assign({},Pe()),{[c]:f});return new x.LL("auth","Firebase",y).create(c,{appName:m.name})}function Ne(m,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&Ce(m,"argument-error"),me(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Re(m,...c){if("string"!=typeof m){const f=c[0],y=[...c.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(f,...y)}return ce.create(m,...c)}function ee(m,c,...f){if(!m)throw Re(c,...f)}function G(m){const c="INTERNAL ASSERTION FAILED: "+m;throw Fe(c),new Error(c)}function te(m,c){m||G(c)}const he=new Map;function ne(m){te(m instanceof Function,"Expected a class definition");let c=he.get(m);return c?(te(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,he.set(m,c),c)}function lt(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Nt(){return"http:"===fn()||"https:"===fn()}function fn(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ht{constructor(c,f){this.shortDelay=c,this.longDelay=f,te(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function Ze(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $t(m,c){te(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class Lr{static initialize(c,f,y){this.fetchImpl=c,f&&(this.headersImpl=f),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void G("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void G("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void G("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zr=new Ht(3e4,6e4);function kt(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function wt(m,c,f,y){return kn.apply(this,arguments)}function kn(){return(kn=(0,p.Z)(function*(m,c,f,y,D={}){return sr(m,D,(0,p.Z)(function*(){let M={},W={};y&&("GET"===c?W=y:M={body:JSON.stringify(y)});const re=(0,x.xO)(Object.assign({key:m.config.apiKey},W)).slice(1),Oe=yield m._getAdditionalHeaders();return Oe["Content-Type"]="application/json",m.languageCode&&(Oe["X-Firebase-Locale"]=m.languageCode),Lr.fetch()(er(m,m.config.apiHost,f,re),Object.assign({method:c,headers:Oe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function sr(m,c,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,p.Z)(function*(m,c,f){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},Ft),c);try{const D=new ai(m),M=yield Promise.race([f(),D.promise]);D.clearNetworkTimeout();const W=yield M.json();if("needConfirmation"in W)throw qr(m,"account-exists-with-different-credential",W);if(M.ok&&!("errorMessage"in W))return W;{const re=M.ok?W.errorMessage:W.error.message,[Oe,He]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw qr(m,"credential-already-in-use",W);if("EMAIL_EXISTS"===Oe)throw qr(m,"email-already-in-use",W);const nt=y[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw me(m,nt,He);Ce(m,nt)}}catch(D){if(D instanceof x.ZR)throw D;Ce(m,"network-request-failed")}})).apply(this,arguments)}function Xn(m,c,f,y){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,p.Z)(function*(m,c,f,y,D={}){const M=yield wt(m,c,f,y,D);return"mfaPendingCredential"in M&&Ce(m,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function er(m,c,f,y){const D=`${c}${f}?${y}`;return m.config.emulator?$t(m.config,D):`${m.config.apiScheme}://${D}`}class ai{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,y)=>{this.timer=setTimeout(()=>y(ge(this.auth,"network-request-failed")),zr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qr(m,c,f){const y={appName:m.name};f.email&&(y.email=f.email),f.phoneNumber&&(y.phoneNumber=f.phoneNumber);const D=ge(m,c,y);return D.customData._tokenResponse=f,D}function or(){return(or=(0,p.Z)(function*(m,c){return wt(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Pn(m,c){return In.apply(this,arguments)}function In(){return(In=(0,p.Z)(function*(m,c){return wt(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Er(m,c){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,p.Z)(function*(m,c){return wt(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Zt(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch(c){}}function qs(){return(qs=(0,p.Z)(function*(m,c=!1){const f=(0,x.m9)(m),y=yield f.getIdToken(c),D=Ge(y);ee(D&&D.exp&&D.auth_time&&D.iat,f.auth,"internal-error");const M="object"==typeof D.firebase?D.firebase:void 0,W=null==M?void 0:M.sign_in_provider;return{claims:D,token:y,authTime:Zt(bt(D.auth_time)),issuedAtTime:Zt(bt(D.iat)),expirationTime:Zt(bt(D.exp)),signInProvider:W||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function bt(m){return 1e3*Number(m)}function Ge(m){const[c,f,y]=m.split(".");if(void 0===c||void 0===f||void 0===y)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,x.tV)(f);return D?JSON.parse(D):(Fe("Failed to decode base64 JWT payload"),null)}catch(D){return Fe("Caught error parsing JWT payload as JSON",D),null}}function Ln(m,c){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,p.Z)(function*(m,c,f=!1){if(f)return c;try{return yield c}catch(y){throw y instanceof x.ZR&&It(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}function It({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class ms{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const D=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const y=this.getInterval(c);this.timerId=setTimeout((0,p.Z)(function*(){yield f.iteration()}),y)}iteration(){var c=this;return(0,p.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&c.schedule(!0))}c.schedule()})()}}class jn{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zt(this.lastLoginAt),this.creationTime=Zt(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Fn(m){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,p.Z)(function*(m){var c;const f=m.auth,y=yield m.getIdToken(),D=yield Ln(m,Er(f,{idToken:y}));ee(null==D?void 0:D.users.length,f,"internal-error");const M=D.users[0];m._notifyReloadListener(M);const W=(null===(c=M.providerUserInfo)||void 0===c?void 0:c.length)?Ee(M.providerUserInfo):[],re=Ue(m.providerData,W),nt=!!m.isAnonymous&&!(m.email&&M.passwordHash||(null==re?void 0:re.length)),qe={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:re,metadata:new jn(M.createdAt,M.lastLoginAt),isAnonymous:nt};Object.assign(m,qe)})).apply(this,arguments)}function yt(){return(yt=(0,p.Z)(function*(m){const c=(0,x.m9)(m);yield Fn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Ue(m,c){return[...m.filter(y=>!c.some(D=>D.providerId===y.providerId)),...c]}function Ee(m){return m.map(c=>{var{providerId:f}=c,y=(0,J._T)(c,["providerId"]);return{providerId:f,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function Qe(){return(Qe=(0,p.Z)(function*(m,c){const f=yield sr(m,{},(0,p.Z)(function*(){const y=(0,x.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:D,apiKey:M}=m.config,W=er(m,D,"/v1/token",`key=${M}`),re=yield m._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",Lr.fetch()(W,{method:"POST",headers:re,body:y})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ee(c.idToken,"internal-error"),ee(void 0!==c.idToken,"internal-error"),ee(void 0!==c.refreshToken,"internal-error");const f="expiresIn"in c&&void 0!==c.expiresIn?Number(c.expiresIn):function st(m){const c=Ge(m);return ee(c,"internal-error"),ee(void 0!==c.exp,"internal-error"),ee(void 0!==c.iat,"internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var y=this;return(0,p.Z)(function*(){return ee(!y.accessToken||y.refreshToken,c,"user-token-expired"),f||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(c,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var y=this;return(0,p.Z)(function*(){const{accessToken:D,refreshToken:M,expiresIn:W}=yield function Ve(m,c){return Qe.apply(this,arguments)}(c,f);y.updateTokensAndExpiration(D,M,Number(W))})()}updateTokensAndExpiration(c,f,y){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(c,f){const{refreshToken:y,accessToken:D,expirationTime:M}=f,W=new Ct;return y&&(ee("string"==typeof y,"internal-error",{appName:c}),W.refreshToken=y),D&&(ee("string"==typeof D,"internal-error",{appName:c}),W.accessToken=D),M&&(ee("number"==typeof M,"internal-error",{appName:c}),W.expirationTime=M),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Ct,this.toJSON())}_performRefresh(){return G("not implemented")}}function gt(m,c){ee("string"==typeof m||void 0===m,"internal-error",{appName:c})}class B{constructor(c){var{uid:f,auth:y,stsTokenManager:D}=c,M=(0,J._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ms(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=y,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new jn(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,p.Z)(function*(){const y=yield Ln(f,f.stsTokenManager.getToken(f.auth,c));return ee(y,f.auth,"internal-error"),f.accessToken!==y&&(f.accessToken=y,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),y})()}getIdTokenResult(c){return function li(m){return qs.apply(this,arguments)}(this,c)}reload(){return function Hn(m){return yt.apply(this,arguments)}(this)}_assign(c){this!==c&&(ee(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new B(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var y=this;return(0,p.Z)(function*(){let D=!1;c.idToken&&c.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(c),D=!0),f&&(yield Fn(y)),yield y.auth._persistUserIfCurrent(y),D&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var c=this;return(0,p.Z)(function*(){const f=yield c.getIdToken();return yield Ln(c,function Ke(m,c){return or.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var y,D,M,W,re,Oe,He,nt;const qe=null!==(y=f.displayName)&&void 0!==y?y:void 0,Ot=null!==(D=f.email)&&void 0!==D?D:void 0,Or=null!==(M=f.phoneNumber)&&void 0!==M?M:void 0,Ko=null!==(W=f.photoURL)&&void 0!==W?W:void 0,za=null!==(re=f.tenantId)&&void 0!==re?re:void 0,go=null!==(Oe=f._redirectEventId)&&void 0!==Oe?Oe:void 0,Yo=null!==(He=f.createdAt)&&void 0!==He?He:void 0,Qo=null!==(nt=f.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:Hr,emailVerified:Si,isAnonymous:Yc,providerData:Qc,stsTokenManager:mo}=f;ee(Hr&&mo,c,"internal-error");const dp=Ct.fromJSON(this.name,mo);ee("string"==typeof Hr,c,"internal-error"),gt(qe,c.name),gt(Ot,c.name),ee("boolean"==typeof Si,c,"internal-error"),ee("boolean"==typeof Yc,c,"internal-error"),gt(Or,c.name),gt(Ko,c.name),gt(za,c.name),gt(go,c.name),gt(Yo,c.name),gt(Qo,c.name);const Jc=new B({uid:Hr,auth:c,email:Ot,emailVerified:Si,displayName:qe,isAnonymous:Yc,photoURL:Ko,phoneNumber:Or,tenantId:za,stsTokenManager:dp,createdAt:Yo,lastLoginAt:Qo});return Qc&&Array.isArray(Qc)&&(Jc.providerData=Qc.map(Gu=>Object.assign({},Gu))),go&&(Jc._redirectEventId=go),Jc}static _fromIdTokenResponse(c,f,y=!1){return(0,p.Z)(function*(){const D=new Ct;D.updateFromServerResponse(f);const M=new B({uid:f.localId,auth:c,stsTokenManager:D,isAnonymous:y});return yield Fn(M),M})()}}const $=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(f,y){var D=this;return(0,p.Z)(function*(){D.storage[f]=y})()}_get(f){var y=this;return(0,p.Z)(function*(){const D=y.storage[f];return void 0===D?null:D})()}_remove(f){var y=this;return(0,p.Z)(function*(){delete y.storage[f]})()}_addListener(f,y){}_removeListener(f,y){}}return m.type="NONE",m})();function le(m,c,f){return`firebase:${m}:${c}:${f}`}class K{constructor(c,f,y){this.persistence=c,this.auth=f,this.userKey=y;const{config:D,name:M}=this.auth;this.fullUserKey=le(this.userKey,D.apiKey,M),this.fullPersistenceKey=le("persistence",D.apiKey,M),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,p.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?B._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,p.Z)(function*(){if(f.persistence===c)return;const y=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,y?f.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,y="authUser"){return(0,p.Z)(function*(){if(!f.length)return new K(ne($),c,y);const D=(yield Promise.all(f.map(function(){var He=(0,p.Z)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return He.apply(this,arguments)}}()))).filter(He=>He);let M=D[0]||ne($);const W=le(y,c.config.apiKey,c.name);let re=null;for(const He of f)try{const nt=yield He._get(W);if(nt){const qe=B._fromJSON(c,nt);He!==M&&(re=qe),M=He;break}}catch(nt){}const Oe=D.filter(He=>He._shouldAllowMigration);return M._shouldAllowMigration&&Oe.length?(M=Oe[0],re&&(yield M._set(W,re.toJSON())),yield Promise.all(f.map(function(){var He=(0,p.Z)(function*(nt){if(nt!==M)try{yield nt._remove(W)}catch(qe){}});return function(nt){return He.apply(this,arguments)}}())),new K(M,c,y)):new K(M,c,y)})()}}function xe(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(At(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(tt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(ft(c))return"Blackberry";if(Gt(c))return"Webos";if(Mt(c))return"Safari";if((c.includes("chrome/")||$n(c))&&!c.includes("edge/"))return"Chrome";if(un(c))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function tt(m=(0,x.z$)()){return/firefox\//i.test(m)}function Mt(m=(0,x.z$)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function $n(m=(0,x.z$)()){return/crios\//i.test(m)}function At(m=(0,x.z$)()){return/iemobile/i.test(m)}function un(m=(0,x.z$)()){return/android/i.test(m)}function ft(m=(0,x.z$)()){return/blackberry/i.test(m)}function Gt(m=(0,x.z$)()){return/webos/i.test(m)}function On(m=(0,x.z$)()){return/iphone|ipad|ipod/i.test(m)}function ui(m=(0,x.z$)()){return On(m)||un(m)||Gt(m)||ft(m)||/windows phone/i.test(m)||At(m)}function To(m,c=[]){let f;switch(m){case"Browser":f=xe((0,x.z$)());break;case"Worker":f=`${xe((0,x.z$)())}-${m}`;break;default:f=m}const y=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${se.SDK_VERSION}/${y}`}class wr{constructor(c,f,y){this.app=c,this.heartbeatServiceProvider=f,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pt(this),this.idTokenSubscription=new pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(c,f){var y=this;return f&&(this._popupRedirectResolver=ne(f)),this._initializationPromise=this.queue((0,p.Z)(function*(){var D,M;if(!y._deleted&&(y.persistenceManager=yield K.create(y,c),!y._deleted)){if(null===(D=y._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(W){}yield y.initializeCurrentUser(f),y.lastNotifiedUid=(null===(M=y.currentUser)||void 0===M?void 0:M.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,p.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f)}})()}initializeCurrentUser(c){var f=this;return(0,p.Z)(function*(){var y;let D=yield f.assertedPersistence.getCurrentUser();if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const M=null===(y=f.redirectUser)||void 0===y?void 0:y._redirectEventId,W=null==D?void 0:D._redirectEventId,re=yield f.tryRedirectSignIn(c);(!M||M===W)&&(null==re?void 0:re.user)&&(D=re.user)}return D?D._redirectEventId?(ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===D._redirectEventId?f.directlySetCurrentUser(D):f.reloadAndSetCurrentUserOrClear(D)):f.reloadAndSetCurrentUserOrClear(D):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(c){var f=this;return(0,p.Z)(function*(){let y=null;try{y=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch(D){yield f._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,p.Z)(function*(){try{yield Fn(c)}catch(y){if("auth/network-request-failed"!==y.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Xe(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,p.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,p.Z)(function*(){const y=c?(0,x.m9)(c):null;return y&&ee(y.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(y&&y._clone(f))})()}_updateCurrentUser(c){var f=this;return(0,p.Z)(function*(){if(!f._deleted)return c&&ee(f.tenantId===c.tenantId,f,"tenant-id-mismatch"),f.queue((0,p.Z)(function*(){yield f.directlySetCurrentUser(c),f.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,p.Z)(function*(){return(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null)})()}setPersistence(c){var f=this;return this.queue((0,p.Z)(function*(){yield f.assertedPersistence.setPersistence(ne(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new x.LL("auth","Firebase",c())}onAuthStateChanged(c,f,y){return this.registerStateListener(this.authStateSubscription,c,f,y)}onIdTokenChanged(c,f,y){return this.registerStateListener(this.idTokenSubscription,c,f,y)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var y=this;return(0,p.Z)(function*(){const D=yield y.getOrInitRedirectPersistenceManager(f);return null===c?D.removeCurrentUser():D.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,p.Z)(function*(){if(!f.redirectPersistenceManager){const y=c&&ne(c)||f._popupRedirectResolver;ee(y,f,"argument-error"),f.redirectPersistenceManager=yield K.create(f,[ne(y._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,p.Z)(function*(){var y,D;return f._isInitialized&&(yield f.queue((0,p.Z)(function*(){}))),(null===(y=f._currentUser)||void 0===y?void 0:y._redirectEventId)===c?f._currentUser:(null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,p.Z)(function*(){if(c===f.currentUser)return f.queue((0,p.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,y,D){if(this._deleted)return()=>{};const M="function"==typeof f?f:f.next.bind(f),W=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(W,this,"internal-error"),W.then(()=>M(this.currentUser)),"function"==typeof f?c.addObserver(f,y,D):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,p.Z)(function*(){f.currentUser&&f.currentUser!==c&&(f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh()),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=To(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,p.Z)(function*(){var f;const y={"X-Client-Version":c.clientVersion};c.app.options.appId&&(y["X-Firebase-gmpid"]=c.app.options.appId);const D=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return D&&(y["X-Firebase-Client"]=D),y})()}}function Ae(m){return(0,x.m9)(m)}class pt{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,x.ne)(f=>this.observer=f)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Un(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function yn(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class Ut{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return G("not implemented")}_getIdTokenResponse(c){return G("not implemented")}_linkToIdToken(c,f){return G("not implemented")}_getReauthenticationResolver(c){return G("not implemented")}}function pn(m,c){return ki.apply(this,arguments)}function ki(){return(ki=(0,p.Z)(function*(m,c){return wt(m,"POST","/v1/accounts:resetPassword",kt(m,c))})).apply(this,arguments)}function dt(m,c){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,p.Z)(function*(m,c){return wt(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ys(m,c){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,p.Z)(function*(m,c){return wt(m,"POST","/v1/accounts:update",kt(m,c))})).apply(this,arguments)}function xn(){return(xn=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithPassword",kt(m,c))})).apply(this,arguments)}function ci(m,c){return di.apply(this,arguments)}function di(){return(di=(0,p.Z)(function*(m,c){return wt(m,"POST","/v1/accounts:sendOobCode",kt(m,c))})).apply(this,arguments)}function tr(m,c){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,p.Z)(function*(m,c){return ci(m,c)})).apply(this,arguments)}function la(m,c){return ua.apply(this,arguments)}function ua(){return(ua=(0,p.Z)(function*(m,c){return ci(m,c)})).apply(this,arguments)}function Fr(m,c){return br.apply(this,arguments)}function br(){return(br=(0,p.Z)(function*(m,c){return ci(m,c)})).apply(this,arguments)}function ou(m,c){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(m,c){return ci(m,c)})).apply(this,arguments)}function ar(){return(ar=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithEmailLink",kt(m,c))})).apply(this,arguments)}function au(){return(au=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithEmailLink",kt(m,c))})).apply(this,arguments)}class da extends Ut{constructor(c,f,y,D=null){super("password",y),this._email=c,this._password=f,this._tenantId=D}static _fromEmailAndPassword(c,f){return new da(c,f,"password")}static _fromEmailAndCode(c,f,y=null){return new da(c,f,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,p.Z)(function*(){switch(f.signInMethod){case"password":return function Li(m,c){return xn.apply(this,arguments)}(c,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function ca(m,c){return ar.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:Ce(c,"internal-error")}})()}_linkToIdToken(c,f){var y=this;return(0,p.Z)(function*(){switch(y.signInMethod){case"password":return dt(c,{idToken:f,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function al(m,c){return au.apply(this,arguments)}(c,{idToken:f,email:y._email,oobCode:y._password});default:Ce(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function vn(m,c){return lu.apply(this,arguments)}function lu(){return(lu=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithIdp",kt(m,c))})).apply(this,arguments)}class hi extends Ut{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new hi(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):Ce("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:D}=f,M=(0,J._T)(f,["providerId","signInMethod"]);if(!y||!D)return null;const W=new hi(y,D);return W.idToken=M.idToken||void 0,W.accessToken=M.accessToken||void 0,W.secret=M.secret,W.nonce=M.nonce,W.pendingToken=M.pendingToken||null,W}_getIdTokenResponse(c){return vn(c,this.buildRequest())}_linkToIdToken(c,f){const y=this.buildRequest();return y.idToken=f,vn(c,y)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,vn(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,x.xO)(f)}return c}}function Qd(m,c){return uu.apply(this,arguments)}function uu(){return(uu=(0,p.Z)(function*(m,c){return wt(m,"POST","/v1/accounts:sendVerificationCode",kt(m,c))})).apply(this,arguments)}function Ui(){return(Ui=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,c))})).apply(this,arguments)}function cu(){return(cu=(0,p.Z)(function*(m,c){const f=yield Xn(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,c));if(f.temporaryProof)throw qr(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Xd={USER_NOT_FOUND:"user-not-found"};function du(){return(du=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Xd)})).apply(this,arguments)}class Ys extends Ut{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new Ys({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new Ys({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function ll(m,c){return Ui.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function Jd(m,c){return cu.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function eh(m,c){return du.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:y,verificationCode:D}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:y,code:D}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:y,phoneNumber:D,temporaryProof:M}=c;return y||f||D||M?new Ys({verificationId:f,verificationCode:y,phoneNumber:D,temporaryProof:M}):null}}class vs{constructor(c){var f,y,D,M,W,re;const Oe=(0,x.zd)((0,x.pd)(c)),He=null!==(f=Oe.apiKey)&&void 0!==f?f:null,nt=null!==(y=Oe.oobCode)&&void 0!==y?y:null,qe=function Kf(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Oe.mode)&&void 0!==D?D:null);ee(He&&nt&&qe,"argument-error"),this.apiKey=He,this.operation=qe,this.code=nt,this.continueUrl=null!==(M=Oe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(W=Oe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(re=Oe.tenantId)&&void 0!==re?re:null}static parseLink(c){const f=function ha(m){const c=(0,x.zd)((0,x.pd)(m)).link,f=c?(0,x.zd)((0,x.pd)(c)).deep_link_id:null,y=(0,x.zd)((0,x.pd)(m)).deep_link_id;return(y?(0,x.zd)((0,x.pd)(y)).link:null)||y||f||c||m}(c);try{return new vs(f)}catch(y){return null}}}let ul=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,y){return da._fromEmailAndPassword(f,y)}static credentialWithLink(f,y){const D=vs.parseLink(y);return ee(D,"argument-error"),da._fromEmailAndCode(f,D.code,D.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Bi{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class lr extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Qs extends lr{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return ee("providerId"in f&&"signInMethod"in f,"argument-error"),hi._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ee(c.idToken||c.accessToken,"argument-error"),hi._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Qs.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Qs.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:y,oauthTokenSecret:D,pendingToken:M,nonce:W,providerId:re}=c;if(!y&&!D&&!f&&!M||!re)return null;try{return new Qs(re)._credential({idToken:f,accessToken:y,nonce:W,pendingToken:M})}catch(Oe){return null}}}let Cs=(()=>{class m extends lr{constructor(){super("facebook.com")}static credential(f){return hi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(y){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),So=(()=>{class m extends lr{constructor(){super("google.com"),this.addScope("profile")}static credential(f,y){return hi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:y})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:D}=f;if(!y&&!D)return null;try{return m.credential(y,D)}catch(M){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),hu=(()=>{class m extends lr{constructor(){super("github.com")}static credential(f){return hi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(y){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Js extends Ut{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return vn(c,this.buildRequest())}_linkToIdToken(c,f){const y=this.buildRequest();return y.idToken=f,vn(c,y)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,vn(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:D,pendingToken:M}=f;return y&&D&&M&&y===D?new Js(y,M):null}static _create(c,f){return new Js(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ir extends Bi{constructor(c){ee(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Ir.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Ir.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=Js.fromJSON(c);return ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:y}=c;if(!f||!y)return null;try{return Js._create(y,f)}catch(D){return null}}}let fa=(()=>{class m extends lr{constructor(){super("twitter.com")}static credential(f,y){return hi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:y})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:y,oauthTokenSecret:D}=f;if(!y||!D)return null;try{return m.credential(y,D)}catch(M){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function pa(m,c){return ur.apply(this,arguments)}function ur(){return(ur=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signUp",kt(m,c))})).apply(this,arguments)}class Wn{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,y,D=!1){return(0,p.Z)(function*(){const M=yield B._fromIdTokenResponse(c,y,D),W=xc(y);return new Wn({user:M,providerId:W,_tokenResponse:y,operationType:f})})()}static _forOperation(c,f,y){return(0,p.Z)(function*(){yield c._updateTokensIfNecessary(y,!0);const D=xc(y);return new Wn({user:c,providerId:D,_tokenResponse:y,operationType:f})})()}}function xc(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function fu(){return(fu=(0,p.Z)(function*(m){var c;const f=Ae(m);if(yield f._initializationPromise,null===(c=f.currentUser)||void 0===c?void 0:c.isAnonymous)return new Wn({user:f.currentUser,providerId:null,operationType:"signIn"});const y=yield pa(f,{returnSecureToken:!0}),D=yield Wn._fromIdTokenResponse(f,"signIn",y,!0);return yield f._updateCurrentUser(D.user),D})).apply(this,arguments)}class ma extends x.ZR{constructor(c,f,y,D){var M;super(f.code,f.message),this.operationType=y,this.user=D,Object.setPrototypeOf(this,ma.prototype),this.customData={appName:c.name,tenantId:null!==(M=c.tenantId)&&void 0!==M?M:void 0,_serverResponse:f.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(c,f,y,D){return new ma(c,f,y,D)}}function _a(m,c,f,y){return("reauthenticate"===c?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?ma._fromErrorAndOperation(m,M,c,y):M})}function fi(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function cl(){return(cl=(0,p.Z)(function*(m,c){const f=(0,x.m9)(m);yield ji(!0,f,c);const{providerUserInfo:y}=yield Pn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),D=fi(y||[]);return f.providerData=f.providerData.filter(M=>D.has(M.providerId)),D.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function qt(m,c){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,p.Z)(function*(m,c,f=!1){const y=yield Ln(m,c._linkToIdToken(m.auth,yield m.getIdToken()),f);return Wn._forOperation(m,"link",y)})).apply(this,arguments)}function ji(m,c,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,p.Z)(function*(m,c,f){yield Fn(c);const D=!1===m?"provider-already-linked":"no-such-provider";ee(fi(c.providerData).has(f)===m,c.auth,D)})).apply(this,arguments)}function pu(m,c){return Es.apply(this,arguments)}function Es(){return(Es=(0,p.Z)(function*(m,c,f=!1){const{auth:y}=m,D="reauthenticate";try{const M=yield Ln(m,_a(y,D,c,m),f);ee(M.idToken,y,"internal-error");const W=Ge(M.idToken);ee(W,y,"internal-error");const{sub:re}=W;return ee(m.uid===re,y,"user-mismatch"),Wn._forOperation(m,D,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Ce(y,"user-mismatch"),M}})).apply(this,arguments)}function ws(m,c){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,p.Z)(function*(m,c,f=!1){const y="signIn",D=yield _a(m,y,c),M=yield Wn._fromIdTokenResponse(m,y,D);return f||(yield m._updateCurrentUser(M.user)),M})).apply(this,arguments)}function gn(m,c){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,p.Z)(function*(m,c){return ws(Ae(m),c)})).apply(this,arguments)}function Ur(m,c){return zn.apply(this,arguments)}function zn(){return(zn=(0,p.Z)(function*(m,c){const f=(0,x.m9)(m);return yield ji(!1,f,c.providerId),qt(f,c)})).apply(this,arguments)}function Hi(m,c){return pi.apply(this,arguments)}function pi(){return(pi=(0,p.Z)(function*(m,c){return pu((0,x.m9)(m),c)})).apply(this,arguments)}function ya(m,c){return cr.apply(this,arguments)}function cr(){return(cr=(0,p.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithCustomToken",kt(m,c))})).apply(this,arguments)}function Wi(){return(Wi=(0,p.Z)(function*(m,c){const f=Ae(m),y=yield ya(f,{token:c,returnSecureToken:!0}),D=yield Wn._fromIdTokenResponse(f,"signIn",y);return yield f._updateCurrentUser(D.user),D})).apply(this,arguments)}class Je{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?va._fromServerResponse(c,f):Ce(c,"internal-error")}}class va extends Je{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new va(f)}}function Oo(m,c,f){var y;ee((null===(y=f.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),ee(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ee(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(ee(f.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function Ea(){return(Ea=(0,p.Z)(function*(m,c,f){const y=(0,x.m9)(m),D={requestType:"PASSWORD_RESET",email:c};f&&Oo(y,D,f),yield la(y,D)})).apply(this,arguments)}function dl(){return(dl=(0,p.Z)(function*(m,c,f){yield pn((0,x.m9)(m),{oobCode:c,newPassword:f})})).apply(this,arguments)}function ye(){return(ye=(0,p.Z)(function*(m,c){yield ys((0,x.m9)(m),{oobCode:c})})).apply(this,arguments)}function mt(m,c){return fl.apply(this,arguments)}function fl(){return(fl=(0,p.Z)(function*(m,c){const f=(0,x.m9)(m),y=yield pn(f,{oobCode:c}),D=y.requestType;switch(ee(D,f,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(y.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(y.mfaInfo,f,"internal-error");default:ee(y.email,f,"internal-error")}let M=null;return y.mfaInfo&&(M=Je._fromServerResponse(Ae(f),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:M},operation:D}})).apply(this,arguments)}function eo(){return(eo=(0,p.Z)(function*(m,c){const{data:f}=yield mt((0,x.m9)(m),c);return f.email})).apply(this,arguments)}function dr(){return(dr=(0,p.Z)(function*(m,c,f){const y=Ae(m),D=yield pa(y,{returnSecureToken:!0,email:c,password:f}),M=yield Wn._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}function gu(){return(gu=(0,p.Z)(function*(m,c,f){const y=(0,x.m9)(m),D={requestType:"EMAIL_SIGNIN",email:c};ee(f.handleCodeInApp,y,"argument-error"),f&&Oo(y,D,f),yield Fr(y,D)})).apply(this,arguments)}function Gi(){return(Gi=(0,p.Z)(function*(m,c,f){const y=(0,x.m9)(m),D=ul.credentialWithLink(c,f||lt());return ee(D._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),gn(y,D)})).apply(this,arguments)}function Bn(m,c){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,p.Z)(function*(m,c){return wt(m,"POST","/v1/accounts:createAuthUri",kt(m,c))})).apply(this,arguments)}function zi(){return(zi=(0,p.Z)(function*(m,c){const y={identifier:c,continueUri:Nt()?lt():"http://localhost"},{signinMethods:D}=yield Bn((0,x.m9)(m),y);return D||[]})).apply(this,arguments)}function _l(){return(_l=(0,p.Z)(function*(m,c){const f=(0,x.m9)(m),D={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&Oo(f.auth,D,c);const{email:M}=yield tr(f.auth,D);M!==m.email&&(yield m.reload())})).apply(this,arguments)}function Ta(){return(Ta=(0,p.Z)(function*(m,c,f){const y=(0,x.m9)(m),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};f&&Oo(y.auth,M,f);const{email:W}=yield ou(y.auth,M);W!==m.email&&(yield m.reload())})).apply(this,arguments)}function yl(m,c){return xo.apply(this,arguments)}function xo(){return(xo=(0,p.Z)(function*(m,c){return wt(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function vl(){return(vl=(0,p.Z)(function*(m,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const y=(0,x.m9)(m),M={idToken:yield y.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},W=yield Ln(y,yl(y.auth,M));y.displayName=W.displayName||null,y.photoURL=W.photoUrl||null;const re=y.providerData.find(({providerId:Oe})=>"password"===Oe);re&&(re.displayName=y.displayName,re.photoURL=y.photoURL),yield y._updateTokensIfNecessary(W)})).apply(this,arguments)}function El(m,c,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,p.Z)(function*(m,c,f){const{auth:y}=m,M={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(M.email=c),f&&(M.password=f);const W=yield Ln(m,dt(y,M));yield m._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Is{constructor(c,f,y={}){this.isNewUser=c,this.providerId=f,this.profile=y}}class yu extends Is{constructor(c,f,y,D){super(c,f,y),this.username=D}}class vu extends Is{constructor(c,f){super(c,"facebook.com",f)}}class Ds extends yu{constructor(c,f){super(c,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Zi extends Is{constructor(c,f){super(c,"google.com",f)}}class wl extends yu{constructor(c,f,y){super(c,"twitter.com",f,y)}}function Zn(m){const{user:c,_tokenResponse:f}=m;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function _u(m){var c,f;if(!m)return null;const{providerId:y}=m,D=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},M=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&(null==m?void 0:m.idToken)){const W=null===(f=null===(c=Ge(m.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(W)return new Is(M,"anonymous"!==W&&"custom"!==W?W:null)}if(!y)return null;switch(y){case"facebook.com":return new vu(M,D);case"github.com":return new Ds(M,D);case"google.com":return new Zi(M,D);case"twitter.com":return new wl(M,D,m.screenName||null);case"custom":case"anonymous":return new Is(M,null);default:return new Is(M,y,D)}}(f)}class gi{constructor(c,f){this.type=c,this.credential=f}static _fromIdtoken(c){return new gi("enroll",c)}static _fromMfaPendingCredential(c){return new gi("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,y;if(null==c?void 0:c.multiFactorSession){if(null===(f=c.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return gi._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null===(y=c.multiFactorSession)||void 0===y?void 0:y.idToken)return gi._fromIdtoken(c.multiFactorSession.idToken)}return null}}class No{constructor(c,f,y){this.session=c,this.hints=f,this.signInResolver=y}static _fromError(c,f){const y=Ae(c),D=f.customData._serverResponse,M=(D.mfaInfo||[]).map(re=>Je._fromServerResponse(y,re));ee(D.mfaPendingCredential,y,"internal-error");const W=gi._fromMfaPendingCredential(D.mfaPendingCredential);return new No(W,M,function(){var re=(0,p.Z)(function*(Oe){const He=yield Oe._process(y,W);delete D.mfaInfo,delete D.mfaPendingCredential;const nt=Object.assign(Object.assign({},D),{idToken:He.idToken,refreshToken:He.refreshToken});switch(f.operationType){case"signIn":const qe=yield Wn._fromIdTokenResponse(y,f.operationType,nt);return yield y._updateCurrentUser(qe.user),qe;case"reauthenticate":return ee(f.user,y,"internal-error"),Wn._forOperation(f.user,f.operationType,nt);default:Ce(y,"internal-error")}});return function(Oe){return re.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,p.Z)(function*(){return f.signInResolver(c)})()}}function Cn(m,c){return wt(m,"POST","/v2/accounts/mfaEnrollment:start",kt(m,c))}class mi{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(y=>Je._fromServerResponse(c.auth,y)))})}static _fromUser(c){return new mi(c)}getSession(){var c=this;return(0,p.Z)(function*(){return gi._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,f){var y=this;return(0,p.Z)(function*(){const D=c,M=yield y.getSession(),W=yield Ln(y.user,D._process(y.user.auth,M,f));return yield y.user._updateTokensIfNecessary(W),y.user.reload()})()}unenroll(c){var f=this;return(0,p.Z)(function*(){const y="string"==typeof c?c:c.uid,D=yield f.user.getIdToken(),M=yield Ln(f.user,function nh(m,c){return wt(m,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(m,c))}(f.user.auth,{idToken:D,mfaEnrollmentId:y}));f.enrolledFactors=f.enrolledFactors.filter(({uid:W})=>W!==y),yield f.user._updateTokensIfNecessary(M);try{yield f.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const no=new WeakMap,Dl="__sak";class Ts{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(Dl,"1"),this.storage.removeItem(Dl),Promise.resolve(!0)):Promise.resolve(!1)}catch(c){return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const qn=(()=>{class m extends Ts{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,y)=>this.onStorageEvent(f,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wu(){const m=(0,x.z$)();return Mt(m)||On(m)}()&&function Dn(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=ui(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const y of Object.keys(this.listeners)){const D=this.storage.getItem(y),M=this.localCache[y];D!==M&&f(y,M,D)}}onStorageEvent(f,y=!1){if(!f.key)return void this.forAllChangedKeys((re,Oe,He)=>{this.notifyListeners(re,He)});const D=f.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(D);if(f.newValue!==re)null!==f.newValue?this.storage.setItem(D,f.newValue):this.storage.removeItem(D);else if(this.localCache[D]===f.newValue&&!y)return}const M=()=>{const re=this.storage.getItem(D);!y&&this.localCache[D]===re||this.notifyListeners(D,re)},W=this.storage.getItem(D);!function Do(){return(0,x.w1)()&&10===document.documentMode}()||W===f.newValue||f.newValue===f.oldValue?M():setTimeout(M,10)}notifyListeners(f,y){this.localCache[f]=y;const D=this.listeners[f];if(D)for(const M of Array.from(D))M(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,y,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:y,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,y){var D=()=>super._set,M=this;return(0,p.Z)(function*(){yield D().call(M,f,y),M.localCache[f]=JSON.stringify(y)})()}_get(f){var y=()=>super._get,D=this;return(0,p.Z)(function*(){const M=yield y().call(D,f);return D.localCache[f]=JSON.stringify(M),M})()}_remove(f){var y=()=>super._remove,D=this;return(0,p.Z)(function*(){yield y().call(D,f),delete D.localCache[f]})()}}return m.type="LOCAL",m})(),nr=(()=>{class m extends Ts{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,y){}_removeListener(f,y){}}return m.type="SESSION",m})();let et=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const y=this.receivers.find(M=>M.isListeningto(f));if(y)return y;const D=new m(f);return this.receivers.push(D),D}isListeningto(f){return this.eventTarget===f}handleEvent(f){var y=this;return(0,p.Z)(function*(){const D=f,{eventId:M,eventType:W,data:re}=D.data,Oe=y.handlersMap[W];if(!(null==Oe?void 0:Oe.size))return;D.ports[0].postMessage({status:"ack",eventId:M,eventType:W});const He=Array.from(Oe).map(function(){var qe=(0,p.Z)(function*(Ot){return Ot(D.origin,re)});return function(Ot){return qe.apply(this,arguments)}}()),nt=yield function En(m){return Promise.all(m.map(function(){var c=(0,p.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(y){return{fulfilled:!1,reason:y}}});return function(f){return c.apply(this,arguments)}}()))}(He);D.ports[0].postMessage({status:"done",eventId:M,eventType:W,response:nt})})()}_subscribe(f,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(y)}_unsubscribe(f,y){this.handlersMap[f]&&y&&this.handlersMap[f].delete(y),(!y||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Ki(m="",c=10){let f="";for(let y=0;y<c;y++)f+=Math.floor(10*Math.random());return m+f}class St{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,y=50){var D=this;return(0,p.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let W,re;return new Promise((Oe,He)=>{const nt=Ki("",20);M.port1.start();const qe=setTimeout(()=>{He(new Error("unsupported_event"))},y);re={messageChannel:M,onMessage(Ot){const Or=Ot;if(Or.data.eventId===nt)switch(Or.data.status){case"ack":clearTimeout(qe),W=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Oe(Or.data.response);break;default:clearTimeout(qe),clearTimeout(W),He(new Error("invalid_response"))}}},D.handlers.add(re),M.port1.addEventListener("message",re.onMessage),D.target.postMessage({eventType:c,eventId:nt,data:f},[M.port2])}).finally(()=>{re&&D.removeMessageHandler(re)})})()}}function Wt(){return window}function tn(){return void 0!==Wt().WorkerGlobalScope&&"function"==typeof Wt().importScripts}function nn(){return(nn=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Yi="firebaseLocalStorageDb",ro="firebaseLocalStorage",io="fbase_key";class yi{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function so(m,c){return m.transaction([ro],c?"readwrite":"readonly").objectStore(ro)}function oo(){const m=indexedDB.open(Yi,1);return new Promise((c,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore(ro,{keyPath:io})}catch(D){f(D)}}),m.addEventListener("success",(0,p.Z)(function*(){const y=m.result;y.objectStoreNames.contains(ro)?c(y):(y.close(),yield function rn(){const m=indexedDB.deleteDatabase(Yi);return new yi(m).toPromise()}(),c(yield oo()))}))})}function Tl(m,c,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,p.Z)(function*(m,c,f){const y=so(m,!0).put({[io]:c,value:f});return new yi(y).toPromise()})).apply(this,arguments)}function Vr(){return(Vr=(0,p.Z)(function*(m,c){const f=so(m,!1).get(c),y=yield new yi(f).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function R(m,c){const f=so(m,!0).delete(c);return new yi(f).toPromise()}const Tr=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,p.Z)(function*(){return f.db||(f.db=yield oo()),f.db})()}_withRetries(f){var y=this;return(0,p.Z)(function*(){let D=0;for(;;)try{const M=yield y._openDb();return yield f(M)}catch(M){if(D++>3)throw M;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,p.Z)(function*(){return tn()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,p.Z)(function*(){f.receiver=et._getInstance(function ko(){return tn()?self:null}()),f.receiver._subscribe("keyChanged",function(){var y=(0,p.Z)(function*(D,M){return{keyProcessed:(yield f._poll()).includes(M.key)}});return function(D,M){return y.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var y=(0,p.Z)(function*(D,M){return["keyChanged"]});return function(D,M){return y.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,p.Z)(function*(){var y,D;if(f.activeServiceWorker=yield function Tn(){return nn.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new St(f.activeServiceWorker);const M=yield f.sender._send("ping",{},800);!M||(null===(y=M[0])||void 0===y?void 0:y.fulfilled)&&(null===(D=M[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var y=this;return(0,p.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function ih(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:f},y.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const f=yield oo();return yield Tl(f,Dl,"1"),yield R(f,Dl),!0}catch(f){}return!1})()}_withPendingWrite(f){var y=this;return(0,p.Z)(function*(){y.pendingWrites++;try{yield f()}finally{y.pendingWrites--}})()}_set(f,y){var D=this;return(0,p.Z)(function*(){return D._withPendingWrite((0,p.Z)(function*(){return yield D._withRetries(M=>Tl(M,f,y)),D.localCache[f]=y,D.notifyServiceWorker(f)}))})()}_get(f){var y=this;return(0,p.Z)(function*(){const D=yield y._withRetries(M=>function vi(m,c){return Vr.apply(this,arguments)}(M,f));return y.localCache[f]=D,D})()}_remove(f){var y=this;return(0,p.Z)(function*(){return y._withPendingWrite((0,p.Z)(function*(){return yield y._withRetries(D=>R(D,f)),delete y.localCache[f],y.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,p.Z)(function*(){const y=yield f._withRetries(W=>{const re=so(W,!1).getAll();return new yi(re).toPromise()});if(!y)return[];if(0!==f.pendingWrites)return[];const D=[],M=new Set;for(const{fbase_key:W,value:re}of y)M.add(W),JSON.stringify(f.localCache[W])!==JSON.stringify(re)&&(f.notifyListeners(W,re),D.push(W));for(const W of Object.keys(f.localCache))f.localCache[W]&&!M.has(W)&&(f.notifyListeners(W,null),D.push(W));return D})()}notifyListeners(f,y){this.localCache[f]=y;const D=this.listeners[f];if(D)for(const M of Array.from(D))M(y)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function bu(m,c){return wt(m,"POST","/v2/accounts/mfaSignIn:start",kt(m,c))}function jr(){return(jr=(0,p.Z)(function*(m){return(yield wt(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Qi(m){return new Promise((c,f)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=c,y.onerror=D=>{const M=ge("internal-error");M.customData=D,f(M)},y.type="text/javascript",y.charset="UTF-8",function As(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(y)})}function Ci(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Kn=1e12;class Ps{constructor(c){this.auth=c,this.counter=Kn,this._widgets=new Map}render(c,f){const y=this.counter;return this._widgets.set(y,new Oa(c,this.auth.name,f||{})),this.counter++,y}reset(c){var f;const y=c||Kn;null===(f=this._widgets.get(y))||void 0===f||f.delete(),this._widgets.delete(y)}getResponse(c){var f;return(null===(f=this._widgets.get(c||Kn))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,p.Z)(function*(){var y;return null===(y=f._widgets.get(c||Kn))||void 0===y||y.execute(),""})()}}class Oa{constructor(c,f,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof c?document.getElementById(c):c;ee(D,"argument-error",{appName:f}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ms(m){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)c.push(f.charAt(Math.floor(Math.random()*f.length)));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch(y){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(y){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const dn=Ci("rcb"),xa=new Ht(3e4,6e4);class wi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wt().grecaptcha}load(c,f=""){return ee(function fr(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),c,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Wt().grecaptcha):new Promise((y,D)=>{const M=Wt().setTimeout(()=>{D(ge(c,"network-request-failed"))},xa.get());Wt()[dn]=()=>{Wt().clearTimeout(M),delete Wt()[dn];const re=Wt().grecaptcha;if(!re)return void D(ge(c,"internal-error"));const Oe=re.render;re.render=(He,nt)=>{const qe=Oe(He,nt);return this.counter++,qe},this.hostLanguage=f,y(re)},Qi(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:dn,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(M),D(ge(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!Wt().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class sh{load(c){return(0,p.Z)(function*(){return new Ps(c)})()}clearedOneInstance(){}}const Lo="recaptcha",Fc={theme:"light",type:"image"};class Ji{constructor(c,f=Object.assign({},Fc),y){this.parameters=f,this.type=Lo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ae(y),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof c?document.getElementById(c):c;ee(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new sh:new wi,this.validateStartingState()}verify(){var c=this;return(0,p.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),y=c.getAssertedRecaptcha();return y.getResponse(f)||new Promise(M=>{const W=re=>{!re||(c.tokenChangeListeners.delete(W),M(re))};c.tokenChangeListeners.add(W),c.isInvisible&&y.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(y=>y(f)),"function"==typeof c)c(f);else if("string"==typeof c){const y=Wt()[c];"function"==typeof y&&y(f)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,p.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const y=document.createElement("div");f.appendChild(y),f=y}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,p.Z)(function*(){ee(Nt()&&!tn(),c.auth,"internal-error"),yield function bi(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function Iu(m){return jr.apply(this,arguments)}(c.auth);ee(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class pr{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=Ys._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function Kt(){return(Kt=(0,p.Z)(function*(m,c,f){const y=Ae(m),D=yield Yn(y,c,(0,x.m9)(f));return new pr(D,M=>gn(y,M))})).apply(this,arguments)}function Os(){return(Os=(0,p.Z)(function*(m,c,f){const y=(0,x.m9)(m);yield ji(!1,y,"phone");const D=yield Yn(y.auth,c,(0,x.m9)(f));return new pr(D,M=>Ur(y,M))})).apply(this,arguments)}function Ra(){return(Ra=(0,p.Z)(function*(m,c,f){const y=(0,x.m9)(m),D=yield Yn(y.auth,c,(0,x.m9)(f));return new pr(D,M=>Hi(y,M))})).apply(this,arguments)}function Yn(m,c,f){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(m,c,f){var y;const D=yield f.verify();try{let M;if(ee("string"==typeof D,m,"argument-error"),ee(f.type===Lo,m,"argument-error"),M="string"==typeof c?{phoneNumber:c}:c,"session"in M){const W=M.session;if("phoneNumber"in M)return ee("enroll"===W.type,m,"internal-error"),(yield Cn(m,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{ee("signin"===W.type,m,"internal-error");const re=(null===(y=M.multiFactorHint)||void 0===y?void 0:y.uid)||M.multiFactorUid;return ee(re,m,"missing-multi-factor-info"),(yield bu(m,{mfaPendingCredential:W.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Qd(m,{phoneNumber:M.phoneNumber,recaptchaToken:D});return W}}finally{f._reset()}})).apply(this,arguments)}function Xi(){return(Xi=(0,p.Z)(function*(m,c){yield qt((0,x.m9)(m),c)})).apply(this,arguments)}let Sr=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=Ae(f)}verifyPhoneNumber(f,y){return Yn(this.auth,f,(0,x.m9)(y))}static credential(f,y){return Ys._fromVerification(f,y)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:y,temporaryProof:D}=f;return y&&D?Ys._fromTokenResponse(y,D):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Pr(m,c){return c?ne(c):(ee(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class es extends Ut{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return vn(c,this._buildIdpRequest())}_linkToIdToken(c,f){return vn(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return vn(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function ts(m){return ws(m.auth,new es(m),m.bypassAuthState)}function Tu(m){const{auth:c,user:f}=m;return ee(f,c,"internal-error"),pu(f,new es(m),m.bypassAuthState)}function lo(m){return Al.apply(this,arguments)}function Al(){return(Al=(0,p.Z)(function*(m){const{auth:c,user:f}=m;return ee(f,c,"internal-error"),qt(f,new es(m),m.bypassAuthState)})).apply(this,arguments)}class gr{constructor(c,f,y,D,M=!1){this.auth=c,this.resolver=y,this.user=D,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,p.Z)(function*(y,D){c.pendingPromise={resolve:y,reject:D};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(M){c.reject(M)}});return function(y,D){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,p.Z)(function*(){const{urlResponse:y,sessionId:D,postBody:M,tenantId:W,error:re,type:Oe}=c;if(re)return void f.reject(re);const He={auth:f.auth,requestUri:y,sessionId:D,tenantId:W||void 0,postBody:M||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Oe)(He))}catch(nt){f.reject(nt)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return ts;case"linkViaPopup":case"linkViaRedirect":return lo;case"reauthViaPopup":case"reauthViaRedirect":return Tu;default:Ce(this.auth,"internal-error")}}resolve(c){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uo=new Ht(2e3,1e4);function Sl(){return(Sl=(0,p.Z)(function*(m,c,f){const y=Ae(m);Ne(m,c,Bi);const D=Pr(y,f);return new Jr(y,"signInViaPopup",c,D).executeNotNull()})).apply(this,arguments)}function Uo(){return(Uo=(0,p.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Bi);const D=Pr(y.auth,f);return new Jr(y.auth,"reauthViaPopup",c,D,y).executeNotNull()})).apply(this,arguments)}function Na(){return(Na=(0,p.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Bi);const D=Pr(y.auth,f);return new Jr(y.auth,"linkViaPopup",c,D,y).executeNotNull()})).apply(this,arguments)}let Jr=(()=>{class m extends gr{constructor(f,y,D,M,W){super(f,y,M,W),this.provider=D,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,p.Z)(function*(){const y=yield f.execute();return ee(y,f.auth,"internal-error"),y})()}onExecution(){var f=this;return(0,p.Z)(function*(){te(1===f.filter.length,"Popup operations only handle one event");const y=Ki();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],y),f.authWindow.associatedEvent=y,f.resolver._originValidation(f.auth).catch(D=>{f.reject(D)}),f.resolver._isIframeWebStorageSupported(f.auth,D=>{D||f.reject(ge(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var y,D;this.pollId=(null===(D=null===(y=this.authWindow)||void 0===y?void 0:y.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,uo.get())};f()}}return m.currentPopupAction=null,m})();const mr=new Map;class Pl extends gr{constructor(c,f,y=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,y),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,p.Z)(function*(){let y=mr.get(f.auth._key());if(!y){try{const M=(yield function ka(m,c){return Bo.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;y=()=>Promise.resolve(M)}catch(D){y=()=>Promise.reject(D)}mr.set(f.auth._key(),y)}return f.bypassAuthState||mr.set(f.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,y=this;return(0,p.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(y,c);if("unknown"!==c.type){if(c.eventId){const D=yield y.auth._redirectUserForId(c.eventId);if(D)return y.user=D,f().call(y,c);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Bo(){return(Bo=(0,p.Z)(function*(m,c){const f=b(c),y=w(m);if(!(yield y._isAvailable()))return!1;const D="true"===(yield y._get(f));return yield y._remove(f),D})).apply(this,arguments)}function xs(m,c){return co.apply(this,arguments)}function co(){return(co=(0,p.Z)(function*(m,c){return w(m)._set(b(c),"true")})).apply(this,arguments)}function w(m){return ne(m._redirectPersistence)}function b(m){return le("pendingRedirect",m.config.apiKey,m.name)}function z(){return(z=(0,p.Z)(function*(m,c,f){const y=Ae(m);Ne(m,c,Bi);const D=Pr(y,f);return yield xs(D,y),D._openRedirect(y,c,"signInViaRedirect")})).apply(this,arguments)}function Be(){return(Be=(0,p.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Bi);const D=Pr(y.auth,f);yield xs(D,y.auth);const M=yield La(y);return D._openRedirect(y.auth,c,"reauthViaRedirect",M)})).apply(this,arguments)}function Dt(){return(Dt=(0,p.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Bi);const D=Pr(y.auth,f);yield ji(!1,y,c.providerId),yield xs(D,y.auth);const M=yield La(y);return D._openRedirect(y.auth,c,"linkViaRedirect",M)})).apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(m,c){return yield Ae(m)._initializationPromise,mn(m,c,!1)})).apply(this,arguments)}function mn(m,c){return ho.apply(this,arguments)}function ho(){return(ho=(0,p.Z)(function*(m,c,f=!1){const y=Ae(m),D=Pr(y,c),W=yield new Pl(y,D,f).execute();return W&&!f&&(delete W.user._redirectEventId,yield y._persistUserIfCurrent(W.user),yield y._setRedirectUser(null,c)),W})).apply(this,arguments)}function La(m){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,p.Z)(function*(m){const c=Ki(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class Di{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(c,y)&&(f=!0,this.sendToConsumer(c,y),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function lh(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ah(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var y;if(c.error&&!ah(c)){const D=(null===(y=c.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";f.onError(ge(this.auth,D))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const y=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&y}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Rs(c))}saveEventToCache(c){this.cachedEventUids.add(Rs(c)),this.lastProcessedEventTime=Date.now()}}function Rs(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function ah({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===(null==c?void 0:c.code)}function Ns(m){return fo.apply(this,arguments)}function fo(){return(fo=(0,p.Z)(function*(m,c={}){return wt(m,"GET","/v1/projects",c)})).apply(this,arguments)}const uh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qf=/^https?/;function ei(){return(ei=(0,p.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield Ns(m);for(const f of c)try{if(Vo(f))return}catch(y){}Ce(m,"unauthorized-domain")})).apply(this,arguments)}function Vo(m){const c=lt(),{protocol:f,hostname:y}=new URL(c);if(m.startsWith("chrome-extension://")){const W=new URL(m);return""===W.hostname&&""===y?"chrome-extension:"===f&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&W.hostname===y}if(!Qf.test(f))return!1;if(uh.test(m))return y===m;const D=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(y)}const Jf=new Ht(3e4,6e4);function Xf(){const m=Wt().___jsl;if(null==m?void 0:m.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Su=null;function dh(m){return Su=Su||function ch(m){return new Promise((c,f)=>{var y,D,M;function W(){Xf(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Xf(),f(ge(m,"network-request-failed"))},timeout:Jf.get()})}if(null===(D=null===(y=Wt().gapi)||void 0===y?void 0:y.iframes)||void 0===D?void 0:D.Iframe)c(gapi.iframes.getContext());else{if(!(null===(M=Wt().gapi)||void 0===M?void 0:M.load)){const re=Ci("iframefcb");return Wt()[re]=()=>{gapi.load?W():f(ge(m,"network-request-failed"))},Qi(`https://apis.google.com/js/api.js?onload=${re}`).catch(Oe=>f(Oe))}W()}}).catch(c=>{throw Su=null,c})}(m),Su}const hh=new Ht(5e3,15e3),Pu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jo(m){const c=m.config;ee(c.authDomain,m,"auth-domain-config-required");const f=c.emulator?$t(c,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,y={apiKey:c.apiKey,appName:m.name,v:se.SDK_VERSION},D=Mu.get(m.config.apiHost);D&&(y.eid=D);const M=m._getFrameworks();return M.length&&(y.fw=M.join(",")),`${f}?${(0,x.xO)(y).slice(1)}`}function Ou(){return Ou=(0,p.Z)(function*(m){const c=yield dh(m),f=Wt().gapi;return ee(f,m,"internal-error"),c.open({where:document.body,url:jo(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Pu,dontclear:!0},y=>new Promise(function(){var D=(0,p.Z)(function*(M,W){yield y.restyle({setHideOnLeave:!1});const re=ge(m,"network-request-failed"),Oe=Wt().setTimeout(()=>{W(re)},hh.get());function He(){Wt().clearTimeout(Oe),M(y)}y.ping(He).then(He,()=>{W(re)})});return function(M,W){return D.apply(this,arguments)}}()))}),Ou.apply(this,arguments)}const Jm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ru{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function rs(m,c,f,y,D,M){ee(m.config.authDomain,m,"auth-domain-config-required"),ee(m.config.apiKey,m,"invalid-api-key");const W={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:y,v:se.SDK_VERSION,eventId:D};if(c instanceof Bi){c.setDefaultLanguage(m.languageCode),W.providerId=c.providerId||"",(0,x.xb)(c.getCustomParameters())||(W.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Oe,He]of Object.entries(M||{}))W[Oe]=He}if(c instanceof lr){const Oe=c.getScopes().filter(He=>""!==He);Oe.length>0&&(W.scopes=Oe.join(","))}m.tenantId&&(W.tid=m.tenantId);const re=W;for(const Oe of Object.keys(re))void 0===re[Oe]&&delete re[Oe];return`${function Yt({config:m}){return m.emulator?$t(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,x.xO)(re).slice(1)}`}const ti="webStorageSupport";class sn extends class tp{constructor(c){this.factorId=c}_process(c,f,y){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,y);case"signin":return this._finalizeSignIn(c,f.credential);default:return G("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new sn(c)}_finalizeEnroll(c,f,y){return function Cu(m,c){return wt(m,"POST","/v2/accounts/mfaEnrollment:finalize",kt(m,c))}(c,{idToken:f,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function Ma(m,c){return wt(m,"POST","/v2/accounts/mfaSignIn:finalize",kt(m,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Et=(()=>{class m{constructor(){}static assertion(f){return sn._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var _r="@firebase/auth",np="0.19.10";class Nu{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,p.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(y=>{var D;c((null===(D=y)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);!f||(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ho(){return window}function po(){return(po=(0,p.Z)(function*(m,c,f){var y;const{BuildInfo:D}=Ho();te(c.sessionId,"AuthEvent did not contain a session ID");const M=yield e_(c.sessionId),W={};return On()?W.ibi=D.packageName:un()?W.apn=D.packageName:Ce(m,"operation-not-supported-in-this-environment"),D.displayName&&(W.appDisplayName=D.displayName),W.sessionId=M,rs(m,f,c.type,void 0,null!==(y=c.eventId)&&void 0!==y?y:void 0,W)})).apply(this,arguments)}function ri(){return(ri=(0,p.Z)(function*(m){const{BuildInfo:c}=Ho(),f={};On()?f.iosBundleId=c.packageName:un()?f.androidPackageName=c.packageName:Ce(m,"operation-not-supported-in-this-environment"),yield Ns(m,f)})).apply(this,arguments)}function ku(){return(ku=(0,p.Z)(function*(m,c,f){const{cordova:y}=Ho();let D=()=>{};try{yield new Promise((M,W)=>{let re=null;function Oe(){var qe;M();const Ot=null===(qe=y.plugins.browsertab)||void 0===qe?void 0:qe.close;"function"==typeof Ot&&Ot(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function He(){re||(re=window.setTimeout(()=>{W(ge(m,"redirect-cancelled-by-user"))},2e3))}function nt(){"visible"===(null==document?void 0:document.visibilityState)&&He()}c.addPassiveListener(Oe),document.addEventListener("resume",He,!1),un()&&document.addEventListener("visibilitychange",nt,!1),D=()=>{c.removePassiveListener(Oe),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",nt,!1),re&&window.clearTimeout(re)}})}finally{D()}})).apply(this,arguments)}function e_(m){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,p.Z)(function*(m){const c=Ba(m),f=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(f)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ba(m){if(te(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const c=new ArrayBuffer(m.length),f=new Uint8Array(c);for(let y=0;y<m.length;y++)f[y]=m.charCodeAt(y);return f}!function rp(m){(0,se._registerComponent)(new ie.wA("auth",(c,{options:f})=>{const y=c.getProvider("app").getImmediate(),D=c.getProvider("heartbeat"),{apiKey:M,authDomain:W}=y.options;return((re,Oe)=>{ee(M&&!M.includes(":"),"invalid-api-key",{appName:re.name}),ee(!(null==W?void 0:W.includes(":")),"argument-error",{appName:re.name});const He={apiKey:M,authDomain:W,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:To(m)},nt=new wr(re,Oe,He);return function oe(m,c){const f=(null==c?void 0:c.persistence)||[],y=(Array.isArray(f)?f:[f]).map(ne);(null==c?void 0:c.errorMap)&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(y,null==c?void 0:c.popupRedirectResolver)}(nt,f),nt})(y,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,y)=>{c.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ie.wA("auth-internal",c=>{const f=Ae(c.getProvider("auth").getImmediate());return new Nu(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(_r,np,function ni(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,se.registerVersion)(_r,np,"esm2017")}("Browser");class Va extends Di{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(c)),super.onEvent(c)}initialized(){var c=this;return(0,p.Z)(function*(){yield c.initPromise})()}}function is(m){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,p.Z)(function*(m){const c=yield rr()._get($c(m));return c&&(yield rr()._remove($c(m))),c})).apply(this,arguments)}function op(){const m=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const y=Math.floor(Math.random()*c.length);m.push(c.charAt(y))}return m.join("")}function rr(){return ne(qn)}function $c(m){return le("authEvent",m.config.apiKey,m.name)}function Fu(m){if(!(null==m?void 0:m.includes("?")))return{};const[c,...f]=m.split("?");return(0,x.zd)(f.join("?"))}function Go(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function Vu(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function vh(m=(0,x.z$)()){return!("file:"!==Vu()&&"ionic:"!==Vu()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function ln(){try{const m=self.localStorage,c=Ki();if(m)return m.setItem(c,"1"),m.removeItem(c),!function ss(m=(0,x.z$)()){return function Wc(){return(0,x.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ch(m=(0,x.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,x.hl)()}catch(m){return ks()&&(0,x.hl)()}return!1}function ks(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ct(){return(function Qt(){return"http:"===Vu()||"https:"===Vu()}()||(0,x.ru)()||vh())&&!function lp(){return(0,x.b$)()||(0,x.UG)()}()&&ln()&&!ks()}function Gc(){return vh()&&"undefined"!=typeof document}function zo(){return(zo=(0,p.Z)(function*(){return!!Gc()&&new Promise(m=>{const c=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),m(!0)})})})).apply(this,arguments)}const yr={LOCAL:"local",NONE:"none",SESSION:"session"},Ll=ee,Fl="persistence";function Wa(m){return ju.apply(this,arguments)}function ju(){return(ju=(0,p.Z)(function*(m){yield m._initializationPromise;const c=Eh(),f=le(Fl,m.config.apiKey,m.name);c&&c.setItem(f,m._getPersistence())})).apply(this,arguments)}function Eh(){var m;try{return(null===(m=function on(){return"undefined"!=typeof window?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch(c){return null}}const wh=ee;class Ai{constructor(){this.browserResolver=ne(class Nl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nr,this._completeRedirectFn=mn}_openPopup(c,f,y,D){var M=this;return(0,p.Z)(function*(){var W;te(null===(W=M.eventManagers[c._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const re=rs(c,f,y,lt(),D);return function Vc(m,c,f,y=500,D=600){const M=Math.max((window.screen.availHeight-D)/2,0).toString(),W=Math.max((window.screen.availWidth-y)/2,0).toString();let re="";const Oe=Object.assign(Object.assign({},Jm),{width:y.toString(),height:D.toString(),top:M,left:W}),He=(0,x.z$)().toLowerCase();f&&(re=$n(He)?"_blank":f),tt(He)&&(c=c||"http://localhost",Oe.scrollbars="yes");const nt=Object.entries(Oe).reduce((Ot,[Or,Ko])=>`${Ot}${Or}=${Ko},`,"");if(function aa(m=(0,x.z$)()){var c;return On(m)&&!!(null===(c=window.navigator)||void 0===c?void 0:c.standalone)}(He)&&"_self"!==re)return function jt(m,c){const f=document.createElement("a");f.href=m,f.target=c;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(y)}(c||"",re),new Ru(null);const qe=window.open(c||"",re,nt);ee(qe,m,"popup-blocked");try{qe.focus()}catch(Ot){}return new Ru(qe)}(c,re,Ki())})()}_openRedirect(c,f,y,D){var M=this;return(0,p.Z)(function*(){return yield M._originValidation(c),function Sa(m){Wt().location.href=m}(rs(c,f,y,lt(),D)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:D,promise:M}=this.eventManagers[f];return D?Promise.resolve(D):(te(M,"If manager is not set, promise should be"),M)}const y=this.initAndGetManager(c);return this.eventManagers[f]={promise:y},y.catch(()=>{delete this.eventManagers[f]}),y}initAndGetManager(c){var f=this;return(0,p.Z)(function*(){const y=yield function ph(m){return Ou.apply(this,arguments)}(c),D=new Di(c);return y.register("authEvent",M=>(ee(null==M?void 0:M.authEvent,c,"invalid-auth-event"),{status:D.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:D},f.iframes[c._key()]=y,D})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(ti,{type:ti},D=>{var M;const W=null===(M=null==D?void 0:D[0])||void 0===M?void 0:M[ti];void 0!==W&&f(!!W),Ce(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Ol(m){return ei.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return ui()||Mt()||On()}}),this.cordovaResolver=ne(class mh{constructor(){this._redirectPersistence=nr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mn}_initialize(c){var f=this;return(0,p.Z)(function*(){const y=c._key();let D=f.eventManagers.get(y);return D||(D=new Va(c),f.eventManagers.set(y,D),f.attachCallbackListeners(c,D)),D})()}_openPopup(c){Ce(c,"operation-not-supported-in-this-environment")}_openRedirect(c,f,y,D){var M=this;return(0,p.Z)(function*(){!function gh(m){var c,f,y,D,M,W,re,Oe,He,nt;const qe=Ho();ee("function"==typeof(null===(c=null==qe?void 0:qe.universalLinks)||void 0===c?void 0:c.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(void 0!==(null===(f=null==qe?void 0:qe.BuildInfo)||void 0===f?void 0:f.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(M=null===(D=null===(y=null==qe?void 0:qe.cordova)||void 0===y?void 0:y.plugins)||void 0===D?void 0:D.browsertab)||void 0===M?void 0:M.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Oe=null===(re=null===(W=null==qe?void 0:qe.cordova)||void 0===W?void 0:W.plugins)||void 0===re?void 0:re.browsertab)||void 0===Oe?void 0:Oe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(nt=null===(He=null==qe?void 0:qe.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===nt?void 0:nt.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const W=yield M._initialize(c);yield W.initialized(),W.resetRedirect(),function Ml(){mr.clear()}(),yield M._originValidation(c);const re=function ja(m,c,f=null){return{type:c,eventId:f,urlResponse:null,sessionId:op(),postBody:null,tenantId:m.tenantId,error:ge(m,"no-auth-event")}}(c,y,D);yield function sp(m,c){return rr()._set($c(m),c)}(c,re);const Oe=yield function $o(m,c,f){return po.apply(this,arguments)}(c,re,f),He=yield function kl(m){const{cordova:c}=Ho();return new Promise(f=>{c.plugins.browsertab.isAvailable(y=>{let D=null;y?c.plugins.browsertab.openUrl(m):D=c.InAppBrowser.open(m,function _s(m=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(D)})})}(Oe);return function jc(m,c,f){return ku.apply(this,arguments)}(c,W,He)})()}_isIframeWebStorageSupported(c,f){throw new Error("Method not implemented.")}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Ua(m){return ri.apply(this,arguments)}(c)),this.originValidationPromises[f]}attachCallbackListeners(c,f){const{universalLinks:y,handleOpenURL:D,BuildInfo:M}=Ho(),W=setTimeout((0,p.Z)(function*(){yield is(c),f.onEvent(Go())}),500),re=function(){var nt=(0,p.Z)(function*(qe){clearTimeout(W);const Ot=yield is(c);let Or=null;Ot&&(null==qe?void 0:qe.url)&&(Or=function Ti(m,c){var f,y;const D=function Ha(m){const c=Fu(m),f=c.link?decodeURIComponent(c.link):void 0,y=Fu(f).link,D=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return Fu(D).link||D||y||f||m}(c);if(D.includes("/__/auth/callback")){const M=Fu(D),W=M.firebaseError?function Lu(m){try{return JSON.parse(m)}catch(c){return null}}(decodeURIComponent(M.firebaseError)):null,re=null===(y=null===(f=null==W?void 0:W.code)||void 0===f?void 0:f.split("auth/"))||void 0===y?void 0:y[1],Oe=re?ge(re):null;return Oe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:D,postBody:null}}return null}(Ot,qe.url)),f.onEvent(Or||Go())});return function(Ot){return nt.apply(this,arguments)}}();void 0!==y&&"function"==typeof y.subscribe&&y.subscribe(null,re);const Oe=D,He=`${M.packageName.toLowerCase()}://`;Ho().handleOpenURL=function(){var nt=(0,p.Z)(function*(qe){if(qe.toLowerCase().startsWith(He)&&re({url:qe}),"function"==typeof Oe)try{Oe(qe)}catch(Ot){console.error(Ot)}});return function(qe){return nt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=nr,this._completeRedirectFn=mn}_initialize(c){var f=this;return(0,p.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,f,y,D){var M=this;return(0,p.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(c,f,y,D)})()}_openRedirect(c,f,y,D){var M=this;return(0,p.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(c,f,y,D)})()}_isIframeWebStorageSupported(c,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,f)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Gc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,p.Z)(function*(){if(c.underlyingResolver)return;const f=yield function Sn(){return zo.apply(this,arguments)}();c.underlyingResolver=f?c.cordovaResolver:c.browserResolver})()}}function Zc(m){return m.unwrap()}function Zo(m){return bh(m)}function bh(m){const{_tokenResponse:c}=m instanceof x.ZR?m.customData:m;if(!c)return null;if(!(m instanceof x.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Sr.credentialFromResult(m);const f=c.providerId;if(!f||"password"===f)return null;let y;switch(f){case"google.com":y=So;break;case"facebook.com":y=Cs;break;case"github.com":y=hu;break;case"twitter.com":y=fa;break;default:const{oauthIdToken:D,oauthAccessToken:M,oauthTokenSecret:W,pendingToken:re,nonce:Oe}=c;return M||W||D||re?re?f.startsWith("saml.")?Js._create(f,re):hi._fromParams({providerId:f,signInMethod:f,pendingToken:re,idToken:D,accessToken:M}):new Qs(f).credential({idToken:D,accessToken:M,rawNonce:Oe}):null}return m instanceof x.ZR?y.credentialFromError(m):y.credentialFromResult(m)}function Nn(m,c){return c.catch(f=>{throw f instanceof x.ZR&&function Ul(m,c){var f;const y=null===(f=c.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===c.code)c.resolver=new Hu(m,function Aa(m,c){var f;const y=(0,x.m9)(m),D=c;return ee(c.customData.operationType,y,"argument-error"),ee(null===(f=D.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,y,"argument-error"),No._fromError(y,D)}(m,c));else if(y){const D=bh(c),M=c;D&&(M.credential=D,M.tenantId=y.tenantId||void 0,M.email=y.email||void 0,M.phoneNumber=y.phoneNumber||void 0)}}(m,f),f}).then(f=>{const D=f.user;return{operationType:f.operationType,credential:Zo(f),additionalUserInfo:Zn(f),user:Ls.getOrCreate(D)}})}function qo(m,c){return qc.apply(this,arguments)}function qc(){return(qc=(0,p.Z)(function*(m,c){const f=yield c;return{verificationId:f.verificationId,confirm:y=>Nn(m,f.confirm(y))}})).apply(this,arguments)}class Hu{constructor(c,f){this.resolver=f,this.auth=function Ga(m){return m.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Nn(Zc(this.auth),this.resolver.resolveSignIn(c))}}class Ls{constructor(c){this._delegate=c,this.multiFactor=function Eu(m){const c=(0,x.m9)(m);return no.has(c)||no.set(c,mi._fromUser(c)),no.get(c)}(c)}static getOrCreate(c){return Ls.USER_MAP.has(c)||Ls.USER_MAP.set(c,new Ls(c)),Ls.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var f=this;return(0,p.Z)(function*(){return Nn(f.auth,Ur(f._delegate,c))})()}linkWithPhoneNumber(c,f){var y=this;return(0,p.Z)(function*(){return qo(y.auth,function Fo(m,c,f){return Os.apply(this,arguments)}(y._delegate,c,f))})()}linkWithPopup(c){var f=this;return(0,p.Z)(function*(){return Nn(f.auth,function Au(m,c,f){return Na.apply(this,arguments)}(f._delegate,c,Ai))})()}linkWithRedirect(c){var f=this;return(0,p.Z)(function*(){return yield Wa(Ae(f.auth)),function $e(m,c,f){return function ot(m,c,f){return Dt.apply(this,arguments)}(m,c,f)}(f._delegate,c,Ai)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var f=this;return(0,p.Z)(function*(){return Nn(f.auth,Hi(f._delegate,c))})()}reauthenticateWithPhoneNumber(c,f){return qo(this.auth,function Rn(m,c,f){return Ra.apply(this,arguments)}(this._delegate,c,f))}reauthenticateWithPopup(c){return Nn(this.auth,function ns(m,c,f){return Uo.apply(this,arguments)}(this._delegate,c,Ai))}reauthenticateWithRedirect(c){var f=this;return(0,p.Z)(function*(){return yield Wa(Ae(f.auth)),function X(m,c,f){return function Ie(m,c,f){return Be.apply(this,arguments)}(m,c,f)}(f._delegate,c,Ai)})()}sendEmailVerification(c){return function Br(m,c){return _l.apply(this,arguments)}(this._delegate,c)}unlink(c){var f=this;return(0,p.Z)(function*(){return yield function Po(m,c){return cl.apply(this,arguments)}(f._delegate,c),f})()}updateEmail(c){return function Cl(m,c){return El((0,x.m9)(m),c,null)}(this._delegate,c)}updatePassword(c){return function mu(m,c){return El((0,x.m9)(m),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Du(m,c){return Xi.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function Ro(m,c){return vl.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,f){return function Da(m,c,f){return Ta.apply(this,arguments)}(this._delegate,c,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ls.USER_MAP=new WeakMap;const Bl=ee;let Kc=(()=>{class m{constructor(f,y){if(this.app=f,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=f.options;Bl(D,"invalid-api-key",{appName:f.name}),Bl(D,"invalid-api-key",{appName:f.name});const M="undefined"!=typeof window?Ai:void 0;this._delegate=y.initialize({options:{persistence:up(D,f.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ls.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,y){!function zt(m,c,f){const y=Ae(m);ee(y._canInitEmulator,y,"emulator-config-failed"),ee(/^https?:\/\//.test(c),y,"invalid-emulator-scheme");const D=!!(null==f?void 0:f.disableWarnings),M=Un(c),{host:W,port:re}=function Ni(m){const c=Un(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!f)return{host:"",port:null};const y=f[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(y);if(D){const M=D[1];return{host:M,port:yn(y.substr(M.length+1))}}{const[M,W]=y.split(":");return{host:M,port:yn(W)}}}(c);y.config.emulator={url:`${M}//${W}${null===re?"":`:${re}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:W,port:re,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function Yr(){function m(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,y)}applyActionCode(f){return function hl(m,c){return ye.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return mt(this._delegate,f)}confirmPasswordReset(f,y){return function wa(m,c,f){return dl.apply(this,arguments)}(this._delegate,f,y)}createUserWithEmailAndPassword(f,y){var D=this;return(0,p.Z)(function*(){return Nn(D._delegate,function to(m,c,f){return dr.apply(this,arguments)}(D._delegate,f,y))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function Ia(m,c){return zi.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function ml(m,c){const f=vs.parseLink(c);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,p.Z)(function*(){Bl(ct(),f._delegate,"operation-not-supported-in-this-environment");const y=yield function ut(m,c){return An.apply(this,arguments)}(f._delegate,Ai);return y?Nn(f._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function _h(m,c){Ae(m)._logFramework(c)}(this._delegate,f)}onAuthStateChanged(f,y,D){const{next:M,error:W,complete:re}=$u(f,y,D);return this._delegate.onAuthStateChanged(M,W,re)}onIdTokenChanged(f,y,D){const{next:M,error:W,complete:re}=$u(f,y,D);return this._delegate.onIdTokenChanged(M,W,re)}sendSignInLinkToEmail(f,y){return function gl(m,c,f){return gu.apply(this,arguments)}(this._delegate,f,y)}sendPasswordResetEmail(f,y){return function Ca(m,c,f){return Ea.apply(this,arguments)}(this._delegate,f,y||void 0)}setPersistence(f){var y=this;return(0,p.Z)(function*(){let D;switch(function $a(m,c){Ll(Object.values(yr).includes(c),m,"invalid-persistence-type"),(0,x.b$)()?Ll(c!==yr.SESSION,m,"unsupported-persistence-type"):(0,x.UG)()?Ll(c===yr.NONE,m,"unsupported-persistence-type"):ks()?Ll(c===yr.NONE||c===yr.LOCAL&&(0,x.hl)(),m,"unsupported-persistence-type"):Ll(c===yr.NONE||ln(),m,"unsupported-persistence-type")}(y._delegate,f),f){case yr.SESSION:D=nr;break;case yr.LOCAL:D=(yield ne(Tr)._isAvailable())?Tr:qn;break;case yr.NONE:D=$;break;default:return Ce("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return Nn(this._delegate,function ga(m){return fu.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return Nn(this._delegate,gn(this._delegate,f))}signInWithCustomToken(f){return Nn(this._delegate,function $i(m,c){return Wi.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,y){return Nn(this._delegate,function pl(m,c,f){return gn((0,x.m9)(m),ul.credential(c,f))}(this._delegate,f,y))}signInWithEmailLink(f,y){return Nn(this._delegate,function ba(m,c,f){return Gi.apply(this,arguments)}(this._delegate,f,y))}signInWithPhoneNumber(f,y){return qo(this._delegate,function oh(m,c,f){return Kt.apply(this,arguments)}(this._delegate,f,y))}signInWithPopup(f){var y=this;return(0,p.Z)(function*(){return Bl(ct(),y._delegate,"operation-not-supported-in-this-environment"),Nn(y._delegate,function Ii(m,c,f){return Sl.apply(this,arguments)}(y._delegate,f,Ai))})()}signInWithRedirect(f){var y=this;return(0,p.Z)(function*(){return Bl(ct(),y._delegate,"operation-not-supported-in-this-environment"),yield Wa(y._delegate),function S(m,c,f){return function L(m,c,f){return z.apply(this,arguments)}(m,c,f)}(y._delegate,f,Ai)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function en(m,c){return eo.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=yr,m})();function $u(m,c,f){let y=m;"function"!=typeof m&&({next:y,error:c,complete:f}=m);const D=y;return{next:W=>D(W&&Ls.getOrCreate(W)),error:c,complete:f}}function up(m,c){const f=function zc(m,c){const f=Eh();if(!f)return[];const y=le(Fl,m,c);switch(f.getItem(y)){case yr.NONE:return[$];case yr.LOCAL:return[Tr,nr];case yr.SESSION:return[nr];default:return[]}}(m,c);if("undefined"!=typeof self&&!f.includes(Tr)&&f.push(Tr),"undefined"!=typeof window)for(const y of[qn,nr])f.includes(y)||f.push(y);return f.includes($)||f.push($),f}class Vl{constructor(){this.providerId="phone",this._delegate=new Sr(Zc(q.Z.auth()))}static credential(c,f){return Sr.credential(c,f)}verifyPhoneNumber(c,f){return this._delegate.verifyPhoneNumber(c,f)}unwrap(){return this._delegate}}Vl.PHONE_SIGN_IN_METHOD=Sr.PHONE_SIGN_IN_METHOD,Vl.PROVIDER_ID=Sr.PROVIDER_ID;const cp=ee;class Wu{constructor(c,f,y=q.Z.app()){var D;cp(null===(D=y.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new Ji(c,f,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Dh(m){m.INTERNAL.registerComponent(new ie.wA("auth-compat",c=>{const f=c.getProvider("app-compat").getImmediate(),y=c.getProvider("auth");return new Kc(f,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ul,FacebookAuthProvider:Cs,GithubAuthProvider:hu,GoogleAuthProvider:So,OAuthProvider:Qs,SAMLAuthProvider:Ir,PhoneAuthProvider:Vl,PhoneMultiFactorGenerator:Et,RecaptchaVerifier:Wu,TwitterAuthProvider:fa,Auth:Kc,AuthCredential:Ut,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.10")}(q.Z)},8306:(ze,ve,O)=>{O.d(ve,{y:()=>j});var p=O(930),q=O(727),x=O(8822),se=O(4671);var ie=O(2416),ue=O(576),ae=O(2806);let j=(()=>{class be{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const ce=new be;return ce.source=this,ce.operator=Pe,ce}subscribe(Pe,ce,_e){const je=function Le(be){return be&&be instanceof p.Lv||function Y(be){return be&&(0,ue.m)(be.next)&&(0,ue.m)(be.error)&&(0,ue.m)(be.complete)}(be)&&(0,q.Nn)(be)}(Pe)?Pe:new p.Hp(Pe,ce,_e);return(0,ae.x)(()=>{const{operator:Fe,source:Ce}=this;je.add(Fe?Fe.call(je,Ce):Ce?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(ce){Pe.error(ce)}}forEach(Pe,ce){return new(ce=H(ce))((_e,je)=>{const Fe=new p.Hp({next:Ce=>{try{Pe(Ce)}catch(ge){je(ge),Fe.unsubscribe()}},error:je,complete:_e});this.subscribe(Fe)})}_subscribe(Pe){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Pe)}[x.L](){return this}pipe(...Pe){return function de(be){return 0===be.length?se.y:1===be.length?be[0]:function(Pe){return be.reduce((ce,_e)=>_e(ce),Pe)}}(Pe)(this)}toPromise(Pe){return new(Pe=H(Pe))((ce,_e)=>{let je;this.subscribe(Fe=>je=Fe,Fe=>_e(Fe),()=>ce(je))})}}return be.create=Te=>new be(Te),be})();function H(be){var Te;return null!==(Te=null!=be?be:ie.v.Promise)&&void 0!==Te?Te:Promise}},7579:(ze,ve,O)=>{O.d(ve,{x:()=>ie});var p=O(8306),q=O(727);const se=(0,O(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=O(8737),de=O(2806);let ie=(()=>{class ae extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Y=new ue(this,this);return Y.operator=H,Y}_throwIfClosed(){if(this.closed)throw new se}next(H){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Y of this.currentObservers)Y.next(H)}})}error(H){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Y}=this;for(;Y.length;)Y.shift().error(H)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Y,isStopped:Le,observers:be}=this;return Y||Le?q.Lc:(this.currentObservers=null,be.push(H),new q.w0(()=>{this.currentObservers=null,(0,J.P)(be,H)}))}_checkFinalizedStatuses(H){const{hasError:Y,thrownError:Le,isStopped:be}=this;Y?H.error(Le):be&&H.complete()}asObservable(){const H=new p.y;return H.source=this,H}}return ae.create=(j,H)=>new ue(j,H),ae})();class ue extends ie{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Y||Y.call(H,j)}error(j){var H,Y;null===(Y=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Y||Y.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,Y;return null!==(Y=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==Y?Y:q.Lc}}},930:(ze,ve,O)=>{O.d(ve,{Hp:()=>Pe,Lv:()=>Y});var p=O(576),q=O(727),x=O(2416),se=O(7849),J=O(5032);const de=ae("C",void 0,void 0);function ae(Ce,ge,me){return{kind:Ce,value:ge,error:me}}var j=O(3410),H=O(2806);class Y extends q.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,q.Nn)(ge)&&ge.add(this)):this.destination=Fe}static create(ge,me,Ne){return new Pe(ge,me,Ne)}next(ge){this.isStopped?je(function ue(Ce){return ae("N",Ce,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?je(function ie(Ce){return ae("E",void 0,Ce)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?je(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Le=Function.prototype.bind;function be(Ce,ge){return Le.call(Ce,ge)}class Te{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:me}=this;if(me.next)try{me.next(ge)}catch(Ne){ce(Ne)}}error(ge){const{partialObserver:me}=this;if(me.error)try{me.error(ge)}catch(Ne){ce(Ne)}else ce(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(me){ce(me)}}}class Pe extends Y{constructor(ge,me,Ne){let Re;if(super(),(0,p.m)(ge)||!ge)Re={next:null!=ge?ge:void 0,error:null!=me?me:void 0,complete:null!=Ne?Ne:void 0};else{let ee;this&&x.v.useDeprecatedNextContext?(ee=Object.create(ge),ee.unsubscribe=()=>this.unsubscribe(),Re={next:ge.next&&be(ge.next,ee),error:ge.error&&be(ge.error,ee),complete:ge.complete&&be(ge.complete,ee)}):Re=ge}this.destination=new Te(Re)}}function ce(Ce){x.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ce):(0,se.h)(Ce)}function je(Ce,ge){const{onStoppedNotification:me}=x.v;me&&j.z.setTimeout(()=>me(Ce,ge))}const Fe={closed:!0,next:J.Z,error:function _e(Ce){throw Ce},complete:J.Z}},727:(ze,ve,O)=>{O.d(ve,{Lc:()=>de,w0:()=>J,Nn:()=>ie});var p=O(576);const x=(0,O(3888).d)(ae=>function(H){ae(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Y,Le)=>`${Le+1}) ${Y.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var se=O(8737);class J{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const be of H)be.remove(this);else H.remove(this);const{initialTeardown:Y}=this;if((0,p.m)(Y))try{Y()}catch(be){j=be instanceof x?be.errors:[be]}const{_finalizers:Le}=this;if(Le){this._finalizers=null;for(const be of Le)try{ue(be)}catch(Te){j=null!=j?j:[],Te instanceof x?j=[...j,...Te.errors]:j.push(Te)}}if(j)throw new x(j)}}add(j){var H;if(j&&j!==this)if(this.closed)ue(j);else{if(j instanceof J){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,se.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,se.P)(H,j),j instanceof J&&j._removeParent(this)}}J.EMPTY=(()=>{const ae=new J;return ae.closed=!0,ae})();const de=J.EMPTY;function ie(ae){return ae instanceof J||ae&&"closed"in ae&&(0,p.m)(ae.remove)&&(0,p.m)(ae.add)&&(0,p.m)(ae.unsubscribe)}function ue(ae){(0,p.m)(ae)?ae():ae.unsubscribe()}},2416:(ze,ve,O)=>{O.d(ve,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ze,ve,O)=>{O.d(ve,{E:()=>q});const q=new(O(8306).y)(J=>J.complete())},8996:(ze,ve,O)=>{O.d(ve,{D:()=>ge});var p=O(8421),q=O(5363),x=O(9468),de=O(8306),ue=O(2202),ae=O(576),j=O(9672);function Y(me,Ne){if(!me)throw new Error("Iterable cannot be null");return new de.y(Re=>{(0,j.f)(Re,Ne,()=>{const ee=me[Symbol.asyncIterator]();(0,j.f)(Re,Ne,()=>{ee.next().then(G=>{G.done?Re.complete():Re.next(G.value)})},0,!0)})})}var Le=O(3670),be=O(8239),Te=O(1144),Pe=O(6495),ce=O(2206),_e=O(4532),je=O(3260);function ge(me,Ne){return Ne?function Ce(me,Ne){if(null!=me){if((0,Le.c)(me))return function se(me,Ne){return(0,p.Xf)(me).pipe((0,x.R)(Ne),(0,q.Q)(Ne))}(me,Ne);if((0,Te.z)(me))return function ie(me,Ne){return new de.y(Re=>{let ee=0;return Ne.schedule(function(){ee===me.length?Re.complete():(Re.next(me[ee++]),Re.closed||this.schedule())})})}(me,Ne);if((0,be.t)(me))return function J(me,Ne){return(0,p.Xf)(me).pipe((0,x.R)(Ne),(0,q.Q)(Ne))}(me,Ne);if((0,ce.D)(me))return Y(me,Ne);if((0,Pe.T)(me))return function H(me,Ne){return new de.y(Re=>{let ee;return(0,j.f)(Re,Ne,()=>{ee=me[ue.h](),(0,j.f)(Re,Ne,()=>{let G,te;try{({value:G,done:te}=ee.next())}catch(he){return void Re.error(he)}te?Re.complete():Re.next(G)},0,!0)}),()=>(0,ae.m)(null==ee?void 0:ee.return)&&ee.return()})}(me,Ne);if((0,je.L)(me))return function Fe(me,Ne){return Y((0,je.Q)(me),Ne)}(me,Ne)}throw(0,_e.z)(me)}(me,Ne):(0,p.Xf)(me)}},8421:(ze,ve,O)=>{O.d(ve,{Xf:()=>Le});var p=O(655),q=O(1144),x=O(8239),se=O(8306),J=O(3670),de=O(2206),ie=O(4532),ue=O(6495),ae=O(3260),j=O(576),H=O(7849),Y=O(8822);function Le(Ce){if(Ce instanceof se.y)return Ce;if(null!=Ce){if((0,J.c)(Ce))return function be(Ce){return new se.y(ge=>{const me=Ce[Y.L]();if((0,j.m)(me.subscribe))return me.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,q.z)(Ce))return function Te(Ce){return new se.y(ge=>{for(let me=0;me<Ce.length&&!ge.closed;me++)ge.next(Ce[me]);ge.complete()})}(Ce);if((0,x.t)(Ce))return function Pe(Ce){return new se.y(ge=>{Ce.then(me=>{ge.closed||(ge.next(me),ge.complete())},me=>ge.error(me)).then(null,H.h)})}(Ce);if((0,de.D)(Ce))return _e(Ce);if((0,ue.T)(Ce))return function ce(Ce){return new se.y(ge=>{for(const me of Ce)if(ge.next(me),ge.closed)return;ge.complete()})}(Ce);if((0,ae.L)(Ce))return function je(Ce){return _e((0,ae.Q)(Ce))}(Ce)}throw(0,ie.z)(Ce)}function _e(Ce){return new se.y(ge=>{(function Fe(Ce,ge){var me,Ne,Re,ee;return(0,p.mG)(this,void 0,void 0,function*(){try{for(me=(0,p.KL)(Ce);!(Ne=yield me.next()).done;)if(ge.next(Ne.value),ge.closed)return}catch(G){Re={error:G}}finally{try{Ne&&!Ne.done&&(ee=me.return)&&(yield ee.call(me))}finally{if(Re)throw Re.error}}ge.complete()})})(Ce,ge).catch(me=>ge.error(me))})}},6451:(ze,ve,O)=>{O.d(ve,{T:()=>de});var p=O(8189),q=O(8421),x=O(515),se=O(7669),J=O(8996);function de(...ie){const ue=(0,se.yG)(ie),ae=(0,se._6)(ie,1/0),j=ie;return j.length?1===j.length?(0,q.Xf)(j[0]):(0,p.J)(ae)((0,J.D)(j,ue)):x.E}},5403:(ze,ve,O)=>{O.d(ve,{x:()=>q});var p=O(930);function q(se,J,de,ie,ue){return new x(se,J,de,ie,ue)}class x extends p.Lv{constructor(J,de,ie,ue,ae,j){super(J),this.onFinalize=ae,this.shouldUnsubscribe=j,this._next=de?function(H){try{de(H)}catch(Y){J.error(Y)}}:super._next,this._error=ue?function(H){try{ue(H)}catch(Y){J.error(Y)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(H){J.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4004:(ze,ve,O)=>{O.d(ve,{U:()=>x});var p=O(4482),q=O(5403);function x(se,J){return(0,p.e)((de,ie)=>{let ue=0;de.subscribe((0,q.x)(ie,ae=>{ie.next(se.call(J,ae,ue++))}))})}},8189:(ze,ve,O)=>{O.d(ve,{J:()=>x});var p=O(5577),q=O(4671);function x(se=1/0){return(0,p.z)(q.y,se)}},5577:(ze,ve,O)=>{O.d(ve,{z:()=>ue});var p=O(4004),q=O(8421),x=O(4482),se=O(9672),J=O(5403),ie=O(576);function ue(ae,j,H=1/0){return(0,ie.m)(j)?ue((Y,Le)=>(0,p.U)((be,Te)=>j(Y,be,Le,Te))((0,q.Xf)(ae(Y,Le))),H):("number"==typeof j&&(H=j),(0,x.e)((Y,Le)=>function de(ae,j,H,Y,Le,be,Te,Pe){const ce=[];let _e=0,je=0,Fe=!1;const Ce=()=>{Fe&&!ce.length&&!_e&&j.complete()},ge=Ne=>_e<Y?me(Ne):ce.push(Ne),me=Ne=>{be&&j.next(Ne),_e++;let Re=!1;(0,q.Xf)(H(Ne,je++)).subscribe((0,J.x)(j,ee=>{null==Le||Le(ee),be?ge(ee):j.next(ee)},()=>{Re=!0},void 0,()=>{if(Re)try{for(_e--;ce.length&&_e<Y;){const ee=ce.shift();Te?(0,se.f)(j,Te,()=>me(ee)):me(ee)}Ce()}catch(ee){j.error(ee)}}))};return ae.subscribe((0,J.x)(j,ge,()=>{Fe=!0,Ce()})),()=>{null==Pe||Pe()}}(Y,Le,ae,H)))}},5363:(ze,ve,O)=>{O.d(ve,{Q:()=>se});var p=O(9672),q=O(4482),x=O(5403);function se(J,de=0){return(0,q.e)((ie,ue)=>{ie.subscribe((0,x.x)(ue,ae=>(0,p.f)(ue,J,()=>ue.next(ae),de),()=>(0,p.f)(ue,J,()=>ue.complete(),de),ae=>(0,p.f)(ue,J,()=>ue.error(ae),de)))})}},3099:(ze,ve,O)=>{O.d(ve,{B:()=>de});var p=O(8996),q=O(5698),x=O(7579),se=O(930),J=O(4482);function de(ue={}){const{connector:ae=(()=>new x.x),resetOnError:j=!0,resetOnComplete:H=!0,resetOnRefCountZero:Y=!0}=ue;return Le=>{let be=null,Te=null,Pe=null,ce=0,_e=!1,je=!1;const Fe=()=>{null==Te||Te.unsubscribe(),Te=null},Ce=()=>{Fe(),be=Pe=null,_e=je=!1},ge=()=>{const me=be;Ce(),null==me||me.unsubscribe()};return(0,J.e)((me,Ne)=>{ce++,!je&&!_e&&Fe();const Re=Pe=null!=Pe?Pe:ae();Ne.add(()=>{ce--,0===ce&&!je&&!_e&&(Te=ie(ge,Y))}),Re.subscribe(Ne),be||(be=new se.Hp({next:ee=>Re.next(ee),error:ee=>{je=!0,Fe(),Te=ie(Ce,j,ee),Re.error(ee)},complete:()=>{_e=!0,Fe(),Te=ie(Ce,H),Re.complete()}}),(0,p.D)(me).subscribe(be))})(Le)}}function ie(ue,ae,...j){return!0===ae?(ue(),null):!1===ae?null:ae(...j).pipe((0,q.q)(1)).subscribe(()=>ue())}},9468:(ze,ve,O)=>{O.d(ve,{R:()=>q});var p=O(4482);function q(x,se=0){return(0,p.e)((J,de)=>{de.add(x.schedule(()=>J.subscribe(de),se))})}},5698:(ze,ve,O)=>{O.d(ve,{q:()=>se});var p=O(515),q=O(4482),x=O(5403);function se(J){return J<=0?()=>p.E:(0,q.e)((de,ie)=>{let ue=0;de.subscribe((0,x.x)(ie,ae=>{++ue<=J&&(ie.next(ae),J<=ue&&ie.complete())}))})}},8505:(ze,ve,O)=>{O.d(ve,{b:()=>J});var p=O(576),q=O(4482),x=O(5403),se=O(4671);function J(de,ie,ue){const ae=(0,p.m)(de)||ie||ue?{next:de,error:ie,complete:ue}:de;return ae?(0,q.e)((j,H)=>{var Y;null===(Y=ae.subscribe)||void 0===Y||Y.call(ae);let Le=!0;j.subscribe((0,x.x)(H,be=>{var Te;null===(Te=ae.next)||void 0===Te||Te.call(ae,be),H.next(be)},()=>{var be;Le=!1,null===(be=ae.complete)||void 0===be||be.call(ae),H.complete()},be=>{var Te;Le=!1,null===(Te=ae.error)||void 0===Te||Te.call(ae,be),H.error(be)},()=>{var be,Te;Le&&(null===(be=ae.unsubscribe)||void 0===be||be.call(ae)),null===(Te=ae.finalize)||void 0===Te||Te.call(ae)}))}):se.y}},4408:(ze,ve,O)=>{O.d(ve,{o:()=>J});var p=O(727);class q extends p.w0{constructor(ie,ue){super()}schedule(ie,ue=0){return this}}const x={setInterval(de,ie,...ue){const{delegate:ae}=x;return(null==ae?void 0:ae.setInterval)?ae.setInterval(de,ie,...ue):setInterval(de,ie,...ue)},clearInterval(de){const{delegate:ie}=x;return((null==ie?void 0:ie.clearInterval)||clearInterval)(de)},delegate:void 0};var se=O(8737);class J extends q{constructor(ie,ue){super(ie,ue),this.scheduler=ie,this.work=ue,this.pending=!1}schedule(ie,ue=0){if(this.closed)return this;this.state=ie;const ae=this.id,j=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(j,ae,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(j,this.id,ue),this}requestAsyncId(ie,ue,ae=0){return x.setInterval(ie.flush.bind(ie,this),ae)}recycleAsyncId(ie,ue,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return ue;x.clearInterval(ue)}execute(ie,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(ie,ue);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ue){let j,ae=!1;try{this.work(ie)}catch(H){ae=!0,j=H||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ue}=this,{actions:ae}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ae,this),null!=ie&&(this.id=this.recycleAsyncId(ue,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(ze,ve,O)=>{O.d(ve,{v:()=>x});var p=O(6063);class q{constructor(J,de=q.now){this.schedulerActionCtor=J,this.now=de}schedule(J,de=0,ie){return new this.schedulerActionCtor(this,J).schedule(ie,de)}}q.now=p.l.now;class x extends q{constructor(J,de=q.now){super(J,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:de}=this;if(this._active)return void de.push(J);let ie;this._active=!0;do{if(ie=J.execute(J.state,J.delay))break}while(J=de.shift());if(this._active=!1,ie){for(;J=de.shift();)J.unsubscribe();throw ie}}}},4986:(ze,ve,O)=>{O.d(ve,{z:()=>x});var p=O(4408);const x=new(O(7565).v)(p.o)},6063:(ze,ve,O)=>{O.d(ve,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(ze,ve,O)=>{O.d(ve,{z:()=>p});const p={setTimeout(q,x,...se){const{delegate:J}=p;return(null==J?void 0:J.setTimeout)?J.setTimeout(q,x,...se):setTimeout(q,x,...se)},clearTimeout(q){const{delegate:x}=p;return((null==x?void 0:x.clearTimeout)||clearTimeout)(q)},delegate:void 0}},2202:(ze,ve,O)=>{O.d(ve,{h:()=>q});const q=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ze,ve,O)=>{O.d(ve,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ze,ve,O)=>{O.d(ve,{_6:()=>de,jO:()=>se,yG:()=>J});var p=O(576);function x(ie){return ie[ie.length-1]}function se(ie){return(0,p.m)(x(ie))?ie.pop():void 0}function J(ie){return function q(ie){return ie&&(0,p.m)(ie.schedule)}(x(ie))?ie.pop():void 0}function de(ie,ue){return"number"==typeof x(ie)?ie.pop():ue}},8737:(ze,ve,O)=>{function p(q,x){if(q){const se=q.indexOf(x);0<=se&&q.splice(se,1)}}O.d(ve,{P:()=>p})},3888:(ze,ve,O)=>{function p(q){const se=q(J=>{Error.call(J),J.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}O.d(ve,{d:()=>p})},2806:(ze,ve,O)=>{O.d(ve,{O:()=>se,x:()=>x});var p=O(2416);let q=null;function x(J){if(p.v.useDeprecatedSynchronousErrorHandling){const de=!q;if(de&&(q={errorThrown:!1,error:null}),J(),de){const{errorThrown:ie,error:ue}=q;if(q=null,ie)throw ue}}else J()}function se(J){p.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=J)}},9672:(ze,ve,O)=>{function p(q,x,se,J=0,de=!1){const ie=x.schedule(function(){se(),de?q.add(this.schedule(null,J)):this.unsubscribe()},J);if(q.add(ie),!de)return ie}O.d(ve,{f:()=>p})},4671:(ze,ve,O)=>{function p(q){return q}O.d(ve,{y:()=>p})},1144:(ze,ve,O)=>{O.d(ve,{z:()=>p});const p=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(ze,ve,O)=>{O.d(ve,{D:()=>q});var p=O(576);function q(x){return Symbol.asyncIterator&&(0,p.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(ze,ve,O)=>{function p(q){return"function"==typeof q}O.d(ve,{m:()=>p})},3670:(ze,ve,O)=>{O.d(ve,{c:()=>x});var p=O(8822),q=O(576);function x(se){return(0,q.m)(se[p.L])}},6495:(ze,ve,O)=>{O.d(ve,{T:()=>x});var p=O(2202),q=O(576);function x(se){return(0,q.m)(null==se?void 0:se[p.h])}},8239:(ze,ve,O)=>{O.d(ve,{t:()=>q});var p=O(576);function q(x){return(0,p.m)(null==x?void 0:x.then)}},3260:(ze,ve,O)=>{O.d(ve,{L:()=>se,Q:()=>x});var p=O(655),q=O(576);function x(J){return(0,p.FC)(this,arguments,function*(){const ie=J.getReader();try{for(;;){const{value:ue,done:ae}=yield(0,p.qq)(ie.read());if(ae)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(ue)}}finally{ie.releaseLock()}})}function se(J){return(0,q.m)(null==J?void 0:J.getReader)}},4482:(ze,ve,O)=>{O.d(ve,{A:()=>q,e:()=>x});var p=O(576);function q(se){return(0,p.m)(null==se?void 0:se.lift)}function x(se){return J=>{if(q(J))return J.lift(function(de){try{return se(de,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ze,ve,O)=>{function p(){}O.d(ve,{Z:()=>p})},7849:(ze,ve,O)=>{O.d(ve,{h:()=>x});var p=O(2416),q=O(3410);function x(se){q.z.setTimeout(()=>{const{onUnhandledError:J}=p.v;if(!J)throw se;J(se)})}},4532:(ze,ve,O)=>{function p(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(ve,{z:()=>p})},655:(ze,ve,O)=>{function se(G,te){var he={};for(var ne in G)Object.prototype.hasOwnProperty.call(G,ne)&&te.indexOf(ne)<0&&(he[ne]=G[ne]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(ne=Object.getOwnPropertySymbols(G);De<ne.length;De++)te.indexOf(ne[De])<0&&Object.prototype.propertyIsEnumerable.call(G,ne[De])&&(he[ne[De]]=G[ne[De]])}return he}function ue(G,te,he,ne){return new(he||(he=Promise))(function(oe,lt){function Nt(Xe){try{Ze(ne.next(Xe))}catch(Ht){lt(Ht)}}function fn(Xe){try{Ze(ne.throw(Xe))}catch(Ht){lt(Ht)}}function Ze(Xe){Xe.done?oe(Xe.value):function De(oe){return oe instanceof he?oe:new he(function(lt){lt(oe)})}(Xe.value).then(Nt,fn)}Ze((ne=ne.apply(G,te||[])).next())})}function ce(G){return this instanceof ce?(this.v=G,this):new ce(G)}function _e(G,te,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ne=he.apply(G,te||[]),oe=[];return De={},lt("next"),lt("throw"),lt("return"),De[Symbol.asyncIterator]=function(){return this},De;function lt($t){ne[$t]&&(De[$t]=function(Lr){return new Promise(function(Ft,zr){oe.push([$t,Lr,Ft,zr])>1||Nt($t,Lr)})})}function Nt($t,Lr){try{!function fn($t){$t.value instanceof ce?Promise.resolve($t.value.v).then(Ze,Xe):Ht(oe[0][2],$t)}(ne[$t](Lr))}catch(Ft){Ht(oe[0][3],Ft)}}function Ze($t){Nt("next",$t)}function Xe($t){Nt("throw",$t)}function Ht($t,Lr){$t(Lr),oe.shift(),oe.length&&Nt(oe[0][0],oe[0][1])}}function Fe(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,te=G[Symbol.asyncIterator];return te?te.call(G):(G=function Y(G){var te="function"==typeof Symbol&&Symbol.iterator,he=te&&G[te],ne=0;if(he)return he.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&ne>=G.length&&(G=void 0),{value:G&&G[ne++],done:!G}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),he={},ne("next"),ne("throw"),ne("return"),he[Symbol.asyncIterator]=function(){return this},he);function ne(oe){he[oe]=G[oe]&&function(lt){return new Promise(function(Nt,fn){!function De(oe,lt,Nt,fn){Promise.resolve(fn).then(function(Ze){oe({value:Ze,done:Nt})},lt)}(Nt,fn,(lt=G[oe](lt)).done,lt.value)})}}}O.d(ve,{FC:()=>_e,KL:()=>Fe,_T:()=>se,mG:()=>ue,qq:()=>ce})},5e3:(ze,ve,O)=>{O.d(ve,{$8M:()=>Ci,$Z:()=>Qn,AFp:()=>Uv,AaK:()=>ue,CHM:()=>fl,CRH:()=>Wd,CZH:()=>zf,CqO:()=>ty,EJc:()=>VE,EpF:()=>Rr,F4k:()=>Dg,FYo:()=>ev,FiY:()=>Mr,G48:()=>xt,Gf:()=>Cv,GfV:()=>nu,JOm:()=>re,LFG:()=>$e,LSH:()=>Bu,Lbi:()=>jv,NdJ:()=>vd,OlP:()=>an,Oqu:()=>$g,PXZ:()=>JE,Q6J:()=>Oi,QGY:()=>vc,Qsj:()=>tv,R0b:()=>Gs,RDi:()=>fi,Rgc:()=>Vd,SBq:()=>Nd,Sil:()=>HE,Suo:()=>Ev,TTD:()=>Cs,TgZ:()=>uf,VKq:()=>av,VLi:()=>ob,X6Q:()=>at,XFs:()=>Ke,Xpm:()=>gt,Y36:()=>yd,YKP:()=>ov,YNc:()=>W_,Yjl:()=>$n,Yz7:()=>Ft,ZZ4:()=>rw,_UZ:()=>wg,_Vd:()=>Mf,_c5:()=>Ob,_uU:()=>CC,aQg:()=>iw,c2e:()=>Wv,cJS:()=>kt,cg1:()=>rm,dDg:()=>Zv,deG:()=>wi,dqk:()=>It,eFA:()=>t,g9A:()=>Vv,h0i:()=>Ic,hGG:()=>xb,hij:()=>Wg,iGM:()=>$d,ifc:()=>bt,ip1:()=>Fv,kL8:()=>Ty,lG2:()=>Mt,lnq:()=>Dd,oAB:()=>K,oxw:()=>ry,q4F:()=>vm,qLn:()=>Nn,qZA:()=>cf,sBO:()=>_n,sIi:()=>$r,s_b:()=>ru,soG:()=>qf,tBr:()=>Xr,tb:()=>Hv,tp0:()=>Rs,uIk:()=>F_,vHH:()=>Te,vpe:()=>Ws,wAp:()=>rt,xp6:()=>h_,z2F:()=>P,zSh:()=>rg,zs3:()=>ls});var p=O(7579),q=O(727),x=O(8306),se=O(6451),J=O(3099);function de(n){for(let i in n)if(n[i]===de)return i;throw Error("Could not find renamed property on target object.")}function ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function ae(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const j=de({__forward_ref__:de});function H(n){return n.__forward_ref__=H,n.toString=function(){return ue(this())},n}function Y(n){return function Le(n){return"function"==typeof n&&n.hasOwnProperty(j)&&n.__forward_ref__===H}(n)?n():n}class Te extends Error{constructor(i,s){super(function Pe(n,i){return`NG0${Math.abs(n)}${i?": "+i:""}`}(i,s)),this.code=i}}function ce(n){return"string"==typeof n?n:null==n?"":String(n)}function _e(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ce(n)}function ge(n,i){const s=i?` in ${i}`:"";throw new Te(-201,`No provider for ${_e(n)} found${s}`)}function Ze(n,i){null==n&&function Xe(n,i,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${i} <=Actual]`))}(i,n,null,"!=")}function Ft(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function wt(n){return kn(n,Zr)||kn(n,ai)}function kn(n,i){return n.hasOwnProperty(i)?n[i]:null}function Xn(n){return n&&(n.hasOwnProperty(er)||n.hasOwnProperty(qr))?n[er]:null}const Zr=de({\u0275prov:de}),er=de({\u0275inj:de}),ai=de({ngInjectableDef:de}),qr=de({ngInjectorDef:de});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let or;function In(n){const i=or;return or=n,i}function Er(n,i,s){const a=wt(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ke.Optional?null:void 0!==i?i:void ge(ue(n),"Injector")}function Zt(n){return{toString:n}.toString()}var Mn=(()=>((Mn=Mn||{})[Mn.OnPush=0]="OnPush",Mn[Mn.Default=1]="Default",Mn))(),bt=(()=>{return(n=bt||(bt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",bt;var n})();const Ge="undefined"!=typeof globalThis&&globalThis,st="undefined"!=typeof window&&window,Ln="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,It=Ge||"undefined"!=typeof global&&global||st||Ln,Fn={},Ye=[],Hn=de({\u0275cmp:de}),yt=de({\u0275dir:de}),Ue=de({\u0275pipe:de}),Ee=de({\u0275mod:de}),Ve=de({\u0275fac:de}),Qe=de({__NG_ELEMENT_ID__:de});let Ct=0;function gt(n){return Zt(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Mn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ye,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||bt.Emulated,id:"c",styles:n.styles||Ye,_:null,setInput:null,schemas:n.schemas||null,tView:null},u=n.directives,h=n.features,_=n.pipes;return a.id+=Ct++,a.inputs=tt(n.inputs,s),a.outputs=tt(n.outputs),h&&h.forEach(v=>v(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(F):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map($):null,a})}function F(n){return At(n)||function un(n){return n[yt]||null}(n)}function $(n){return function ft(n){return n[Ue]||null}(n)}const le={};function K(n){return Zt(()=>{const i={type:n.type,bootstrap:n.bootstrap||Ye,declarations:n.declarations||Ye,imports:n.imports||Ye,exports:n.exports||Ye,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(le[n.id]=n.type),i})}function tt(n,i){if(null==n)return Fn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),s[u]=a,i&&(i[u]=h)}return s}const Mt=gt;function $n(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function At(n){return n[Hn]||null}function Gt(n,i){const s=n[Ee]||null;if(!s&&!0===i)throw new Error(`Type ${ue(n)} does not have '\u0275mod' property.`);return s}function Fr(n){return Array.isArray(n)&&"object"==typeof n[1]}function br(n){return Array.isArray(n)&&!0===n[1]}function ou(n){return 0!=(8&n.flags)}function Fi(n){return 2==(2&n.flags)}function ca(n){return 1==(1&n.flags)}function ar(n){return null!==n.template}function al(n){return 0!=(512&n[2])}function lr(n,i){return n.hasOwnProperty(Ve)?n[Ve]:null}class Qs{constructor(i,s,a){this.previousValue=i,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Cs(){return So}function So(n){return n.type.prototype.ngOnChanges&&(n.setInput=th),hu}function hu(){const n=Vi(this),i=null==n?void 0:n.current;if(i){const s=n.previous;if(s===Fn)n.previous=i;else for(let a in i)s[a]=i[a];n.current=null,this.ngOnChanges(i)}}function th(n,i,s,a){const u=Vi(n)||function Ir(n,i){return n[Js]=i}(n,{previous:Fn,current:null}),h=u.current||(u.current={}),_=u.previous,v=this.declaredInputs[s],E=_[v];h[v]=new Qs(E&&E.currentValue,i,_===Fn),n[a]=i}Cs.ngInherit=!0;const Js="__ngSimpleChanges__";function Vi(n){return n[Js]||null}let _a;function fi(n){_a=n}function qt(n){return!!n.listen}const Xs={createRenderer:(n,i)=>function Po(){return void 0!==_a?_a:"undefined"!=typeof document?document:void 0}()};function Vt(n){for(;Array.isArray(n);)n=n[0];return n}function Gn(n,i){return Vt(i[n.index])}function Mo(n,i){return n.data[i]}function zn(n,i){const s=i[n];return Fr(s)?s:s[0]}function Hi(n){return 4==(4&n[2])}function pi(n){return 128==(128&n[2])}function cr(n,i){return null==i?null:n[i]}function $i(n){n[18]=0}function Wi(n,i){n[5]+=i;let s=n,a=n[3];for(;null!==a&&(1===i&&1===s[5]||-1===i&&0===s[5]);)a[5]+=i,s=a,a=a[3]}const Je={lFrame:Is(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function wa(){return Je.bindingsEnabled}function ye(){return Je.lFrame.lView}function mt(){return Je.lFrame.tView}function fl(n){return Je.lFrame.contextLView=n,n[8]}function en(){let n=eo();for(;null!==n&&64===n.type;)n=n.parent;return n}function eo(){return Je.lFrame.currentTNode}function dr(n,i){const s=Je.lFrame;s.currentTNode=n,s.isParent=i}function pl(){return Je.lFrame.isParent}function ba(){return Je.isInCheckNoChangesMode}function Gi(n){Je.isInCheckNoChangesMode=n}function zi(){return Je.lFrame.bindingIndex++}function Ta(n,i){const s=Je.lFrame;s.bindingIndex=s.bindingRootIndex=n,xo(i)}function xo(n){Je.lFrame.currentDirectiveIndex=n}function vl(){return Je.lFrame.currentQueryIndex}function Cl(n){Je.lFrame.currentQueryIndex=n}function mu(n){const i=n[1];return 2===i.type?i.declTNode:1===i.type?n[6]:null}function El(n,i,s){if(s&Ke.SkipSelf){let u=i,h=n;for(;!(u=u.parent,null!==u||s&Ke.Host||(u=mu(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;i=u,n=h}const a=Je.lFrame=_u();return a.currentTNode=i,a.lView=n,!0}function bs(n){const i=_u(),s=n[1];Je.lFrame=i,i.currentTNode=s.firstChild,i.lView=n,i.tView=s,i.contextLView=n,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function _u(){const n=Je.lFrame,i=null===n?null:n.child;return null===i?Is(n):i}function Is(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function yu(){const n=Je.lFrame;return Je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const vu=yu;function Ds(){const n=yu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zn(){return Je.lFrame.selectedIndex}function qi(n){Je.lFrame.selectedIndex=n}function cn(){const n=Je.lFrame;return Mo(n.tView,n.selectedIndex)}function gi(n,i){for(let s=i.directiveStart,a=i.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:T,ngOnDestroy:A}=h;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),v&&((n.contentHooks||(n.contentHooks=[])).push(s,v),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,v)),E&&(n.viewHooks||(n.viewHooks=[])).push(-s,E),T&&((n.viewHooks||(n.viewHooks=[])).push(s,T),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,T)),null!=A&&(n.destroyHooks||(n.destroyHooks=[])).push(s,A)}}function No(n,i,s){Cu(n,i,3,s)}function Aa(n,i,s,a){(3&n[2])===s&&Cu(n,i,s,a)}function Cn(n,i){let s=n[2];(3&s)===i&&(s&=2047,s+=1,n[2]=s)}function Cu(n,i,s,a){const h=null!=a?a:-1,_=i.length-1;let v=0;for(let E=void 0!==a?65535&n[18]:0;E<_;E++)if("number"==typeof i[E+1]){if(v=i[E],null!=a&&v>=a)break}else i[E]<0&&(n[18]+=65536),(v<h||-1==h)&&(nh(n,s,i,E),n[18]=(4294901760&n[18])+E+2),E++}function nh(n,i,s,a){const u=s[a]<0,h=s[a+1],v=n[u?-s[a]:s[a]];if(u){if(n[2]>>11<n[18]>>16&&(3&n[2])===i){n[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class no{constructor(i,s,a){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Qr(n,i,s){const a=qt(n);let u=0;for(;u<s.length;){const h=s[u];if("number"==typeof h){if(0!==h)break;u++;const _=s[u++],v=s[u++],E=s[u++];a?n.setAttribute(i,v,E,_):i.setAttributeNS(_,v,E)}else{const _=h,v=s[++u];En(_)?a&&n.setProperty(i,_,v):a?n.setAttribute(i,_,v):i.setAttribute(_,v),u++}}return u}function nr(n){return 3===n||4===n||6===n}function En(n){return 64===n.charCodeAt(0)}function et(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let s=-1;for(let a=0;a<i.length;a++){const u=i[a];"number"==typeof u?s=u:0===s||Ki(n,s,u,null,-1===s||2===s?i[++a]:null)}}return n}function Ki(n,i,s,a,u){let h=0,_=n.length;if(-1===i)_=-1;else for(;h<n.length;){const v=n[h++];if("number"==typeof v){if(v===i){_=-1;break}if(v>i){_=h-1;break}}}for(;h<n.length;){const v=n[h];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==u&&(n[h+1]=u));if(a===n[h+1])return void(n[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==_&&(n.splice(_,0,i),h=_+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==u&&n.splice(h++,0,u)}function St(n){return-1!==n}function Wt(n){return 32767&n}function tn(n,i){let s=function Sa(n){return n>>16}(n),a=i;for(;s>0;)a=a[15],s--;return a}let Tn=!0;function nn(n){const i=Tn;return Tn=n,i}let kc=0;function io(n,i){const s=so(n,i);if(-1!==s)return s;const a=i[1];a.firstCreatePass&&(n.injectorIndex=i.length,yi(a.data,n),yi(i,null),yi(a.blueprint,null));const u=rn(n,i),h=n.injectorIndex;if(St(u)){const _=Wt(u),v=tn(u,i),E=v[1].data;for(let T=0;T<8;T++)i[h+T]=v[_+T]|E[_+T]}return i[h+8]=u,h}function yi(n,i){n.push(0,0,0,0,0,0,0,0,i)}function so(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function rn(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,u=i;for(;null!==u;){const h=u[1],_=h.type;if(a=2===_?h.declTNode:1===_?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function oo(n,i,s){!function ro(n,i,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Qe)&&(a=s[Qe]),null==a&&(a=s[Qe]=kc++);const u=255&a;i.data[n+(u>>5)]|=1<<u}(n,i,s)}function hr(n,i,s){if(s&Ke.Optional)return n;ge(i,"NodeInjector")}function vi(n,i,s,a){if(s&Ke.Optional&&void 0===a&&(a=null),0==(s&(Ke.Self|Ke.Host))){const u=n[9],h=In(void 0);try{return u?u.get(i,a,s&Ke.Optional):Er(i,a,s&Ke.Optional)}finally{In(h)}}return hr(a,i,s)}function Vr(n,i,s,a=Ke.Default,u){if(null!==n){const h=function bu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(Qe)?n[Qe]:void 0;return"number"==typeof i?i>=0?255&i:ao:i}(s);if("function"==typeof h){if(!El(i,n,a))return a&Ke.Host?hr(u,s,a):vi(i,s,a,u);try{const _=h(a);if(null!=_||a&Ke.Optional)return _;ge(s)}finally{vu()}}else if("number"==typeof h){let _=null,v=so(n,i),E=-1,T=a&Ke.Host?i[16][6]:null;for((-1===v||a&Ke.SkipSelf)&&(E=-1===v?rn(n,i):i[v+8],-1!==E&&Iu(a,!1)?(_=i[1],v=Wt(E),i=tn(E,i)):v=-1);-1!==v;){const A=i[1];if(Ma(h,v,A.data)){const N=Lc(v,i,s,_,a,T);if(N!==R)return N}E=i[v+8],-1!==E&&Iu(a,i[1].data[v+8]===T)&&Ma(h,v,i)?(_=A,v=Wt(E),i=tn(E,i)):v=-1}}}return vi(i,s,a,u)}const R={};function ao(){return new jr(en(),ye())}function Lc(n,i,s,a,u,h){const _=i[1],v=_.data[n+8],A=Pa(v,_,s,null==a?Fi(v)&&Tn:a!=_&&0!=(3&v.type),u&Ke.Host&&h===v);return null!==A?Tr(i,_,A,v):R}function Pa(n,i,s,a,u){const h=n.providerIndexes,_=i.data,v=1048575&h,E=n.directiveStart,A=h>>20,V=u?v+A:n.directiveEnd;for(let Z=a?v:v+A;Z<V;Z++){const fe=_[Z];if(Z<E&&s===fe||Z>=E&&fe.type===s)return Z}if(u){const Z=_[E];if(Z&&ar(Z)&&Z.type===s)return E}return null}function Tr(n,i,s,a){let u=n[s];const h=i.data;if(function Eu(n){return n instanceof no}(u)){const _=u;_.resolving&&function je(n,i){const s=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new Te(-200,`Circular dependency in DI detected for ${n}${s}`)}(_e(h[s]));const v=nn(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?In(_.injectImpl):null;El(n,a,Ke.Default);try{u=n[s]=_.factory(void 0,h,n,a),i.firstCreatePass&&s>=a.directiveStart&&function Il(n,i,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=i.type.prototype;if(a){const _=So(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,u),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],i)}finally{null!==E&&In(E),nn(v),_.resolving=!1,vu()}}return u}function Ma(n,i,s){return!!(s[i+(n>>5)]&1<<n)}function Iu(n,i){return!(n&Ke.Self||n&Ke.Host&&i)}class jr{constructor(i,s){this._tNode=i,this._lView=s}get(i,s,a){return Vr(this._tNode,this._lView,i,a,s)}}function Ci(n){return function Tl(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const s=n.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const h=s[u];if(nr(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(h===i)return s[u+1];u+=2}}}return null}(en(),n)}const Ss="__parameters__";function Ms(n,i,s){return Zt(()=>{const a=function Oa(n){return function(...s){if(n){const a=n(...s);for(const u in a)this[u]=a[u]}}}(i);function u(...h){if(this instanceof u)return a.apply(this,h),this;const _=new u(...h);return v.annotation=_,v;function v(E,T,A){const N=E.hasOwnProperty(Ss)?E[Ss]:Object.defineProperty(E,Ss,{value:[]})[Ss];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(_),E}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class an{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ft({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const wi=new an("AnalyzeForEntryComponents");function Yn(n,i){void 0===i&&(i=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(i===n&&(i=n.slice(0,s)),Yn(a,i)):i!==n&&i.push(a)}return i}function Ar(n,i){n.forEach(s=>Array.isArray(s)?Ar(s,i):i(s))}function Du(n,i,s){i>=n.length?n.push(s):n.splice(i,0,s)}function Xi(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}const xs={},co="__NG_DI_FLAG__",Ml="ngTempTokenPath",b=/\n/gm,L="__source",z=de({provide:String,useValue:de});let X;function Ie(n){const i=X;return X=n,i}function Be(n,i=Ke.Default){if(void 0===X)throw new Te(203,"");return null===X?Er(n,void 0,i):X.get(n,i&Ke.Optional?null:void 0,i)}function $e(n,i=Ke.Default){return(function Pn(){return or}()||Be)(Y(n),i)}const Dt=$e;function ut(n){const i=[];for(let s=0;s<n.length;s++){const a=Y(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Te(900,"");let u,h=Ke.Default;for(let _=0;_<a.length;_++){const v=a[_],E=mn(v);"number"==typeof E?-1===E?u=v.token:h|=E:u=v}i.push($e(u,h))}else i.push($e(a))}return i}function An(n,i){return n[co]=i,n.prototype[co]=i,n}function mn(n){return n[co]}const Xr=An(Ms("Inject",n=>({token:n})),-1),Mr=An(Ms("Optional"),8),Rs=An(Ms("SkipSelf"),4);class Vc{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Ho=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var wn=(()=>((wn=wn||{})[wn.NONE=0]="NONE",wn[wn.HTML=1]="HTML",wn[wn.STYLE=2]="STYLE",wn[wn.SCRIPT=3]="SCRIPT",wn[wn.URL=4]="URL",wn[wn.RESOURCE_URL=5]="RESOURCE_URL",wn))();function Bu(n){const i=function ss(){const n=ye();return n&&n[12]}();return i?i.sanitize(wn.URL,n)||"":function Nl(n,i){const s=function Fa(n){return n instanceof Vc&&n.getTypeName()||null}(n);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}(n,"URL")?function ti(n){return n instanceof Vc?n.changingThisBreaksApplicationSecurity:n}(n):function po(n){return(n=String(n)).match(Ho)||n.match($o)?n:"unsafe:"+n}(ce(n))}const Gc="__ngContext__";function Sn(n,i){n[Gc]=i}function on(n){const i=function zo(n){return n[Gc]||null}(n);return i?Array.isArray(i)?i:i.lView:null}function Zo(n){return n.ngOriginalError}function bh(n,...i){n.error(...i)}class Nn{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),a=function Ul(n){return n&&n.ngErrorLogger||bh}(i);a(this._console,"ERROR",i),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(i){let s=i&&Zo(i);for(;s&&Zo(s);)s=Zo(s);return s||null}}const Wu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))();function f(n){return n instanceof Function?n():n}var re=(()=>((re=re||{})[re.Important=1]="Important",re[re.DashCase=2]="DashCase",re))();function He(n,i){return undefined(n,i)}function Ot(n){const i=n[3];return br(i)?i[3]:i}function za(n){return Yo(n[13])}function go(n){return Yo(n[4])}function Yo(n){for(;null!==n&&!br(n);)n=n[4];return n}function Hr(n,i,s,a,u){if(null!=a){let h,_=!1;br(a)?h=a:Fr(a)&&(_=!0,a=a[0]);const v=Vt(a);0===n&&null!==s?null==u?qa(i,s,v):Jo(i,s,v,u||null,!0):1===n&&null!==s?Jo(i,s,v,u||null,!0):2===n?function _p(n,i,s){const a=zu(n,i);a&&function Ka(n,i,s,a){qt(n)?n.removeChild(i,s,a):i.removeChild(s)}(n,a,i,s)}(i,v,_):3===n&&i.destroyNode(v),null!=h&&function e0(n,i,s,a,u){const h=s[7];h!==Vt(s)&&Hr(i,n,a,h,u);for(let v=10;v<s.length;v++){const E=s[v];rd(E[1],E,n,i,a,h)}}(i,n,h,s,u)}}function mo(n,i,s){if(qt(n))return n.createElement(i,s);{const a=null!==s?function ma(n){const i=n.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(i):n.createElementNS(a,i)}}function Za(n,i){const s=n[9],a=s.indexOf(i),u=i[3];1024&i[2]&&(i[2]&=-1025,Wi(u,-1)),s.splice(a,1)}function ed(n,i){if(n.length<=10)return;const s=10+i,a=n[s];if(a){const u=a[17];null!==u&&u!==n&&Za(u,a),i>0&&(n[s-1][4]=a[4]);const h=Xi(n,10+i);!function dp(n,i){rd(n,i,i[11],2,null,null),i[0]=null,i[6]=null}(a[1],a);const _=h[19];null!==_&&_.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function n_(n,i){if(!(256&i[2])){const s=i[11];qt(s)&&s.destroyNode&&rd(n,i,s,3,null,null),function Xc(n){let i=n[13];if(!i)return Jt(n[1],n);for(;i;){let s=null;if(Fr(i))s=i[13];else{const a=i[10];a&&(s=a)}if(!s){for(;i&&!i[4]&&i!==n;)Fr(i)&&Jt(i[1],i),i=i[3];null===i&&(i=n),Fr(i)&&Jt(i[1],i),s=i&&i[4]}i=s}}(i)}}function Jt(n,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function td(n,i){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const u=i[s[a]];if(!(u instanceof no)){const h=s[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const v=u[h[_]],E=h[_+1];try{E.call(v)}finally{}}else try{h.call(u)}finally{}}}}(n,i),function Fs(n,i){const s=n.cleanup,a=i[7];let u=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const _=s[h+1],v="function"==typeof _?_(i):Vt(i[_]),E=a[u=s[h+2]],T=s[h+3];"boolean"==typeof T?v.removeEventListener(s[h],E,T):T>=0?a[u=T]():a[u=-T].unsubscribe(),h+=2}else{const _=a[u=s[h+1]];s[h].call(_)}if(null!==a){for(let h=u+1;h<a.length;h++)a[h]();i[7]=null}}(n,i),1===i[1].type&&qt(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&br(i[3])){s!==i[3]&&Za(s,i);const a=i[19];null!==a&&a.detachView(n)}}}function Ah(n,i,s){return function hp(n,i,s){let a=i;for(;null!==a&&40&a.type;)a=(i=a).parent;if(null===a)return s[0];if(2&a.flags){const u=n.data[a.directiveStart].encapsulation;if(u===bt.None||u===bt.Emulated)return null}return Gn(a,s)}(n,i.parent,s)}function Jo(n,i,s,a,u){qt(n)?n.insertBefore(i,s,a,u):i.insertBefore(s,a,u)}function qa(n,i,s){qt(n)?n.appendChild(i,s):i.appendChild(s)}function fp(n,i,s,a,u){null!==a?Jo(n,i,s,a,u):qa(n,i,s)}function zu(n,i){return qt(n)?n.parentNode(i):i.parentNode}let r_=function nd(n,i,s){return 40&n.type?Gn(n,s):null};function Sh(n,i,s,a){const u=Ah(n,a,i),h=i[11],v=function pp(n,i,s){return r_(n,i,s)}(a.parent||i[6],a,i);if(null!=u)if(Array.isArray(s))for(let E=0;E<s.length;E++)fp(h,u,s[E],v,!1);else fp(h,u,s,v,!1)}function Ph(n,i){if(null!==i){const s=i.type;if(3&s)return Gn(i,n);if(4&s)return mp(-1,n[i.index]);if(8&s){const a=i.child;if(null!==a)return Ph(n,a);{const u=n[i.index];return br(u)?mp(-1,u):Vt(u)}}if(32&s)return He(i,n)()||Vt(n[i.index]);{const a=s_(n,i);return null!==a?Array.isArray(a)?a[0]:Ph(Ot(n[16]),a):Ph(n,i.next)}}return null}function s_(n,i){return null!==i?n[16][6].projection[i.projection]:null}function mp(n,i){const s=10+n+1;if(s<i.length){const a=i[s],u=a[1].firstChild;if(null!==u)return Ph(a,u)}return i[7]}function Mh(n,i,s,a,u,h,_){for(;null!=s;){const v=a[s.index],E=s.type;if(_&&0===i&&(v&&Sn(Vt(v),a),s.flags|=4),64!=(64&s.flags))if(8&E)Mh(n,i,s.child,a,u,h,!1),Hr(i,n,u,v,h);else if(32&E){const T=He(s,a);let A;for(;A=T();)Hr(i,n,u,A,h);Hr(i,n,u,v,h)}else 16&E?o_(n,i,a,s,u,h):Hr(i,n,u,v,h);s=_?s.projectionNext:s.next}}function rd(n,i,s,a,u,h){Mh(s,a,n.firstChild,i,u,h,!1)}function o_(n,i,s,a,u,h){const _=s[16],E=_[6].projection[a.projection];if(Array.isArray(E))for(let T=0;T<E.length;T++)Hr(i,n,u,E[T],h);else Mh(n,i,E,_[3],u,h,!0)}function a_(n,i,s){qt(n)?n.setAttribute(i,"style",s):i.style.cssText=s}function qu(n,i,s){qt(n)?""===s?n.removeAttribute(i,"class"):n.setAttribute(i,"class",s):i.className=s}function Oh(n,i,s){let a=n.length;for(;;){const u=n.indexOf(i,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const h=i.length;if(u+h===a||n.charCodeAt(u+h)<=32)return u}s=u+1}}const id="ng-template";function r0(n,i,s){let a=0;for(;a<n.length;){let u=n[a++];if(s&&"class"===u){if(u=n[a],-1!==Oh(u.toLowerCase(),i,0))return!0}else if(1===u){for(;a<n.length&&"string"==typeof(u=n[a++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function xh(n){return 4===n.type&&n.value!==id}function l_(n,i,s){return i===(4!==n.type||s?n.value:id)}function u_(n,i,s){let a=4;const u=n.attrs||[],h=function o0(n){for(let i=0;i<n.length;i++)if(nr(n[i]))return i;return n.length}(u);let _=!1;for(let v=0;v<i.length;v++){const E=i[v];if("number"!=typeof E){if(!_)if(4&a){if(a=2|1&a,""!==E&&!l_(n,E,s)||""===E&&1===i.length){if(Us(a))return!1;_=!0}}else{const T=8&a?E:i[++v];if(8&a&&null!==n.attrs){if(!r0(n.attrs,T,s)){if(Us(a))return!1;_=!0}continue}const N=s0(8&a?"class":E,u,xh(n),s);if(-1===N){if(Us(a))return!1;_=!0;continue}if(""!==T){let V;V=N>h?"":u[N+1].toLowerCase();const Z=8&a?V:null;if(Z&&-1!==Oh(Z,T,0)||2&a&&T!==V){if(Us(a))return!1;_=!0}}}}else{if(!_&&!Us(a)&&!Us(E))return!1;if(_&&Us(E))continue;_=!1,a=E|1&a}}return Us(a)||_}function Us(n){return 0==(1&n)}function s0(n,i,s,a){if(null===i)return-1;let u=0;if(a||!s){let h=!1;for(;u<i.length;){const _=i[u];if(_===n)return u;if(3===_||6===_)h=!0;else{if(1===_||2===_){let v=i[++u];for(;"string"==typeof v;)v=i[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=h?1:2}return-1}return function a0(n,i){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===i)return s;s++}return-1}(i,n)}function yp(n,i,s=!1){for(let a=0;a<i.length;a++)if(u_(n,i[a],s))return!0;return!1}function c_(n,i){return n?":not("+i.trim()+")":i}function d_(n){let i=n[0],s=1,a=2,u="",h=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const v=n[++s];u+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+_:4&a&&(u+=" "+_);else""!==u&&!Us(_)&&(i+=c_(h,u),u=""),a=_,h=h||!Us(a);s++}return""!==u&&(i+=c_(h,u)),i}const ht={};function h_(n){Ep(mt(),ye(),Zn()+n,ba())}function Ep(n,i,s,a){if(!a)if(3==(3&i[2])){const h=n.preOrderCheckHooks;null!==h&&No(i,h,s)}else{const h=n.preOrderHooks;null!==h&&Aa(i,h,0,s)}qi(s)}function Vh(n,i){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],h=s[a+1];if(-1!==h){const _=n.data[h];Cl(u),_.contentQueries(2,i[h],h)}}}function na(n,i,s,a,u,h,_,v,E,T){const A=i.blueprint.slice();return A[0]=u,A[2]=140|a,$i(A),A[3]=A[15]=n,A[8]=s,A[10]=_||n&&n[10],A[11]=v||n&&n[11],A[12]=E||n&&n[12]||null,A[9]=T||n&&n[9]||null,A[6]=h,A[16]=2==i.type?n[16]:A,A}function Qu(n,i,s,a,u){let h=n.data[i];if(null===h)h=function Fp(n,i,s,a,u){const h=eo(),_=pl(),E=n.data[i]=function y0(n,i,s,a,u,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,s,i,a,u);return null===n.firstChild&&(n.firstChild=E),null!==h&&(_?null==h.child&&null!==E.parent&&(h.child=E):null===h.next&&(h.next=E)),E}(n,i,s,a,u),function _l(){return Je.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=u;const _=function to(){const n=Je.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return dr(h,!0),h}function Ju(n,i,s,a){if(0===s)return-1;const u=i.length;for(let h=0;h<s;h++)i.push(a),n.blueprint.push(a),n.data.push(null);return u}function Wl(n,i,s){bs(i);try{const a=n.viewQuery;null!==a&&Jp(1,a,s);const u=n.template;null!==u&&Up(n,i,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Vh(n,i),n.staticViewQueries&&Jp(2,n.viewQuery,s);const h=n.components;null!==h&&function m0(n,i){for(let s=0;s<i.length;s++)hd(n,i[s])}(i,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{i[2]&=-5,Ds()}}function Qa(n,i,s,a){const u=i[2];if(256==(256&u))return;bs(i);const h=ba();try{$i(i),function Ia(n){return Je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Up(n,i,s,2,a);const _=3==(3&u);if(!h)if(_){const T=n.preOrderCheckHooks;null!==T&&No(i,T,null)}else{const T=n.preOrderHooks;null!==T&&Aa(i,T,0,null),Cn(i,0)}if(function D0(n){for(let i=za(n);null!==i;i=go(i)){if(!i[2])continue;const s=i[9];for(let a=0;a<s.length;a++){const u=s[a],h=u[3];0==(1024&u[2])&&Wi(h,1),u[2]|=1024}}}(i),function I0(n){for(let i=za(n);null!==i;i=go(i))for(let s=10;s<i.length;s++){const a=i[s],u=a[1];pi(a)&&Qa(u,a,u.template,a[8])}}(i),null!==n.contentQueries&&Vh(n,i),!h)if(_){const T=n.contentCheckHooks;null!==T&&No(i,T)}else{const T=n.contentHooks;null!==T&&Aa(i,T,1),Cn(i,1)}!function kp(n,i){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)qi(~u);else{const h=u,_=s[++a],v=s[++a];Ta(_,h),v(2,i[h])}}}finally{qi(-1)}}(n,i);const v=n.components;null!==v&&function Lp(n,i){for(let s=0;s<i.length;s++)T0(n,i[s])}(i,v);const E=n.viewQuery;if(null!==E&&Jp(2,E,a),!h)if(_){const T=n.viewCheckHooks;null!==T&&No(i,T)}else{const T=n.viewHooks;null!==T&&Aa(i,T,2),Cn(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Wi(i[3],-1))}finally{Ds()}}function _0(n,i,s,a){const u=i[10],h=!ba(),_=Hi(i);try{h&&!_&&u.begin&&u.begin(),_&&Wl(n,i,a),Qa(n,i,s,a)}finally{h&&!_&&u.end&&u.end()}}function Up(n,i,s,a,u){const h=Zn(),_=2&a;try{qi(-1),_&&i.length>20&&Ep(n,i,20,ba()),s(a,u)}finally{qi(h)}}function Bp(n,i,s){!wa()||(function ud(n,i,s,a){const u=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||io(s,i),Sn(a,i);const _=s.initialInputs;for(let v=u;v<h;v++){const E=n.data[v],T=ar(E);T&&b0(i,s,E);const A=Tr(i,n,v,s);Sn(A,i),null!==_&&os(0,v-u,A,E,0,_),T&&(zn(s.index,i)[8]=A)}}(n,i,s,Gn(s,i)),128==(128&s.flags)&&function E0(n,i,s){const a=s.directiveStart,u=s.directiveEnd,_=s.index,v=function yl(){return Je.lFrame.currentDirectiveIndex}();try{qi(_);for(let E=a;E<u;E++){const T=n.data[E],A=i[E];xo(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Gp(T,A)}}finally{qi(-1),xo(v)}}(n,i,s))}function jh(n,i,s=Gn){const a=i.localNames;if(null!==a){let u=i.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],v=-1===_?s(i,n):n[_];n[u++]=v}}}function Hh(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Xu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Xu(n,i,s,a,u,h,_,v,E,T){const A=20+a,N=A+u,V=function Vp(n,i){const s=[];for(let a=0;a<i;a++)s.push(a<n?null:ht);return s}(A,N),Z="function"==typeof T?T():T;return V[1]={type:n,blueprint:V,template:s,queries:null,viewQuery:v,declTNode:i,data:V.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:Z,incompleteFirstPass:!1}}function jp(n,i,s,a){const u=I_(i);null===s?u.push(a):(u.push(s),n.firstCreatePass&&D_(n).push(a,u.length-1))}function ld(n,i,s){for(let a in n)if(n.hasOwnProperty(a)){const u=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(i,u):s[a]=[i,u]}return s}function Wp(n,i,s,a){let u=!1;if(wa()){const h=function zp(n,i,s){const a=n.directiveRegistry;let u=null;if(a)for(let h=0;h<a.length;h++){const _=a[h];yp(s,_.selectors,!1)&&(u||(u=[]),oo(io(s,i),n,_.type),ar(_)?(nc(n,s),u.unshift(_)):u.push(_))}return u}(n,i,s),_=null===a?null:{"":-1};if(null!==h){u=!0,Pi(s,n.data.length,h.length);for(let A=0;A<h.length;A++){const N=h[A];N.providersResolver&&N.providersResolver(N)}let v=!1,E=!1,T=Ju(n,i,h.length,null);for(let A=0;A<h.length;A++){const N=h[A];s.mergedAttrs=et(s.mergedAttrs,N.hostAttrs),Zp(n,s,i,T,N),w0(T,N,_),null!==N.contentQueries&&(s.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(s.flags|=128);const V=N.type.prototype;!v&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),v=!0),!E&&(V.ngOnChanges||V.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),E=!0),T++}!function C_(n,i){const a=i.directiveEnd,u=n.data,h=i.attrs,_=[];let v=null,E=null;for(let T=i.directiveStart;T<a;T++){const A=u[T],N=A.inputs,V=null===h||xh(i)?null:w_(N,h);_.push(V),v=ld(N,T,v),E=ld(A.outputs,T,E)}null!==v&&(v.hasOwnProperty("class")&&(i.flags|=16),v.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=_,i.inputs=v,i.outputs=E}(n,s)}_&&function cd(n,i,s){if(i){const a=n.localNames=[];for(let u=0;u<i.length;u+=2){const h=s[i[u+1]];if(null==h)throw new Te(-301,!1);a.push(i[u],h)}}}(s,a,_)}return s.mergedAttrs=et(s.mergedAttrs,s.attrs),u}function tc(n,i,s,a,u,h){const _=h.hostBindings;if(_){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const E=~i.index;(function yo(n){let i=n.length;for(;i>0;){const s=n[--i];if("number"==typeof s&&s<0)return s}return 0})(v)!=E&&v.push(E),v.push(a,u,_)}}function Gp(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function nc(n,i){i.flags|=2,(n.components||(n.components=[])).push(i.index)}function w0(n,i,s){if(s){if(i.exportAs)for(let a=0;a<i.exportAs.length;a++)s[i.exportAs[a]]=n;ar(i)&&(s[""]=n)}}function Pi(n,i,s){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+s,n.providerIndexes=i}function Zp(n,i,s,a,u){n.data[a]=u;const h=u.factory||(u.factory=lr(u.type)),_=new no(h,ar(u),null);n.blueprint[a]=_,s[a]=_,tc(n,i,0,a,Ju(n,s,u.hostVars,ht),u)}function b0(n,i,s){const a=Gn(i,n),u=Hh(s),h=n[10],_=fd(n,na(n,u,null,s.onPush?64:16,a,i,h,h.createRenderer(a,s),null,null));n[i.index]=_}function Mi(n,i,s,a,u,h){const _=Gn(n,i);!function dd(n,i,s,a,u,h,_){if(null==h)qt(n)?n.removeAttribute(i,u,s):i.removeAttribute(u);else{const v=null==_?ce(h):_(h,a||"",u);qt(n)?n.setAttribute(i,u,v,s):s?i.setAttributeNS(s,u,v):i.setAttribute(u,v)}}(i[11],_,h,n.value,s,a,u)}function os(n,i,s,a,u,h){const _=h[i];if(null!==_){const v=a.setInput;for(let E=0;E<_.length;){const T=_[E++],A=_[E++],N=_[E++];null!==v?a.setInput(s,N,T,A):s[A]=N}}}function w_(n,i){let s=null,a=0;for(;a<i.length;){const u=i[a];if(0!==u)if(5!==u){if("number"==typeof u)break;n.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,n[u],i[a+1])),a+=2}else a+=2;else a+=4}return s}function qp(n,i,s,a){return new Array(n,!0,!1,i,null,0,a,s,null,null)}function T0(n,i){const s=zn(i,n);if(pi(s)){const a=s[1];80&s[2]?Qa(a,s,a.template,s[8]):s[5]>0&&Gh(s)}}function Gh(n){for(let a=za(n);null!==a;a=go(a))for(let u=10;u<a.length;u++){const h=a[u];if(1024&h[2]){const _=h[1];Qa(_,h,_.template,h[8])}else h[5]>0&&Gh(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=zn(s[a],n);pi(u)&&u[5]>0&&Gh(u)}}function hd(n,i){const s=zn(i,n),a=s[1];(function b_(n,i){for(let s=i.length;s<n.blueprint.length;s++)i.push(n.blueprint[s])})(a,s),Wl(a,s,s[8])}function fd(n,i){return n[13]?n[14][4]=i:n[13]=i,n[14]=i,i}function Kp(n){for(;n;){n[2]|=64;const i=Ot(n);if(al(n)&&!i)return n;n=i}return null}function Qp(n,i,s){const a=i[10];a.begin&&a.begin();try{Qa(n,i,n.template,s)}catch(u){throw Xp(i,u),u}finally{a.end&&a.end()}}function zh(n){!function rc(n){for(let i=0;i<n.components.length;i++){const s=n.components[i],a=on(s),u=a[1];_0(u,a,u.template,s)}}(n[8])}function Jp(n,i,s){Cl(0),i(n,s)}const M0=(()=>Promise.resolve(null))();function I_(n){return n[7]||(n[7]=[])}function D_(n){return n.cleanup||(n.cleanup=[])}function Xp(n,i){const s=n[9],a=s?s.get(Nn,null):null;a&&a.handleError(i)}function T_(n,i,s,a,u){for(let h=0;h<s.length;){const _=s[h++],v=s[h++],E=i[_],T=n.data[_];null!==T.setInput?T.setInput(E,u,a,v):E[v]=u}}function ii(n,i,s){const a=function ws(n,i){return Vt(i[n])}(i,n);!function Yc(n,i,s){qt(n)?n.setValue(i,s):i.textContent=s}(n[11],a,s)}function Vs(n,i,s){let a=s?n.styles:null,u=s?n.classes:null,h=0;if(null!==i)for(let _=0;_<i.length;_++){const v=i[_];"number"==typeof v?h=v:1==h?u=ae(u,v):2==h&&(a=ae(a,v+": "+i[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=u:n.classesWithoutHost=u}const ng=new an("INJECTOR",-1);class Gl{get(i,s=xs){if(s===xs){const a=new Error(`NullInjectorError: No provider for ${ue(i)}!`);throw a.name="NullInjectorError",a}return s}}const rg=new an("Set Injector scope."),ic={},A_={};let qh;function pd(){return void 0===qh&&(qh=new Gl),qh}function Kh(n,i=null,s=null,a){const u=Yh(n,i,s,a);return u._resolveInjectorDefTypes(),u}function Yh(n,i=null,s=null,a){return new x0(n,s,i||pd(),a)}class x0{constructor(i,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&Ar(s,v=>this.processProvider(v,i,s)),Ar([i],v=>this.processInjectorType(v,[],h)),this.records.set(ng,zl(void 0,this));const _=this.records.get(rg);this.scope=null!=_?_.value:null,this.source=u||("object"==typeof i?null:ue(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=xs,a=Ke.Default){this.assertNotDestroyed();const u=Ie(this),h=In(void 0);try{if(!(a&Ke.SkipSelf)){let v=this.records.get(i);if(void 0===v){const E=function Zl(n){return"function"==typeof n||"object"==typeof n&&n instanceof an}(i)&&wt(i);v=E&&this.injectableDefInScope(E)?zl(ig(i),ic):null,this.records.set(i,v)}if(null!=v)return this.hydrate(i,v)}return(a&Ke.Self?pd():this.parent).get(i,s=a&Ke.Optional&&s===xs?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Ml]=_[Ml]||[]).unshift(ue(i)),u)throw _;return function ho(n,i,s,a){const u=n[Ml];throw i[L]&&u.unshift(i[L]),n.message=function La(n,i,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let u=ue(i);if(Array.isArray(i))u=i.map(ue).join(" -> ");else if("object"==typeof i){let h=[];for(let _ in i)if(i.hasOwnProperty(_)){let v=i[_];h.push(_+":"+("string"==typeof v?JSON.stringify(v):ue(v)))}u=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${n.replace(b,"\n  ")}`}("\n"+n.message,u,s,a),n.ngTokenPath=u,n[Ml]=null,n}(_,i,"R3InjectorError",this.source)}throw _}finally{In(h),Ie(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((a,u)=>i.push(ue(u))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processInjectorType(i,s,a){if(!(i=Y(i)))return!1;let u=Xn(i);const h=null==u&&i.ngModule||void 0,_=void 0===h?i:h,v=-1!==a.indexOf(_);if(void 0!==h&&(u=Xn(h)),null==u)return!1;if(null!=u.imports&&!v){let A;a.push(_);try{Ar(u.imports,N=>{this.processInjectorType(N,s,a)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:V,providers:Z}=A[N];Ar(Z,fe=>this.processProvider(fe,V,Z||Ye))}}this.injectorDefTypes.add(_);const E=lr(_)||(()=>new _);this.records.set(_,zl(E,ic));const T=u.providers;if(null!=T&&!v){const A=i;Ar(T,N=>this.processProvider(N,A,T))}return void 0!==h&&void 0!==i.providers}processProvider(i,s,a){let u=ra(i=Y(i))?i:Y(i&&i.provide);const h=function R0(n,i,s){return ag(n)?zl(void 0,n.useValue):zl(function og(n,i,s){let a;if(ra(n)){const u=Y(n);return lr(u)||ig(u)}if(ag(n))a=()=>Y(n.useValue);else if(function si(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ut(n.deps||[]));else if(function S_(n){return!(!n||!n.useExisting)}(n))a=()=>$e(Y(n.useExisting));else{const u=Y(n&&(n.useClass||n.provide));if(!function Qh(n){return!!n.deps}(n))return lr(u)||ig(u);a=()=>new u(...ut(n.deps))}return a}(n),ic)}(i);if(ra(i)||!0!==i.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=zl(void 0,ic,!0),_.factory=()=>ut(_.multi),this.records.set(u,_)),u=i,_.multi.push(i)}this.records.set(u,h)}hydrate(i,s){return s.value===ic&&(s.value=A_,s.value=s.factory()),"object"==typeof s.value&&s.value&&function as(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(i){if(!i.providedIn)return!1;const s=Y(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function ig(n){const i=wt(n),s=null!==i?i.factory:lr(n);if(null!==s)return s;if(n instanceof an)throw new Te(204,!1);if(n instanceof Function)return function sg(n){const i=n.length;if(i>0)throw function Sr(n,i){const s=[];for(let a=0;a<n;a++)s.push(i);return s}(i,"?"),new Te(204,!1);const s=function sr(n){const i=n&&(n[Zr]||n[ai]);if(i){const s=function xi(n){if(n.hasOwnProperty("name"))return n.name;const i=(""+n).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Te(204,!1)}function zl(n,i,s=!1){return{factory:n,value:i,multi:s?[]:void 0}}function ag(n){return null!==n&&"object"==typeof n&&z in n}function ra(n){return"function"==typeof n}let ls=(()=>{class n{static create(s,a){var u;if(Array.isArray(s))return Kh({name:""},a,s,"");{const h=null!==(u=s.name)&&void 0!==u?u:"";return Kh({name:h},s.parent,s.providers,h)}}}return n.THROW_IF_NOT_FOUND=xs,n.NULL=new Gl,n.\u0275prov=Ft({token:n,providedIn:"any",factory:()=>$e(ng)}),n.__NG_ELEMENT_ID__=-1,n})();function j0(n,i){gi(on(n)[1],en())}let ef=null;function sc(){if(!ef){const n=It.Symbol;if(n&&n.iterator)ef=n.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const a=i[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(ef=a)}}}return ef}function $r(n){return!!tf(n)&&(Array.isArray(n)||!(n instanceof Map)&&sc()in n)}function tf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xr(n,i,s){return!Object.is(n[i],s)&&(n[i]=s,!0)}function nf(n,i,s,a,u){const h=function ql(n,i,s,a){const u=xr(n,i,s);return xr(n,i+1,a)||u}(n,i,s,a);return xr(n,i+2,u)||h}function F_(n,i,s,a){const u=ye();return xr(u,zi(),i)&&(mt(),Mi(cn(),u,n,i,s,a)),F_}function cc(n,i,s,a,u,h,_,v){const T=nf(n,function Dr(){return Je.lFrame.bindingIndex}(),s,u,_);return function Br(n){const i=Je.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,s}(3),T?i+ce(s)+a+ce(u)+h+ce(_)+v:ht}function W_(n,i,s,a,u,h,_,v){const E=ye(),T=mt(),A=n+20,N=T.firstCreatePass?function X0(n,i,s,a,u,h,_,v,E){const T=i.consts,A=Qu(i,n,4,_||null,cr(T,v));Wp(i,s,A,cr(T,E)),gi(i,A);const N=A.tViews=Xu(2,A,a,u,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,T);return null!==i.queries&&(i.queries.template(i,A),N.queries=i.queries.embeddedTView(A)),A}(A,T,E,i,s,a,u,h,_):T.data[A];dr(N,!1);const V=E[11].createComment("");Sh(T,E,V,N),Sn(V,E),fd(E,E[A]=qp(V,E,V,N)),ca(N)&&Bp(T,E,N),null!=_&&jh(E,N,v)}function yd(n,i=Ke.Default){const s=ye();return null===s?$e(n,i):Vr(en(),s,Y(n),i)}function Qn(){throw new Error("invalid")}function Oi(n,i,s){const a=ye();return xr(a,zi(),i)&&function vr(n,i,s,a,u,h,_,v){const E=Gn(i,s);let A,T=i.inputs;!v&&null!=T&&(A=T[a])?(T_(n,s,A,a,u),Fi(i)&&function Hp(n,i){const s=zn(i,n);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(a=function v0(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=_?_(u,i.value||"",a):u,qt(h)?h.setProperty(E,a,u):En(a)||(E.setProperty?E.setProperty(a,u):E[a]=u))}(mt(),cn(),a,n,i,a[11],s,!1),Oi}function yc(n,i,s,a,u){const _=u?"class":"style";T_(n,s,i.inputs[_],_,a)}function uf(n,i,s,a){const u=ye(),h=mt(),_=20+n,v=u[11],E=u[_]=mo(v,i,function Yf(){return Je.lFrame.currentNamespace}()),T=h.firstCreatePass?function Eg(n,i,s,a,u,h,_){const v=i.consts,T=Qu(i,n,2,u,cr(v,h));return Wp(i,s,T,cr(v,_)),null!==T.attrs&&Vs(T,T.attrs,!1),null!==T.mergedAttrs&&Vs(T,T.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,T),T}(_,h,u,0,i,s,a):h.data[_];dr(T,!0);const A=T.mergedAttrs;null!==A&&Qr(v,E,A);const N=T.classes;null!==N&&qu(v,E,N);const V=T.styles;return null!==V&&a_(v,E,V),64!=(64&T.flags)&&Sh(h,u,E,T),0===function Oo(){return Je.lFrame.elementDepthCount}()&&Sn(E,u),function Ca(){Je.lFrame.elementDepthCount++}(),ca(T)&&(Bp(h,u,T),function v_(n,i,s){if(ou(i)){const u=i.directiveEnd;for(let h=i.directiveStart;h<u;h++){const _=n.data[h];_.contentQueries&&_.contentQueries(1,s[h],h)}}}(h,T,u)),null!==a&&jh(u,T),uf}function cf(){let n=en();pl()?function gl(){Je.lFrame.isParent=!1}():(n=n.parent,dr(n,!1));const i=n;!function Ea(){Je.lFrame.elementDepthCount--}();const s=mt();return s.firstCreatePass&&(gi(s,n),ou(n)&&s.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Nc(n){return 0!=(16&n.flags)}(i)&&yc(s,i,ye(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function rh(n){return 0!=(32&n.flags)}(i)&&yc(s,i,ye(),i.stylesWithoutHost,!1),cf}function wg(n,i,s,a){return uf(n,i,s,a),cf(),wg}function Rr(){return ye()}function vc(n){return!!n&&"function"==typeof n.then}function Dg(n){return!!n&&"function"==typeof n.subscribe}const ty=Dg;function vd(n,i,s,a){const u=ye(),h=mt(),_=en();return function df(n,i,s,a,u,h,_,v){const E=ca(a),A=n.firstCreatePass&&D_(n),N=i[8],V=I_(i);let Z=!0;if(3&a.type||v){const ke=Gn(a,i),We=v?v(ke):ke,we=V.length,it=v?Rt=>v(Vt(Rt[a.index])):a.index;if(qt(s)){let Rt=null;if(!v&&E&&(Rt=function Tg(n,i,s,a){const u=n.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const _=u[h];if(_===s&&u[h+1]===a){const v=i[7],E=u[h+2];return v.length>E?v[E]:null}"string"==typeof _&&(h+=2)}return null}(n,i,u,a.index)),null!==Rt)(Rt.__ngLastListenerFn__||Rt).__ngNextListenerFn__=h,Rt.__ngLastListenerFn__=h,Z=!1;else{h=Ag(a,i,N,h,!1);const Xt=s.listen(We,u,h);V.push(h,Xt),A&&A.push(u,it,we,we+1)}}else h=Ag(a,i,N,h,!0),We.addEventListener(u,h,_),V.push(h),A&&A.push(u,it,we,_)}else h=Ag(a,i,N,h,!1);const fe=a.outputs;let Se;if(Z&&null!==fe&&(Se=fe[u])){const ke=Se.length;if(ke)for(let We=0;We<ke;We+=2){const Zs=i[Se[We]][Se[We+1]].subscribe(h),Kd=V.length;V.push(h,Zs),A&&A.push(u,a.index,Kd,-(Kd+1))}}}(h,u,u[11],_,n,i,!!s,a),vd}function ny(n,i,s,a){try{return!1!==s(a)}catch(u){return Xp(n,u),!1}}function Ag(n,i,s,a,u){return function h(_){if(_===Function)return a;const v=2&n.flags?zn(n.index,i):i;0==(32&i[2])&&Kp(v);let E=ny(i,0,a,_),T=h.__ngNextListenerFn__;for(;T;)E=ny(i,0,T,_)&&E,T=T.__ngNextListenerFn__;return u&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function ry(n=1){return function Zi(n){return(Je.lFrame.contextLView=function wl(n,i){for(;n>0;)i=i[15],n--;return i}(n,Je.lFrame.contextLView))[8]}(n)}function CC(n,i=""){const s=ye(),a=mt(),u=n+20,h=a.firstCreatePass?Qu(a,u,1,i,null):a.data[u],_=s[u]=function Si(n,i){return qt(n)?n.createText(i):n.createTextNode(i)}(s[11],i);Sh(a,s,_,h),dr(h,!1)}function $g(n){return Wg("",n,""),$g}function Wg(n,i,s){const a=ye(),u=function lc(n,i,s,a){return xr(n,zi(),s)?i+ce(s)+a:ht}(a,n,i,s);return u!==ht&&ii(a,Zn(),u),Wg}function Dd(n,i,s,a,u,h,_){const v=ye(),E=cc(v,n,i,s,a,u,h,_);return E!==ht&&ii(v,Zn(),E),Dd}const nl=void 0;var Dy=["en",[["a","p"],["AM","PM"],nl],[["AM","PM"],nl,nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nl,"{1} 'at' {0}",nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iy(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Ql={};function rm(n){const i=function Sy(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Ay(i);if(s)return s;const a=i.split("-")[0];if(s=Ay(a),s)return s;if("en"===a)return Dy;throw new Error(`Missing locale data for the locale "${n}".`)}function Ty(n){return rm(n)[rt.PluralCase]}function Ay(n){return n in Ql||(Ql[n]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[n]),Ql[n]}var rt=(()=>((rt=rt||{})[rt.LocaleId=0]="LocaleId",rt[rt.DayPeriodsFormat=1]="DayPeriodsFormat",rt[rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",rt[rt.DaysFormat=3]="DaysFormat",rt[rt.DaysStandalone=4]="DaysStandalone",rt[rt.MonthsFormat=5]="MonthsFormat",rt[rt.MonthsStandalone=6]="MonthsStandalone",rt[rt.Eras=7]="Eras",rt[rt.FirstDayOfWeek=8]="FirstDayOfWeek",rt[rt.WeekendRange=9]="WeekendRange",rt[rt.DateFormat=10]="DateFormat",rt[rt.TimeFormat=11]="TimeFormat",rt[rt.DateTimeFormat=12]="DateTimeFormat",rt[rt.NumberSymbols=13]="NumberSymbols",rt[rt.NumberFormats=14]="NumberFormats",rt[rt.CurrencyCode=15]="CurrencyCode",rt[rt.CurrencySymbol=16]="CurrencySymbol",rt[rt.CurrencyName=17]="CurrencyName",rt[rt.Currencies=18]="Currencies",rt[rt.Directionality=19]="Directionality",rt[rt.PluralCase=20]="PluralCase",rt[rt.ExtraData=21]="ExtraData",rt))();const vf="en-US";let My=vf;class Rd{}class iE{resolveComponentFactory(i){throw function Xy(n){const i=Error(`No component factory found for ${ue(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Mf=(()=>{class n{}return n.NULL=new iE,n})();function Of(){return bc(en(),ye())}function bc(n,i){return new Nd(Gn(n,i))}let Nd=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Of,n})();function sE(n){return n instanceof Nd?n.nativeElement:n}class ev{}let tv=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function ym(){const n=ye(),s=zn(en().index,n);return function _m(n){return n[11]}(Fr(s)?s:n)}(),n})(),ia=(()=>{class n{}return n.\u0275prov=Ft({token:n,providedIn:"root",factory:()=>null}),n})();class nu{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const vm=new nu("13.3.0"),xf={};function Rf(n,i,s,a,u=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&a.push(Vt(h)),br(h))for(let v=10;v<h.length;v++){const E=h[v],T=E[1].firstChild;null!==T&&Rf(E[1],E,T,a)}const _=s.type;if(8&_)Rf(n,i,s.child,a);else if(32&_){const v=He(s,i);let E;for(;E=v();)a.push(E)}else if(16&_){const v=s_(i,s);if(Array.isArray(v))a.push(...v);else{const E=Ot(i[16]);Rf(E[1],E,v,a,!0)}}s=u?s.projectionNext:s.next}return a}class Io{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Rf(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(br(i)){const s=i[8],a=s?s.indexOf(this):-1;a>-1&&(ed(i,a),Xi(s,a))}this._attachedToViewContainer=!1}n_(this._lView[1],this._lView)}onDestroy(i){jp(this._lView[1],this._lView,null,i)}markForCheck(){Kp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Qp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function A0(n,i,s){Gi(!0);try{Qp(n,i,s)}finally{Gi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Te(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Gu(n,i){rd(n,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Te(902,"");this._appRef=i}}class nv extends Io{constructor(i){super(i),this._view=i}detectChanges(){zh(this._view)}checkNoChanges(){!function S0(n){Gi(!0);try{zh(n)}finally{Gi(!1)}}(this._view)}get context(){return null}}class rv extends Mf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=At(i);return new Nf(s,this.ngModule)}}function kd(n){const i=[];for(let s in n)n.hasOwnProperty(s)&&i.push({propName:n[s],templateName:s});return i}class Nf extends Rd{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=function Rh(n){return n.map(d_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return kd(this.componentDef.inputs)}get outputs(){return kd(this.componentDef.outputs)}create(i,s,a,u){const h=(u=u||this.ngModule)?function Cm(n,i){return{get:(s,a,u)=>{const h=n.get(s,xf,u);return h!==xf||a===xf?h:i.get(s,a,u)}}}(i,u.injector):i,_=h.get(ev,Xs),v=h.get(ia,null),E=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=a?function $h(n,i,s){if(qt(n))return n.selectRootElement(i,s===bt.ShadowDom);let a="string"==typeof i?n.querySelector(i):i;return a.textContent="",a}(E,a,this.componentDef.encapsulation):mo(_.createRenderer(null,this.componentDef),T,function iv(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(T)),N=this.componentDef.onPush?576:528,V=function N_(n,i){return{components:[],scheduler:n||Wu,clean:M0,playerHandler:i||null,flags:0}}(),Z=Xu(0,null,null,1,0,null,null,null,null,null),fe=na(null,Z,V,N,null,null,_,E,v,h);let Se,ke;bs(fe);try{const We=function hg(n,i,s,a,u,h){const _=s[1];s[20]=n;const E=Qu(_,20,2,"#host",null),T=E.mergedAttrs=i.hostAttrs;null!==T&&(Vs(E,T,!0),null!==n&&(Qr(u,n,T),null!==E.classes&&qu(u,n,E.classes),null!==E.styles&&a_(u,n,E.styles)));const A=a.createRenderer(n,i),N=na(s,Hh(i),null,i.onPush?64:16,s[20],E,a,A,h||null,null);return _.firstCreatePass&&(oo(io(E,s),_,i.type),nc(_,E),Pi(E,s.length,1)),fd(s,N),s[20]=N}(A,this.componentDef,fe,_,E);if(A)if(a)Qr(E,A,["ng-version",vm.full]);else{const{attrs:we,classes:it}=function Cp(n){const i=[],s=[];let a=1,u=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===u?""!==h&&i.push(h,n[++a]):8===u&&s.push(h);else{if(!Us(u))break;u=h}a++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);we&&Qr(E,A,we),it&&it.length>0&&qu(E,A,it.join(" "))}if(ke=Mo(Z,20),void 0!==s){const we=ke.projection=[];for(let it=0;it<this.ngContentSelectors.length;it++){const Rt=s[it];we.push(null!=Rt?Array.from(Rt):null)}}Se=function R_(n,i,s,a,u){const h=s[1],_=function E_(n,i,s){const a=en();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Zp(n,a,i,Ju(n,i,1,null),s));const u=Tr(i,n,a.directiveStart,a);Sn(u,i);const h=Gn(a,i);return h&&Sn(h,i),u}(h,s,i);if(a.components.push(_),n[8]=_,u&&u.forEach(E=>E(_,i)),i.contentQueries){const E=en();i.contentQueries(1,_,E.directiveStart)}const v=en();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(qi(v.index),tc(s[1],v,0,v.directiveStart,v.directiveEnd,i),Gp(i,_)),_}(We,this.componentDef,fe,V,[j0]),Wl(Z,fe,null)}finally{Ds()}return new oE(this.componentType,Se,bc(ke,fe),fe,ke)}}class oE extends class gm{}{constructor(i,s,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new nv(u),this.componentType=i}get injector(){return new jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Ic{}class ov{}const Dc=new Map;class kf extends Ic{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rv(this);const a=Gt(i);this._bootstrapComponents=f(a.bootstrap),this._r3Injector=Yh(i,s,[{provide:Ic,useValue:this},{provide:Mf,useValue:this.componentFactoryResolver}],ue(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=ls.THROW_IF_NOT_FOUND,a=Ke.Default){return i===ls||i===Ic||i===ng?this:this._r3Injector.get(i,s,a)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Dm extends ov{constructor(i){super(),this.moduleType=i,null!==Gt(i)&&function bm(n){const i=new Set;!function s(a){const u=Gt(a,!0),h=u.id;null!==h&&(function Tc(n,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${n} - ${ue(i)} vs ${ue(i.name)}`)}(h,Dc.get(h),a),Dc.set(h,a));const _=f(u.imports);for(const v of _)i.has(v)||(i.add(v),s(v))}(n)}(i)}create(i){return new kf(this.moduleType,i)}}function av(n,i,s,a){return function dv(n,i,s,a,u,h){const _=i+s;return xr(n,_,u)?function vo(n,i,s){return n[i]=s}(n,_+1,h?a.call(h,u):a(u)):function Fd(n,i){const s=n[i];return s===ht?void 0:s}(n,_+1)}(ye(),function Bn(){const n=Je.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}(),n,i,s,a)}function Sm(n){return i=>{setTimeout(n,void 0,i)}}const Ws=class Am extends p.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,a){var u,h,_;let v=i,E=s||(()=>null),T=a;if(i&&"object"==typeof i){const N=i;v=null===(u=N.next)||void 0===u?void 0:u.bind(N),E=null===(h=N.error)||void 0===h?void 0:h.bind(N),T=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(E=Sm(E),v&&(v=Sm(v)),T&&(T=Sm(T)));const A=super.subscribe({next:v,error:E,complete:T});return i instanceof q.w0&&i.add(A),A}};function fv(){return this._results[sc()]()}class Pm{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=sc(),a=Pm.prototype;a[s]||(a[s]=fv)}get changes(){return this._changes||(this._changes=new Ws)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const a=this;a.dirty=!1;const u=Yn(i);(this._changesDetected=!function Ra(n,i,s){if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++){let u=n[a],h=i[a];if(s&&(u=s(u),h=s(h)),h!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Vd=(()=>{class n{}return n.__NG_ELEMENT_ID__=pv,n})();const Mm=Vd,ps=class extends Mm{constructor(i,s,a){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(i){const s=this._declarationTContainer.tViews,a=na(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(s)),Wl(s,a,i),new Io(a)}};function pv(){return jd(en(),ye())}function jd(n,i){return 4&n.type?new ps(i,n,bc(n,i)):null}let ru=(()=>{class n{}return n.__NG_ELEMENT_ID__=Uf,n})();function Uf(){return Hd(en(),ye())}const _E=ru,gv=class extends _E{constructor(i,s,a){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=a}get element(){return bc(this._hostTNode,this._hostLView)}get injector(){return new jr(this._hostTNode,this._hostLView)}get parentInjector(){const i=rn(this._hostTNode,this._hostLView);if(St(i)){const s=tn(i,this._hostLView),a=Wt(i);return new jr(s[1].data[a+8],s)}return new jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=mv(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,a){const u=i.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(i,s,a,u,h){const _=i&&!function Os(n){return"function"==typeof n}(i);let v;if(_)v=s;else{const N=s||{};v=N.index,a=N.injector,u=N.projectableNodes,h=N.ngModuleRef}const E=_?i:new Nf(At(i)),T=a||this.parentInjector;if(!h&&null==E.ngModule){const V=(_?T:this.parentInjector).get(Ic,null);V&&(h=V)}const A=E.create(T,u,void 0,h);return this.insert(A.hostView,v),A}insert(i,s){const a=i._lView,u=a[1];if(function ya(n){return br(n[3])}(a)){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const N=a[3],V=new gv(N,N[6],N[3]);V.detach(V.indexOf(i))}}const h=this._adjustIndex(s),_=this._lContainer;!function t_(n,i,s,a){const u=10+a,h=s.length;a>0&&(s[u-1][4]=i),a<h-10?(i[4]=s[u],Du(s,10+a,i)):(s.push(i),i[4]=null),i[3]=s;const _=i[17];null!==_&&s!==_&&function Th(n,i){const s=n[9];i[16]!==i[3][3][16]&&(n[2]=!0),null===s?n[9]=[i]:s.push(i)}(_,i);const v=i[19];null!==v&&v.insertView(n),i[2]|=128}(u,a,_,h);const v=mp(h,_),E=a[11],T=zu(E,_[7]);return null!==T&&function Jc(n,i,s,a,u,h){a[0]=u,a[6]=i,rd(n,a,s,1,u,h)}(u,_[6],E,a,T,v),i.attachToViewContainerRef(),Du(Om(_),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=mv(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),a=ed(this._lContainer,s);a&&(Xi(Om(this._lContainer),s),n_(a[1],a))}detach(i){const s=this._adjustIndex(i,-1),a=ed(this._lContainer,s);return a&&null!=Xi(Om(this._lContainer),s)?new Io(a):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function mv(n){return n[8]}function Om(n){return n[8]||(n[8]=[])}function Hd(n,i){let s;const a=i[n.index];if(br(a))s=a;else{let u;if(8&n.type)u=Vt(a);else{const h=i[11];u=h.createComment("");const _=Gn(n,i);Jo(h,zu(h,_),u,function Zu(n,i){return qt(n)?n.nextSibling(i):i.nextSibling}(h,_),!1)}i[n.index]=s=qp(a,i,u,n),fd(i,s)}return new gv(s,n,i)}class Bf{constructor(i){this.queryList=i,this.matches=null}clone(){return new Bf(this.queryList)}setDirty(){this.queryList.setDirty()}}class iu{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const a=null!==i.contentQueries?i.contentQueries[0]:s.length,u=[];for(let h=0;h<a;h++){const _=s.getByIndex(h);u.push(this.queries[_.indexInDeclarationView].clone())}return new iu(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Sc(i,s).matches&&this.queries[s].setDirty()}}class Rm{constructor(i,s,a=null){this.predicate=i,this.flags=s,this.read=a}}class Nm{constructor(i=[]){this.queries=i}elementStart(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(i,u);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new Nm(s):null}template(i,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class km{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new km(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=i.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(i,s,yE(s,h)),this.matchTNodeWithReadOption(i,s,Pa(s,i,h,!1,!1))}else a===Vd?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,Pa(s,i,a,!1,!1))}matchTNodeWithReadOption(i,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Nd||u===ru||u===Vd&&4&s.type)this.addMatch(s.index,-2);else{const h=Pa(s,i,u,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function yE(n,i){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===i)return s[a+1];return null}function CE(n,i,s,a){return-1===s?function vE(n,i){return 11&n.type?bc(n,i):4&n.type?jd(n,i):null}(i,n):-2===s?function Lm(n,i,s){return s===Nd?bc(i,n):s===Vd?jd(i,n):s===ru?Hd(i,n):void 0}(n,i,a):Tr(n,n[1],s,i)}function vv(n,i,s,a){const u=i[19].queries[a];if(null===u.matches){const h=n.data,_=s.matches,v=[];for(let E=0;E<_.length;E+=2){const T=_[E];v.push(T<0?null:CE(i,h[T],_[E+1],s.metadata.read))}u.matches=v}return u.matches}function Vf(n,i,s,a){const u=n.queries.getByIndex(s),h=u.matches;if(null!==h){const _=vv(n,i,u,s);for(let v=0;v<h.length;v+=2){const E=h[v];if(E>0)a.push(_[v/2]);else{const T=h[v+1],A=i[-E];for(let N=10;N<A.length;N++){const V=A[N];V[17]===V[3]&&Vf(V[1],V,T,a)}if(null!==A[9]){const N=A[9];for(let V=0;V<N.length;V++){const Z=N[V];Vf(Z[1],Z,T,a)}}}}}return a}function $d(n){const i=ye(),s=mt(),a=vl();Cl(a+1);const u=Sc(s,a);if(n.dirty&&Hi(i)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const h=u.crossesNgTemplate?Vf(s,i,a,[]):vv(s,i,u,a);n.reset(h,sE),n.notifyOnChanges()}return!0}return!1}function Cv(n,i,s){const a=mt();a.firstCreatePass&&(wv(a,new Rm(n,i,s),-1),2==(2&i)&&(a.staticViewQueries=!0)),Ac(a,ye(),i)}function Ev(n,i,s,a){const u=mt();if(u.firstCreatePass){const h=en();wv(u,new Rm(i,s,a),h.index),function wE(n,i){const s=n.contentQueries||(n.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,i)}(u,n),2==(2&s)&&(u.staticContentQueries=!0)}Ac(u,ye(),s)}function Wd(){return function EE(n,i){return n[19].queries[i].queryList}(ye(),vl())}function Ac(n,i,s){const a=new Pm(4==(4&s));jp(n,i,a,a.destroy),null===i[19]&&(i[19]=new iu),i[19].queries.push(new Bf(a))}function wv(n,i,s){null===n.queries&&(n.queries=new Nm),n.queries.track(new km(i,s))}function Sc(n,i){return n.queries.getByIndex(i)}function Zd(...n){}const Fv=new an("Application Initializer");let zf=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Zd,this.reject=Zd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(vc(h))s.push(h);else if(ty(h)){const _=new Promise((v,E)=>{h.subscribe({complete:v,error:E})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)($e(Fv,8))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Uv=new an("AppId",{providedIn:"root",factory:function Bv(){return`${Zf()}${Zf()}${Zf()}`}});function Zf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Vv=new an("Platform Initializer"),jv=new an("Platform ID"),Hv=new an("appBootstrapListener");let Wv=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();const qf=new an("LocaleId",{providedIn:"root",factory:()=>Dt(qf,Ke.Optional|Ke.SkipSelf)||function BE(){return"undefined"!=typeof $localize&&$localize.locale||vf}()}),VE=new an("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class jE{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}let HE=(()=>{class n{compileModuleSync(s){return new Dm(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=f(Gt(s).declarations).reduce((_,v)=>{const E=At(v);return E&&_.push(new Nf(E)),_},[]);return new jE(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const WE=(()=>Promise.resolve(0))();function Zm(n){"undefined"==typeof Zone?WE.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Gs{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ws(!1),this.onMicrotaskEmpty=new Ws(!1),this.onStable=new Ws(!1),this.onError=new Ws(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function GE(){let n=It.requestAnimationFrame,i=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&i){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function qE(n){const i=()=>{!function ZE(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(It,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Km(n),n.isCheckStableRunning=!0,qm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Km(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,h,_,v)=>{try{return Gv(n),s.invokeTask(u,h,_,v)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),zv(n)}},onInvoke:(s,a,u,h,_,v,E)=>{try{return Gv(n),s.invoke(u,h,_,v,E)}finally{n.shouldCoalesceRunChangeDetection&&i(),zv(n)}},onHasTask:(s,a,u,h)=>{s.hasTask(u,h),a===u&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,Km(n),qm(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,u,h)=>(s.handleError(u,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,a){return this._inner.run(i,s,a)}runTask(i,s,a,u){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+u,i,zE,Zd,Zd);try{return h.runTask(_,s,a)}finally{h.cancelTask(_)}}runGuarded(i,s,a){return this._inner.runGuarded(i,s,a)}runOutsideAngular(i){return this._outer.run(i)}}const zE={};function qm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Km(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Gv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zv(n){n._nesting--,qm(n)}class KE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ws,this.onMicrotaskEmpty=new Ws,this.onStable=new Ws,this.onError=new Ws}run(i,s,a){return i.apply(s,a)}runGuarded(i,s,a){return i.apply(s,a)}runOutsideAngular(i){return i()}runTask(i,s,a,u){return i.apply(s,a)}}let Zv=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gs.assertNotInAngularZone(),Zm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zm(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return n.\u0275fac=function(s){return new(s||n)($e(Gs))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})(),qv=(()=>{class n{constructor(){this._applications=new Map,Kv.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Kv.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();class sb{addToWindow(i){}findTestabilityInTree(i,s,a){return null}}function ob(n){Kv=n}let zs,Kv=new sb;const QE=new an("AllowMultipleToken");class JE{constructor(i,s){this.name=i,this.token=s}}function t(n,i,s=[]){const a=`Platform: ${i}`,u=new an(a);return(h=[])=>{let _=l();if(!_||_.injector.get(QE,!1))if(n)n(s.concat(h).concat({provide:u,useValue:!0}));else{const v=s.concat(h).concat({provide:u,useValue:!0},{provide:rg,useValue:"platform"});!function r(n){if(zs&&!zs.destroyed&&!zs.injector.get(QE,!1))throw new Te(400,"");zs=n.get(d);const i=n.get(Vv,null);i&&i.forEach(s=>s())}(ls.create({providers:v,name:a}))}return function e(n){const i=l();if(!i)throw new Te(401,"");return i}()}}function l(){return zs&&!zs.destroyed?zs:null}let d=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const v=function g(n,i){let s;return s="noop"===n?new KE:("zone.js"===n?void 0:n)||new Gs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),E=[{provide:Gs,useValue:v}];return v.run(()=>{const T=ls.create({providers:E,parent:this.injector,name:s.moduleType.name}),A=s.create(T),N=A.injector.get(Nn,null);if(!N)throw new Te(402,"");return v.runOutsideAngular(()=>{const V=v.onError.subscribe({next:Z=>{N.handleError(Z)}});A.onDestroy(()=>{U(this._modules,A),V.unsubscribe()})}),function C(n,i,s){try{const a=s();return vc(a)?a.catch(u=>{throw i.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw i.runOutsideAngular(()=>n.handleError(a)),a}}(N,v,()=>{const V=A.injector.get(zf);return V.runInitializers(),V.donePromise.then(()=>(function NC(n){Ze(n,"Expected localeId to be defined"),"string"==typeof n&&(My=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(qf,vf)||vf),this._moduleDoBootstrap(A),A))})})}bootstrapModule(s,a=[]){const u=I({},a);return function YE(n,i,s){const a=new Dm(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(s){const a=s.injector.get(P);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Te(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)($e(ls))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac}),n})();function I(n,i){return Array.isArray(i)?i.reduce(I,n):Object.assign(Object.assign({},n),i)}let P=(()=>{class n{constructor(s,a,u,h,_){this._zone=s,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=h,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new x.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),E=new x.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Gs.assertNotInAngularZone(),Zm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,se.T)(v,E.pipe((0,J.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Te(405,"");let u;u=s instanceof Rd?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(u.componentType);const h=function Yv(n){return n.isBoundToModule}(u)?void 0:this._injector.get(Ic),v=u.create(ls.NULL,[],a||u.selector,h),E=v.location.nativeElement,T=v.injector.get(Zv,null),A=T&&v.injector.get(qv);return T&&A&&A.registerApplication(E,T),v.onDestroy(()=>{this.detachView(v.hostView),U(this.components,v),A&&A.unregisterApplication(E)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Te(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;U(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Hv,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)($e(Gs),$e(ls),$e(Nn),$e(Mf),$e(zf))},n.\u0275prov=Ft({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function U(n,i){const s=n.indexOf(i);s>-1&&n.splice(s,1)}let pe=!0,Me=!1;function at(){return Me=!0,pe}function xt(){if(Me)throw new Error("Cannot enable prod mode after platform setup.");pe=!1}let _n=(()=>{class n{}return n.__NG_ELEMENT_ID__=gs,n})();function gs(n){return function su(n,i,s){if(Fi(n)&&!s){const a=zn(n.index,i);return new Io(a,a)}return 47&n.type?new Io(i[16],i):null}(en(),ye(),16==(16&n))}class cb{constructor(){}supports(i){return $r(i)}create(i){return new Ib(i)}}const bb=(n,i)=>i;class Ib{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||bb}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,a=this._removalsHead,u=0,h=null;for(;s||a;){const _=!a||s&&s.currentIndex<hb(a,u,h)?s:a,v=hb(_,u,h),E=_.currentIndex;if(_===a)u--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)u++;else{h||(h=[]);const T=v-u,A=E-u;if(T!=A){for(let V=0;V<T;V++){const Z=V<h.length?h[V]:h[V]=0,fe=Z+V;A<=fe&&fe<T&&(h[V]=Z+1)}h[_.previousIndex]=A-T}}v!==E&&i(_,v,E)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!$r(i))throw new Te(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,h,_,s=this._itHead,a=!1;if(Array.isArray(i)){this.length=i.length;for(let v=0;v<this.length;v++)h=i[v],_=this._trackByFn(v,h),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,h,_,v)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,_,v),a=!0),s=s._next}else u=0,function pg(n,i){if(Array.isArray(n))for(let s=0;s<n.length;s++)i(n[s]);else{const s=n[sc()]();let a;for(;!(a=s.next()).done;)i(a.value)}}(i,v=>{_=this._trackByFn(u,v),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,v,_,u)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,_,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,a,u){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,u)):i=this._addAfter(new Db(s,a),h,u),i}_verifyReinsertion(i,s,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?i=this._reinsertAfter(h,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,h=i._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(i,s,a),this._addToMoves(i,a),i}_moveAfter(i,s,a){return this._unlink(i),this._insertAfter(i,s,a),this._addToMoves(i,a),i}_addAfter(i,s,a){return this._insertAfter(i,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,a){const u=null===s?this._itHead:s._next;return i._next=u,i._prev=s,null===u?this._itTail=i:u._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new db),this._linkedRecords.put(i),i.currentIndex=a,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,a=i._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new db),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class Db{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Tb{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,i))return a;return null}remove(i){const s=i._prevDup,a=i._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class db{constructor(){this.map=new Map}put(i){const s=i.trackById;let a=this.map.get(s);a||(a=new Tb,this.map.set(s,a)),a.add(i)}get(i,s){const u=this.map.get(i);return u?u.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hb(n,i,s){const a=n.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+i+u}class fb{constructor(){}supports(i){return i instanceof Map||tf(i)}create(){return new Ab}}class Ab{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||tf(i)))throw new Te(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const a=i._prev;return s._next=i,s._prev=a,i._prev=s,a&&(a._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,s);const h=u._prev,_=u._next;return h&&(h._next=_),_&&(_._prev=h),u._next=null,u._prev=null,u}const a=new Sb(i);return this._records.set(i,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(a=>s(i[a],a))}}class Sb{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function pb(){return new rw([new cb])}let rw=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||pb()),deps:[[n,new Rs,new Mr]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Te(901,"")}}return n.\u0275prov=Ft({token:n,providedIn:"root",factory:pb}),n})();function gb(){return new iw([new fb])}let iw=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||gb()),deps:[[n,new Rs,new Mr]]}}find(s){const a=this.factories.find(h=>h.supports(s));if(a)return a;throw new Te(901,"")}}return n.\u0275prov=Ft({token:n,providedIn:"root",factory:gb}),n})();const Ob=t(null,"core",[{provide:jv,useValue:"unknown"},{provide:d,deps:[ls]},{provide:qv,deps:[]},{provide:Wv,deps:[]}]);let xb=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)($e(P))},n.\u0275mod=K({type:n}),n.\u0275inj=kt({}),n})()},3942:(ze,ve,O)=>{O.d(ve,{Z:()=>Te});var p=O(2090),q=O(4859),x=O(9681),se=O(1877);class J{constructor(ce,_e){this._delegate=ce,this.firebase=_e,(0,x._addComponent)(ce,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(ce,_e=x._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Fe=this._delegate.container.getProvider(ce);return!Fe.isInitialized()&&"EXPLICIT"===(null===(je=Fe.getComponent())||void 0===je?void 0:je.instantiationMode)&&Fe.initialize(),Fe.getImmediate({identifier:_e})}_removeServiceInstance(ce,_e=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(_e)}_addComponent(ce){(0,x._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,x._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ae(){const Pe=function ue(Pe){const ce={},_e={__esModule:!0,initializeApp:function Ce(Re,ee={}){const G=x.initializeApp(Re,ee);if((0,p.r3)(ce,G.name))return ce[G.name];const te=new Pe(G,_e);return ce[G.name]=te,te},app:Fe,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function me(Re){const ee=Re.name,G=ee.replace("-compat","");if(x._registerComponent(Re)&&"PUBLIC"===Re.type){const te=(he=Fe())=>{if("function"!=typeof he[G])throw ie.create("invalid-app-argument",{appName:ee});return he[G]()};void 0!==Re.serviceProps&&(0,p.ZB)(te,Re.serviceProps),_e[G]=te,Pe.prototype[G]=function(...he){return this._getService.bind(this,ee).apply(this,Re.multipleInstances?he:[])}}return"PUBLIC"===Re.type?_e[G]:null},removeApp:function je(Re){delete ce[Re]},useAsService:function Ne(Re,ee){return"serverAuth"===ee?null:ee},modularAPIs:x}};function Fe(Re){if(!(0,p.r3)(ce,Re=Re||x._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Re});return ce[Re]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function ge(){return Object.keys(ce).map(Re=>ce[Re])}}),Fe.App=Pe,_e}(J);return Pe.INTERNAL=Object.assign(Object.assign({},Pe.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function ce(_e){(0,p.ZB)(Pe,_e)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),Pe}(),H=new se.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pe=self.firebase.SDK_VERSION;Pe&&Pe.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=j;!function be(Pe){(0,x.registerVersion)("@firebase/app-compat","0.1.20",Pe)}()},9681:(ze,ve,O)=>{O.r(ve),O.d(ve,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Xn,_DEFAULT_ENTRY_NAME:()=>fn,_addComponent:()=>$t,_addOrOverwriteComponent:()=>Lr,_apps:()=>Xe,_clearComponents:()=>wt,_components:()=>Ht,_getProvider:()=>zr,_registerComponent:()=>Ft,_removeServiceInstance:()=>kt,deleteApp:()=>qr,getApp:()=>er,getApps:()=>ai,initializeApp:()=>Zr,onLog:()=>Pn,registerVersion:()=>or,setLogLevel:()=>In});var p=O(5861),q=O(4859),x=O(1877),se=O(2090);class J{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function de(Ue){const Ee=Ue.getComponent();return"VERSION"===(null==Ee?void 0:Ee.type)}(Ve)){const Qe=Ve.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(Ve=>Ve).join(" ")}}const ie="@firebase/app",ae=new x.Yd("@firebase/app"),fn="[DEFAULT]",Ze={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Ht=new Map;function $t(Ue,Ee){try{Ue.container.addComponent(Ee)}catch(Ve){ae.debug(`Component ${Ee.name} failed to register with FirebaseApp ${Ue.name}`,Ve)}}function Lr(Ue,Ee){Ue.container.addOrOverwriteComponent(Ee)}function Ft(Ue){const Ee=Ue.name;if(Ht.has(Ee))return ae.debug(`There were multiple attempts to register component ${Ee}.`),!1;Ht.set(Ee,Ue);for(const Ve of Xe.values())$t(Ve,Ue);return!0}function zr(Ue,Ee){const Ve=Ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),Ue.container.getProvider(Ee)}function kt(Ue,Ee,Ve=fn){zr(Ue,Ee).clearInstance(Ve)}function wt(){Ht.clear()}const sr=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class xi{constructor(Ee,Ve,Qe){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const Xn="9.6.9";function Zr(Ue,Ee={}){"object"!=typeof Ee&&(Ee={name:Ee});const Ve=Object.assign({name:fn,automaticDataCollectionEnabled:!1},Ee),Qe=Ve.name;if("string"!=typeof Qe||!Qe)throw sr.create("bad-app-name",{appName:String(Qe)});const Ct=Xe.get(Qe);if(Ct){if((0,se.vZ)(Ue,Ct.options)&&(0,se.vZ)(Ve,Ct.config))return Ct;throw sr.create("duplicate-app",{appName:Qe})}const gt=new q.H0(Qe);for(const F of Ht.values())gt.addComponent(F);const B=new xi(Ue,Ve,gt);return Xe.set(Qe,B),B}function er(Ue=fn){const Ee=Xe.get(Ue);if(!Ee)throw sr.create("no-app",{appName:Ue});return Ee}function ai(){return Array.from(Xe.values())}function qr(Ue){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,p.Z)(function*(Ue){const Ee=Ue.name;Xe.has(Ee)&&(Xe.delete(Ee),yield Promise.all(Ue.container.getProviders().map(Ve=>Ve.delete())),Ue.isDeleted=!0)})).apply(this,arguments)}function or(Ue,Ee,Ve){var Qe;let Ct=null!==(Qe=Ze[Ue])&&void 0!==Qe?Qe:Ue;Ve&&(Ct+=`-${Ve}`);const gt=Ct.match(/\s|\//),B=Ee.match(/\s|\//);if(gt||B){const F=[`Unable to register library "${Ct}" with version "${Ee}":`];return gt&&F.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),gt&&B&&F.push("and"),B&&F.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void ae.warn(F.join(" "))}Ft(new q.wA(`${Ct}-version`,()=>({library:Ct,version:Ee}),"VERSION"))}function Pn(Ue,Ee){if(null!==Ue&&"function"!=typeof Ue)throw sr.create("invalid-log-argument");(0,x.Am)(Ue,Ee)}function In(Ue){(0,x.Ub)(Ue)}const Zt="firebase-heartbeat-store";let Mn=null;function li(){return Mn||(Mn=(0,se.X3)("firebase-heartbeat-database",1,(Ue,Ee)=>{0===Ee&&Ue.createObjectStore(Zt)}).catch(Ue=>{throw sr.create("storage-open",{originalErrorMessage:Ue.message})})),Mn}function bt(){return(bt=(0,p.Z)(function*(Ue){try{return(yield li()).transaction(Zt).objectStore(Zt).get(Ln(Ue))}catch(Ee){throw sr.create("storage-get",{originalErrorMessage:Ee.message})}})).apply(this,arguments)}function Ge(Ue,Ee){return st.apply(this,arguments)}function st(){return(st=(0,p.Z)(function*(Ue,Ee){try{const Qe=(yield li()).transaction(Zt,"readwrite");return yield Qe.objectStore(Zt).put(Ee,Ln(Ue)),Qe.complete}catch(Ve){throw sr.create("storage-set",{originalErrorMessage:Ve.message})}})).apply(this,arguments)}function Ln(Ue){return`${Ue.name}!${Ue.options.appId}`}class ms{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new Ye(Ve),this._heartbeatsCachePromise=this._storage.read().then(Qe=>(this._heartbeatsCache=Qe,Qe))}triggerHeartbeat(){var Ee=this;return(0,p.Z)(function*(){const Qe=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ct=jn();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==Ct&&!Ee._heartbeatsCache.heartbeats.some(gt=>gt.date===Ct))return Ee._heartbeatsCache.heartbeats.push({date:Ct,agent:Qe}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(gt=>{const B=new Date(gt.date).valueOf();return Date.now()-B<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,p.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const Ve=jn(),{heartbeatsToSend:Qe,unsentEntries:Ct}=function Fn(Ue,Ee=1024){const Ve=[];let Qe=Ue.slice();for(const Ct of Ue){const gt=Ve.find(B=>B.agent===Ct.agent);if(gt){if(gt.dates.push(Ct.date),Hn(Ve)>Ee){gt.dates.pop();break}}else if(Ve.push({agent:Ct.agent,dates:[Ct.date]}),Hn(Ve)>Ee){Ve.pop();break}Qe=Qe.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:Qe}}(Ee._heartbeatsCache.heartbeats),gt=(0,se.L)(JSON.stringify({version:2,heartbeats:Qe}));return Ee._heartbeatsCache.lastSentHeartbeatDate=Ve,Ct.length>0?(Ee._heartbeatsCache.heartbeats=Ct,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),gt})()}}function jn(){return(new Date).toISOString().substring(0,10)}class Ye{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,p.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function qs(Ue){return bt.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var Ve=this;return(0,p.Z)(function*(){var Qe;if(yield Ve._canUseIndexedDBPromise){const gt=yield Ve.read();return Ge(Ve.app,{lastSentHeartbeatDate:null!==(Qe=Ee.lastSentHeartbeatDate)&&void 0!==Qe?Qe:gt.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var Ve=this;return(0,p.Z)(function*(){var Qe;if(yield Ve._canUseIndexedDBPromise){const gt=yield Ve.read();return Ge(Ve.app,{lastSentHeartbeatDate:null!==(Qe=Ee.lastSentHeartbeatDate)&&void 0!==Qe?Qe:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...Ee.heartbeats]})}})()}}function Hn(Ue){return(0,se.L)(JSON.stringify({version:2,heartbeats:Ue})).length}!function yt(Ue){Ft(new q.wA("platform-logger",Ee=>new J(Ee),"PRIVATE")),Ft(new q.wA("heartbeat",Ee=>new ms(Ee),"PRIVATE")),or(ie,"0.7.19",Ue),or(ie,"0.7.19","esm2017"),or("fire-js","")}("")},4859:(ze,ve,O)=>{O.d(ve,{H0:()=>ue,wA:()=>x,zt:()=>J});var p=O(5861),q=O(2090);class x{constructor(j,H,Y){this.name=j,this.instanceFactory=H,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const se="[DEFAULT]";class J{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const Y=new q.BH;if(this.instancesDeferred.set(H,Y),this.isInitialized(H)||this.shouldAutoInitialize())try{const Le=this.getOrInitializeService({instanceIdentifier:H});Le&&Y.resolve(Le)}catch(Le){}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const Y=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Le=null!==(H=null==j?void 0:j.optional)&&void 0!==H&&H;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(Le)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(be){if(Le)return null;throw be}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ie(ae){return"EAGER"===ae.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:se})}catch(H){}for(const[H,Y]of this.instancesDeferred.entries()){const Le=this.normalizeInstanceIdentifier(H);try{const be=this.getOrInitializeService({instanceIdentifier:Le});Y.resolve(be)}catch(be){}}}}clearInstance(j=se){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,p.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...H.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=se){return this.instances.has(j)}getOptions(j=se){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,Y=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Le=this.getOrInitializeService({instanceIdentifier:Y,options:H});for(const[be,Te]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(be)&&Te.resolve(Le);return Le}onInit(j,H){var Y;const Le=this.normalizeInstanceIdentifier(H),be=null!==(Y=this.onInitCallbacks.get(Le))&&void 0!==Y?Y:new Set;be.add(j),this.onInitCallbacks.set(Le,be);const Te=this.instances.get(Le);return Te&&j(Te,Le),()=>{be.delete(j)}}invokeOnInitCallbacks(j,H){const Y=this.onInitCallbacks.get(H);if(Y)for(const Le of Y)try{Le(j,H)}catch(be){}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let Y=this.instances.get(j);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=j,ae===se?void 0:ae),options:H}),this.instances.set(j,Y),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(Y,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Y)}catch(Le){}var ae;return Y||null}normalizeInstanceIdentifier(j=se){return this.component?this.component.multipleInstances?j:se:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new J(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(ze,ve,O)=>{O.d(ve,{Am:()=>ae,Ub:()=>ue,Yd:()=>ie,in:()=>q});const p=[];var q=(()=>{return(j=q||(q={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",q;var j})();const x={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},se=q.INFO,J={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},de=(j,H,...Y)=>{if(H<j.logLevel)return;const Le=(new Date).toISOString(),be=J[H];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[be](`[${Le}]  ${j.name}:`,...Y)};class ie{constructor(H){this.name=H,this._logLevel=se,this._logHandler=de,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in q))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?x[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...H),this._logHandler(this,q.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...H),this._logHandler(this,q.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,q.INFO,...H),this._logHandler(this,q.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,q.WARN,...H),this._logHandler(this,q.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...H),this._logHandler(this,q.ERROR,...H)}}function ue(j){p.forEach(H=>{H.setLogLevel(j)})}function ae(j,H){for(const Y of p){let Le=null;H&&H.level&&(Le=x[H.level]),Y.userLogHandler=null===j?null:(be,Te,...Pe)=>{const ce=Pe.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(je){return null}}).filter(_e=>_e).join(" ");Te>=(null!=Le?Le:be.logLevel)&&j({level:q[Te].toLowerCase(),message:ce,args:Pe,type:be.name})}}}},5861:(ze,ve,O)=>{function p(x,se,J,de,ie,ue,ae){try{var j=x[ue](ae),H=j.value}catch(Y){return void J(Y)}j.done?se(H):Promise.resolve(H).then(de,ie)}function q(x){return function(){var se=this,J=arguments;return new Promise(function(de,ie){var ue=x.apply(se,J);function ae(H){p(ue,de,ie,ae,j,"next",H)}function j(H){p(ue,de,ie,ae,j,"throw",H)}ae(void 0)})}}O.d(ve,{Z:()=>q})}},ze=>{ze(ze.s=4764)}]);
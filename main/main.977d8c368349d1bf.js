"use strict";(self.webpackChunkhomehunter=self.webpackChunkhomehunter||[]).push([[179],{2011:(ze,ve,P)=>{P.d(ve,{Dh:()=>ue,GT:()=>de,cc:()=>we,hO:()=>Fe,on:()=>j,pX:()=>J,xv:()=>ae});var g=P(5e3),K=P(127),x=P(5813);ze=P.hmd(ze);const se=["ngOnDestroy"],J=(_e,je,Le,Ee={})=>new Proxy(_e,{get:(ge,me)=>Le.runOutsideAngular(()=>{var Ne;if(_e[me])return(null===(Ne=null==Ee?void 0:Ee.spy)||void 0===Ne?void 0:Ne.get)&&Ee.spy.get(me,_e[me]),_e[me];if(se.indexOf(me)>-1)return()=>{};const Oe=je.toPromise().then(ee=>{const G=ee&&ee[me];return"function"==typeof G?G.bind(ee):G&&G.then?G.then(te=>Le.run(()=>te)):Le.run(()=>G)});return new Proxy(()=>{},{get:(ee,G)=>Oe[G],apply:(ee,G,te)=>Oe.then(he=>{var ne;const De=he&&he(...te);return(null===(ne=null==Ee?void 0:Ee.spy)||void 0===ne?void 0:ne.apply)&&Ee.spy.apply(me,te,De),De})})})}),de=(_e,je)=>{je.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(Ee=>{Object.defineProperty(_e.prototype,Ee,Object.getOwnPropertyDescriptor(Le.prototype||Le,Ee))})})};class ie{constructor(je){return je}}const ue=new g.OlP("angularfire2.app.options"),ae=new g.OlP("angularfire2.app.name");function j(_e,je,Le){const ge="object"==typeof Le&&Le||{};ge.name=ge.name||"string"==typeof Le&&Le||"[DEFAULT]";const Ne=K.Z.apps.filter(Oe=>Oe&&Oe.name===ge.name)[0]||je.runOutsideAngular(()=>K.Z.initializeApp(_e,ge));try{JSON.stringify(_e)!==JSON.stringify(Ne.options)&&H("error",`${Ne.name} Firebase App already initialized with different options${ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Oe){}return new ie(Ne)}const H=(_e,...je)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[_e](...je)},Q={provide:ie,useFactory:j,deps:[ue,g.R0b,[new g.FiY,ae]]};let Fe=(()=>{class _e{constructor(Le){K.Z.registerVersion("angularfire",x.q4.full,"core"),K.Z.registerVersion("angularfire",x.q4.full,"app-compat"),K.Z.registerVersion("angular",g.q4F.full,Le.toString())}static initializeApp(Le,Ee){return{ngModule:_e,providers:[{provide:ue,useValue:Le},{provide:ae,useValue:Ee}]}}}return _e.\u0275fac=function(Le){return new(Le||_e)(g.LFG(g.Lbi))},_e.\u0275mod=g.oAB({type:_e}),_e.\u0275inj=g.cJS({providers:[Q]}),_e})();function we(_e,je,Le,Ee,ge){const[,me,Ne]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===_e)||[];if(me)return function Te(_e,je){try{return _e.toString()===je.toString()}catch(Le){return _e===je}}(ge,Ne)||(ce("error",`${je} was already initialized on the ${Le} Firebase App with different settings.${Re?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:ge,was:Ne})),me;{const Oe=Ee();return globalThis.\u0275AngularfireInstanceCache.push([_e,Oe,ge]),Oe}}const Re=!!ze.hot,ce=(_e,...je)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[_e](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ze,ve,P)=>{P.d(ve,{q4:()=>wu,iC:()=>Uo,HU:()=>Oa,vb:()=>Al,JM:()=>bi});var g=P(5e3),K=P(5867),x=P(5861),se=P(9681),J=P(2090),de=P(4859),ie=P(1877);const ue="@firebase/installations",H="w:0.5.6",Q="FIS_v2",_e=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function je(I){return I instanceof J.ZR&&I.code.includes("request-failed")}function Le({projectId:I}){return`https://firebaseinstallations.googleapis.com/v1/projects/${I}/installations`}function Ee(I){return{token:I.token,requestStatus:2,expiresIn:te(I.expiresIn),creationTime:Date.now()}}function ge(I,w){return me.apply(this,arguments)}function me(){return(me=(0,x.Z)(function*(I,w){const k=(yield w.json()).error;return _e.create("request-failed",{requestName:I,serverCode:k.code,serverMessage:k.message,serverStatus:k.status})})).apply(this,arguments)}function Ne({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function Oe(I,{refreshToken:w}){const S=Ne(I);return S.append("Authorization",function he(I){return`${Q} ${I}`}(w)),S}function ee(I){return G.apply(this,arguments)}function G(){return(G=(0,x.Z)(function*(I){const w=yield I();return w.status>=500&&w.status<600?I():w})).apply(this,arguments)}function te(I){return Number(I.replace("s","000"))}function ne(I,w){return De.apply(this,arguments)}function De(){return(De=(0,x.Z)(function*({appConfig:I,heartbeatServiceProvider:w},{fid:S}){const k=Le(I),z=Ne(I),X=w.getImmediate({optional:!0});if(X){const ot=yield X.getHeartbeatsHeader();ot&&z.append("x-firebase-client",ot)}const Be={method:"POST",headers:z,body:JSON.stringify({fid:S,authVersion:Q,appId:I.appId,sdkVersion:H})},$e=yield ee(()=>fetch(k,Be));if($e.ok){const ot=yield $e.json();return{fid:ot.fid||S,registrationStatus:2,refreshToken:ot.refreshToken,authToken:Ee(ot.authToken)}}throw yield ge("Create Installation",$e)})).apply(this,arguments)}function oe(I){return new Promise(w=>{setTimeout(w,I)})}const Nt=/^[cdef][\w-]{21}$/;function Ze(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const S=function Xe(I){return function lt(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return Nt.test(S)?S:""}catch(I){return""}}function Ht(I){return`${I.appName}!${I.appId}`}const $t=new Map;function Fr(I,w){const S=Ht(I);kt(S,w),function It(I,w){const S=function ir(){return!Fn&&"BroadcastChannel"in self&&(Fn=new BroadcastChannel("[Firebase] FID Change"),Fn.onmessage=I=>{kt(I.data.key,I.data.fid)}),Fn}();S&&S.postMessage({key:I,fid:w}),function Oi(){0===$t.size&&Fn&&(Fn.close(),Fn=null)}()}(S,w)}function kt(I,w){const S=$t.get(I);if(S)for(const k of S)k(w)}let Fn=null;const er="firebase-installations-store";let ai=null;function Zr(){return ai||(ai=(0,J.X3)("firebase-installations-database",1,(I,w)=>{0===w&&I.createObjectStore(er)})),ai}function qe(I,w){return sr.apply(this,arguments)}function sr(){return(sr=(0,x.Z)(function*(I,w){const S=Ht(I),z=(yield Zr()).transaction(er,"readwrite"),X=z.objectStore(er),be=yield X.get(S);return yield X.put(w,S),yield z.complete,(!be||be.fid!==w.fid)&&Fr(I,w.fid),w})).apply(this,arguments)}function Mn(I){return bn.apply(this,arguments)}function bn(){return(bn=(0,x.Z)(function*(I){const w=Ht(I),k=(yield Zr()).transaction(er,"readwrite");yield k.objectStore(er).delete(w),yield k.complete})).apply(this,arguments)}function Er(I,w){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,x.Z)(function*(I,w){const S=Ht(I),z=(yield Zr()).transaction(er,"readwrite"),X=z.objectStore(er),be=yield X.get(S),Be=w(be);return void 0===Be?yield X.delete(S):yield X.put(Be,S),yield z.complete,Be&&(!be||be.fid!==Be.fid)&&Fr(I,Be.fid),Be})).apply(this,arguments)}function Zt(I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,x.Z)(function*(I){let w;const S=yield Er(I.appConfig,k=>{const z=li(k),X=Zs(I,z);return w=X.registrationPromise,X.installationEntry});return""===S.fid?{installationEntry:yield w}:{installationEntry:S,registrationPromise:w}})).apply(this,arguments)}function li(I){return bt(I||{fid:Ze(),registrationStatus:0})}function Zs(I,w){if(0===w.registrationStatus){if(!navigator.onLine)return{installationEntry:w,registrationPromise:Promise.reject(_e.create("app-offline"))};const S={fid:w.fid,registrationStatus:1,registrationTime:Date.now()},k=function wt(I,w){return Ge.apply(this,arguments)}(I,S);return{installationEntry:S,registrationPromise:k}}return 1===w.registrationStatus?{installationEntry:w,registrationPromise:st(I)}:{installationEntry:w}}function Ge(){return(Ge=(0,x.Z)(function*(I,w){try{const S=yield ne(I,w);return qe(I.appConfig,S)}catch(S){throw je(S)&&409===S.customData.serverCode?yield Mn(I.appConfig):yield qe(I.appConfig,{fid:w.fid,registrationStatus:0}),S}})).apply(this,arguments)}function st(I){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,x.Z)(function*(I){let w=yield Kr(I.appConfig);for(;1===w.registrationStatus;)yield oe(100),w=yield Kr(I.appConfig);if(0===w.registrationStatus){const{installationEntry:S,registrationPromise:k}=yield Zt(I);return k||S}return w})).apply(this,arguments)}function Kr(I){return Er(I,w=>{if(!w)throw _e.create("installation-not-found");return bt(w)})}function bt(I){return function ms(I){return 1===I.registrationStatus&&I.registrationTime+1e4<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Hn(I,w){return Un.apply(this,arguments)}function Un(){return(Un=(0,x.Z)(function*({appConfig:I,heartbeatServiceProvider:w},S){const k=Ye(I,S),z=Oe(I,S),X=w.getImmediate({optional:!0});if(X){const ot=yield X.getHeartbeatsHeader();ot&&z.append("x-firebase-client",ot)}const Be={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:H,appId:I.appId}})},$e=yield ee(()=>fetch(k,Be));if($e.ok)return Ee(yield $e.json());throw yield ge("Generate Auth Token",$e)})).apply(this,arguments)}function Ye(I,{fid:w}){return`${Le(I)}/${w}/authTokens:generate`}function $n(I){return yt.apply(this,arguments)}function yt(){return(yt=(0,x.Z)(function*(I,w=!1){let S;const k=yield Er(I.appConfig,X=>{if(!gt(X))throw _e.create("not-registered");const be=X.authToken;if(!w&&B(be))return X;if(1===be.requestStatus)return S=Ue(I,w),X;{if(!navigator.onLine)throw _e.create("app-offline");const Be=$(X);return S=Qe(I,Be),Be}});return S?yield S:k.authToken})).apply(this,arguments)}function Ue(I,w){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,x.Z)(function*(I,w){let S=yield Ve(I.appConfig);for(;1===S.authToken.requestStatus;)yield oe(100),S=yield Ve(I.appConfig);const k=S.authToken;return 0===k.requestStatus?$n(I,w):k})).apply(this,arguments)}function Ve(I){return Er(I,w=>{if(!gt(w))throw _e.create("not-registered");return function le(I){return 1===I.requestStatus&&I.requestTime+1e4<Date.now()}(w.authToken)?Object.assign(Object.assign({},w),{authToken:{requestStatus:0}}):w})}function Qe(I,w){return Et.apply(this,arguments)}function Et(){return(Et=(0,x.Z)(function*(I,w){try{const S=yield Hn(I,w),k=Object.assign(Object.assign({},w),{authToken:S});return yield qe(I.appConfig,k),S}catch(S){if(!je(S)||401!==S.customData.serverCode&&404!==S.customData.serverCode){const k=Object.assign(Object.assign({},w),{authToken:{requestStatus:0}});yield qe(I.appConfig,k)}else yield Mn(I.appConfig);throw S}})).apply(this,arguments)}function gt(I){return void 0!==I&&2===I.registrationStatus}function B(I){return 2===I.requestStatus&&!function L(I){const w=Date.now();return w<I.creationTime||I.creationTime+I.expiresIn<w+36e5}(I)}function $(I){const w={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:w})}function xe(){return(xe=(0,x.Z)(function*(I){const w=I,{installationEntry:S,registrationPromise:k}=yield Zt(w);return k?k.catch(console.error):$n(w).catch(console.error),S.fid})).apply(this,arguments)}function Pt(){return(Pt=(0,x.Z)(function*(I,w=!1){const S=I;return yield Wn(S),(yield $n(S,w)).token})).apply(this,arguments)}function Wn(I){return At.apply(this,arguments)}function At(){return(At=(0,x.Z)(function*(I){const{registrationPromise:w}=yield Zt(I);w&&(yield w)})).apply(this,arguments)}function Dn(I){return _e.create("missing-app-config-values",{valueName:I})}const Do="installations",Ae=I=>{const w=I.getProvider("app").getImmediate(),S=function ui(I){if(!I||!I.options)throw Dn("App Configuration");if(!I.name)throw Dn("App Name");const w=["projectId","apiKey","appId"];for(const S of w)if(!I.options[S])throw Dn(S);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(w);return{app:w,appConfig:S,heartbeatServiceProvider:(0,se._getProvider)(w,"heartbeat"),_delete:()=>Promise.resolve()}},pt=I=>{const w=I.getProvider("app").getImmediate(),S=(0,se._getProvider)(w,Do).getImmediate();return{getId:()=>function q(I){return xe.apply(this,arguments)}(S),getToken:z=>function tt(I){return Pt.apply(this,arguments)}(S,z)}};(function zt(){(0,se._registerComponent)(new de.wA(Do,Ae,"PUBLIC")),(0,se._registerComponent)(new de.wA("installations-internal",pt,"PRIVATE"))})(),(0,se.registerVersion)(ue,"0.5.6"),(0,se.registerVersion)(ue,"0.5.6","esm2017");const Bn="@firebase/remote-config",pn=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Rc{constructor(w,S,k,z){this.client=w,this.storage=S,this.storageCache=k,this.logger=z}isCachedDataFresh(w,S){if(!S)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const k=Date.now()-S,z=k<=w;return this.logger.debug(`Config fetch cache check. Cache age millis: ${k}. Cache max age millis (minimumFetchIntervalMillis setting): ${w}. Is cache hit: ${z}.`),z}fetch(w){var S=this;return(0,x.Z)(function*(){const[k,z]=yield Promise.all([S.storage.getLastSuccessfulFetchTimestampMillis(),S.storage.getLastSuccessfulFetchResponse()]);if(z&&S.isCachedDataFresh(w.cacheMaxAgeMillis,k))return z;w.eTag=z&&z.eTag;const X=yield S.client.fetch(w),be=[S.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&be.push(S.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(be),X})()}}function su(I=navigator){return I.languages&&I.languages[0]||I.language}class ca{constructor(w,S,k,z,X,be){this.firebaseInstallations=w,this.sdkVersion=S,this.namespace=k,this.projectId=z,this.apiKey=X,this.appId=be}fetch(w){var S=this;return(0,x.Z)(function*(){const[k,z]=yield Promise.all([S.firebaseInstallations.getId(),S.firebaseInstallations.getToken()]),be=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${S.projectId}/namespaces/${S.namespace}:fetch?key=${S.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":w.eTag||"*"},$e={sdk_version:S.sdkVersion,app_instance_id:k,app_instance_id_token:z,app_id:S.appId,language_code:su()},ot={method:"POST",headers:Be,body:JSON.stringify($e)},Dt=fetch(be,ot),ut=new Promise((Mr,Di)=>{w.signal.addEventListener(()=>{const Os=new Error("The operation was aborted.");Os.name="AbortError",Di(Os)})});let An;try{yield Promise.race([Dt,ut]),An=yield Dt}catch(Mr){let Di="fetch-client-network";throw"AbortError"===Mr.name&&(Di="fetch-timeout"),pn.create(Di,{originalErrorMessage:Mr.message})}let mn=An.status;const co=An.headers.get("ETag")||void 0;let ka,Jr;if(200===An.status){let Mr;try{Mr=yield An.json()}catch(Di){throw pn.create("fetch-client-parse",{originalErrorMessage:Di.message})}ka=Mr.entries,Jr=Mr.state}if("INSTANCE_STATE_UNSPECIFIED"===Jr?mn=500:"NO_CHANGE"===Jr?mn=304:("NO_TEMPLATE"===Jr||"EMPTY_CONFIG"===Jr)&&(ka={}),304!==mn&&200!==mn)throw pn.create("fetch-status",{httpStatus:mn});return{status:mn,eTag:co,config:ka}})()}}class qd{constructor(w,S){this.client=w,this.storage=S}fetch(w){var S=this;return(0,x.Z)(function*(){const k=(yield S.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return S.attemptFetch(w,k)})()}attemptFetch(w,{throttleEndTimeMillis:S,backoffCount:k}){var z=this;return(0,x.Z)(function*(){yield function vn(I,w){return new Promise((S,k)=>{const z=Math.max(w-Date.now(),0),X=setTimeout(S,z);I.addEventListener(()=>{clearTimeout(X),k(pn.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}(w.signal,S);try{const X=yield z.client.fetch(w);return yield z.storage.deleteThrottleMetadata(),X}catch(X){if(!function ou(I){if(!(I instanceof J.ZR&&I.customData))return!1;const w=Number(I.customData.httpStatus);return 429===w||500===w||503===w||504===w}(X))throw X;const be={throttleEndTimeMillis:Date.now()+(0,J.$s)(k),backoffCount:k+1};return yield z.storage.setThrottleMetadata(be),z.attemptFetch(w,be)}})()}}class au{constructor(w,S,k,z,X){this.app=w,this._client=S,this._storageCache=k,this._storage=z,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function al(I,w){const S=I.target.error||void 0;return pn.create(w,{originalErrorMessage:S&&S.message})}const Bi="app_namespace_store";class Xd{constructor(w,S,k,z=function Jd(){return new Promise((I,w)=>{try{const S=indexedDB.open("firebase_remote_config",1);S.onerror=k=>{w(al(k,"storage-open"))},S.onsuccess=k=>{I(k.target.result)},S.onupgradeneeded=k=>{0===k.oldVersion&&k.target.result.createObjectStore(Bi,{keyPath:"compositeKey"})}}catch(S){w(pn.create("storage-open",{originalErrorMessage:S}))}})}()){this.appId=w,this.appName=S,this.namespace=k,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(w){return this.set("last_fetch_status",w)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(w){return this.set("last_successful_fetch_timestamp_millis",w)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(w){return this.set("last_successful_fetch_response",w)}getActiveConfig(){return this.get("active_config")}setActiveConfig(w){return this.set("active_config",w)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(w){return this.set("active_config_etag",w)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(w){return this.set("throttle_metadata",w)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(w){var S=this;return(0,x.Z)(function*(){const k=yield S.openDbPromise;return new Promise((z,X)=>{const Be=k.transaction([Bi],"readonly").objectStore(Bi),$e=S.createCompositeKey(w);try{const ot=Be.get($e);ot.onerror=Dt=>{X(al(Dt,"storage-get"))},ot.onsuccess=Dt=>{const ut=Dt.target.result;z(ut?ut.value:void 0)}}catch(ot){X(pn.create("storage-get",{originalErrorMessage:ot&&ot.message}))}})})()}set(w,S){var k=this;return(0,x.Z)(function*(){const z=yield k.openDbPromise;return new Promise((X,be)=>{const $e=z.transaction([Bi],"readwrite").objectStore(Bi),ot=k.createCompositeKey(w);try{const Dt=$e.put({compositeKey:ot,value:S});Dt.onerror=ut=>{be(al(ut,"storage-set"))},Dt.onsuccess=()=>{X()}}catch(Dt){be(pn.create("storage-set",{originalErrorMessage:Dt&&Dt.message}))}})})()}delete(w){var S=this;return(0,x.Z)(function*(){const k=yield S.openDbPromise;return new Promise((z,X)=>{const Be=k.transaction([Bi],"readwrite").objectStore(Bi),$e=S.createCompositeKey(w);try{const ot=Be.delete($e);ot.onerror=Dt=>{X(al(Dt,"storage-delete"))},ot.onsuccess=()=>{z()}}catch(ot){X(pn.create("storage-delete",{originalErrorMessage:ot&&ot.message}))}})})()}createCompositeKey(w){return[this.appId,this.appName,this.namespace,w].join()}}class uu{constructor(w){this.storage=w}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var w=this;return(0,x.Z)(function*(){const S=w.storage.getLastFetchStatus(),k=w.storage.getLastSuccessfulFetchTimestampMillis(),z=w.storage.getActiveConfig(),X=yield S;X&&(w.lastFetchStatus=X);const be=yield k;be&&(w.lastSuccessfulFetchTimestampMillis=be);const Be=yield z;Be&&(w.activeConfig=Be)})()}setLastFetchStatus(w){return this.lastFetchStatus=w,this.storage.setLastFetchStatus(w)}setLastSuccessfulFetchTimestampMillis(w){return this.lastSuccessfulFetchTimestampMillis=w,this.storage.setLastSuccessfulFetchTimestampMillis(w)}setActiveConfig(w){return this.activeConfig=w,this.storage.setActiveConfig(w)}}function vs(){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,x.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(I){return!1}})).apply(this,arguments)}!function qs(){(0,se._registerComponent)(new de.wA("remote-config",function I(w,{instanceIdentifier:S}){const k=w.getProvider("app").getImmediate(),z=w.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw pn.create("registration-window");if(!(0,J.hl)())throw pn.create("indexed-db-unavailable");const{projectId:X,apiKey:be,appId:Be}=k.options;if(!X)throw pn.create("registration-project-id");if(!be)throw pn.create("registration-api-key");if(!Be)throw pn.create("registration-app-id");const $e=new Xd(Be,k.name,S=S||"firebase"),ot=new uu($e),Dt=new ie.Yd(Bn);Dt.logLevel=ie.in.ERROR;const ut=new ca(z,se.SDK_VERSION,S,X,be,Be),An=new qd(ut,$e),mn=new Rc(An,$e,ot,Dt),co=new au(k,mn,ot,$e,Dt);return function Ir(I){const w=(0,J.m9)(I);w._initializePromise||(w._initializePromise=w._storageCache.loadFromStorage().then(()=>{w._isInitializationComplete=!0}))}(co),co},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(Bn,"0.3.5"),(0,se.registerVersion)(Bn,"0.3.5","esm2017")}();const ll="/firebase-messaging-sw.js",Vi="/firebase-cloud-messaging-push-scope",ar="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Es="google.c.a.c_id",Ao="google.c.a.c_l",cu="google.c.a.ts",eh="google.c.a.e";var ji=(()=>{return(I=ji||(ji={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",ji;var I})();function br(I){const w=new Uint8Array(I);return btoa(String.fromCharCode(...w)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ha(I){const S=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),k=atob(S),z=new Uint8Array(k.length);for(let X=0;X<k.length;++X)z[X]=k.charCodeAt(X);return z}const fa="fcm_token_details_db",Gn="fcm_token_object_Store";function Pc(I){return pa.apply(this,arguments)}function pa(){return pa=(0,x.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(fa))return null;let w=null;return(yield(0,J.X3)(fa,5,function(){var k=(0,x.Z)(function*(z,X,be,Be){var $e;if(X<2||!z.objectStoreNames.contains(Gn))return;const ot=Be.objectStore(Gn),Dt=yield ot.index("fcmSenderId").get(I);if(yield ot.clear(),Dt)if(2===X){const ut=Dt;if(!ut.auth||!ut.p256dh||!ut.endpoint)return;w={token:ut.fcmToken,createTime:null!==($e=ut.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:ut.auth,p256dh:ut.p256dh,endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:"string"==typeof ut.vapidKey?ut.vapidKey:br(ut.vapidKey)}}}else if(3===X){const ut=Dt;w={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:br(ut.auth),p256dh:br(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:br(ut.vapidKey)}}}else if(4===X){const ut=Dt;w={token:ut.fcmToken,createTime:ut.createTime,subscriptionOptions:{auth:br(ut.auth),p256dh:br(ut.p256dh),endpoint:ut.endpoint,swScope:ut.swScope,vapidKey:br(ut.vapidKey)}}}});return function(z,X,be,Be){return k.apply(this,arguments)}}())).close(),yield(0,J.Lj)(fa),yield(0,J.Lj)("fcm_vapid_details_db"),yield(0,J.Lj)("undefined"),du(w)?w:null}),pa.apply(this,arguments)}function du(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:w}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof w.auth&&w.auth.length>0&&"string"==typeof w.p256dh&&w.p256dh.length>0&&"string"==typeof w.endpoint&&w.endpoint.length>0&&"string"==typeof w.swScope&&w.swScope.length>0&&"string"==typeof w.vapidKey&&w.vapidKey.length>0}const fi="firebase-messaging-store";let So=null;function ul(){return So||(So=(0,J.X3)("firebase-messaging-database",1,(I,w)=>{0===w&&I.createObjectStore(fi)})),So}function Kt(I){return Js.apply(this,arguments)}function Js(){return(Js=(0,x.Z)(function*(I){const w=Is(I),k=yield(yield ul()).transaction(fi).objectStore(fi).get(w);if(k)return k;{const z=yield Pc(I.appConfig.senderId);if(z)return yield Hi(I,z),z}})).apply(this,arguments)}function Hi(I,w){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,x.Z)(function*(I,w){const S=Is(I),z=(yield ul()).transaction(fi,"readwrite");return yield z.objectStore(fi).put(w,S),yield z.complete,w})).apply(this,arguments)}function hu(I){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,x.Z)(function*(I){const w=Is(I),k=(yield ul()).transaction(fi,"readwrite");yield k.objectStore(fi).delete(w),yield k.complete})).apply(this,arguments)}function Is({appConfig:I}){return I.appId}const gn=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ro(I,w){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,x.Z)(function*(I,w){const S=yield Wi(I),k=Je(w),z={method:"POST",headers:S,body:JSON.stringify(k)};let X;try{X=yield(yield fetch(ur(I.appConfig),z)).json()}catch(be){throw gn.create("token-subscribe-failed",{errorInfo:be})}if(X.error)throw gn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw gn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Zn(I,w){return $i.apply(this,arguments)}function $i(){return($i=(0,x.Z)(function*(I,w){const S=yield Wi(I),k=Je(w.subscriptionOptions),z={method:"PATCH",headers:S,body:JSON.stringify(k)};let X;try{X=yield(yield fetch(`${ur(I.appConfig)}/${w.token}`,z)).json()}catch(be){throw gn.create("token-update-failed",{errorInfo:be})}if(X.error)throw gn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw gn.create("token-update-no-token");return X.token})).apply(this,arguments)}function pi(I,w){return _a.apply(this,arguments)}function _a(){return(_a=(0,x.Z)(function*(I,w){const k={method:"DELETE",headers:yield Wi(I)};try{const X=yield(yield fetch(`${ur(I.appConfig)}/${w}`,k)).json();if(X.error)throw gn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(z){throw gn.create("token-unsubscribe-failed",{errorInfo:z})}})).apply(this,arguments)}function ur({projectId:I}){return`https://fcmregistrations.googleapis.com/v1/projects/${I}/registrations`}function Wi(I){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,x.Z)(function*({appConfig:I,installations:w}){const S=yield w.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${S}`})})).apply(this,arguments)}function Je({p256dh:I,auth:w,endpoint:S,vapidKey:k}){const z={web:{endpoint:S,auth:w,p256dh:I}};return k!==ar&&(z.web.applicationPubKey=k),z}const ya=6048e5;function Mo(I){return va.apply(this,arguments)}function va(){return(va=(0,x.Z)(function*(I){const w=yield hl(I.swRegistration,I.vapidKey),S={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:w.endpoint,auth:br(w.getKey("auth")),p256dh:br(w.getKey("p256dh"))},k=yield Kt(I.firebaseDependencies);if(k){if(Xs(k.subscriptionOptions,S))return Date.now()>=k.createTime+ya?cl(I,{token:k.token,createTime:Date.now(),subscriptionOptions:S}):k.token;try{yield pi(I.firebaseDependencies,k.token)}catch(z){console.warn(z)}return ye(I.firebaseDependencies,S)}return ye(I.firebaseDependencies,S)})).apply(this,arguments)}function Ea(I){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,x.Z)(function*(I){const w=yield Kt(I.firebaseDependencies);w&&(yield pi(I.firebaseDependencies,w.token),yield hu(I.firebaseDependencies));const S=yield I.swRegistration.pushManager.getSubscription();return!S||S.unsubscribe()})).apply(this,arguments)}function cl(I,w){return dl.apply(this,arguments)}function dl(){return(dl=(0,x.Z)(function*(I,w){try{const S=yield Zn(I.firebaseDependencies,w),k=Object.assign(Object.assign({},w),{token:S,createTime:Date.now()});return yield Hi(I.firebaseDependencies,k),S}catch(S){throw yield Ea(I),S}})).apply(this,arguments)}function ye(I,w){return mt.apply(this,arguments)}function mt(){return(mt=(0,x.Z)(function*(I,w){const k={token:yield Ro(I,w),createTime:Date.now(),subscriptionOptions:w};return yield Hi(I,k),k.token})).apply(this,arguments)}function hl(I,w){return tn.apply(this,arguments)}function tn(){return(tn=(0,x.Z)(function*(I,w){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ha(w)})})).apply(this,arguments)}function Xs(I,w){return w.vapidKey===I.vapidKey&&w.endpoint===I.endpoint&&w.auth===I.auth&&w.p256dh===I.p256dh}function eo(I){const w={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function cr(I,w){if(!w.notification)return;I.notification={};const S=w.notification.title;S&&(I.notification.title=S);const k=w.notification.body;k&&(I.notification.body=k);const z=w.notification.image;z&&(I.notification.image=z)}(w,I),function fl(I,w){!w.data||(I.data=w.data)}(w,I),function pl(I,w){if(!w.fcmOptions)return;I.fcmOptions={};const S=w.fcmOptions.link;S&&(I.fcmOptions.link=S);const k=w.fcmOptions.analytics_label;k&&(I.fcmOptions.analyticsLabel=k)}(w,I),w}function fu(I){return"object"==typeof I&&!!I&&Es in I}function gl(I,w){const S=[];for(let k=0;k<I.length;k++)S.push(I.charAt(k)),k<w.length&&S.push(w.charAt(k));return S.join("")}function zi(I){return gn.create("missing-app-config-values",{valueName:I})}gl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vn{constructor(w,S,k){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function Ia(I){if(!I||!I.options)throw zi("App Configuration Object");if(!I.name)throw zi("App Name");const w=["projectId","apiKey","appId","messagingSenderId"],{options:S}=I;for(const k of w)if(!S[k])throw zi(k);return{appName:I.name,projectId:S.projectId,apiKey:S.apiKey,appId:S.appId,senderId:S.messagingSenderId}}(w);this.firebaseDependencies={app:w,appConfig:z,installations:S,analyticsProvider:k}}_delete(){return Promise.resolve()}}function Dr(I){return wa.apply(this,arguments)}function wa(){return(wa=(0,x.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(ll,{scope:Vi}),I.swRegistration.update().catch(()=>{})}catch(w){throw gn.create("failed-service-worker-registration",{browserErrorMessage:w.message})}})).apply(this,arguments)}function Zi(I,w){return Br.apply(this,arguments)}function Br(){return(Br=(0,x.Z)(function*(I,w){if(!w&&!I.swRegistration&&(yield Dr(I)),w||!I.swRegistration){if(!(w instanceof ServiceWorkerRegistration))throw gn.create("invalid-sw-registration");I.swRegistration=w}})).apply(this,arguments)}function ml(I,w){return ba.apply(this,arguments)}function ba(){return(ba=(0,x.Z)(function*(I,w){w?I.vapidKey=w:I.vapidKey||(I.vapidKey=ar)})).apply(this,arguments)}function _l(){return(_l=(0,x.Z)(function*(I,w){if(!navigator)throw gn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw gn.create("permission-blocked");return yield ml(I,null==w?void 0:w.vapidKey),yield Zi(I,null==w?void 0:w.serviceWorkerRegistration),Mo(I)})).apply(this,arguments)}function Po(I,w,S){return xo.apply(this,arguments)}function xo(){return(xo=(0,x.Z)(function*(I,w,S){const k=yl(w);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(k,{message_id:S[Es],message_name:S[Ao],message_time:S[cu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function yl(I){switch(I){case ji.NOTIFICATION_CLICKED:return"notification_open";case ji.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pu(){return(pu=(0,x.Z)(function*(I,w){const S=w.data;if(!S.isFirebaseMessaging)return;I.onMessageHandler&&S.messageType===ji.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(eo(S)):I.onMessageHandler.next(eo(S)));const k=S.data;fu(k)&&"1"===k[eh]&&(yield Po(I,S.messageType,k))})).apply(this,arguments)}const El="@firebase/messaging",gu=I=>{const w=new Vn(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",S=>function vl(I,w){return pu.apply(this,arguments)}(w,S)),w},bs=I=>{const w=I.getProvider("messaging").getImmediate();return{getToken:k=>function Da(I,w){return _l.apply(this,arguments)}(w,k)}};function _u(){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,x.Z)(function*(){try{yield(0,J.eu)()}catch(I){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mu(){(0,se._registerComponent)(new de.wA("messaging",gu,"PUBLIC")),(0,se._registerComponent)(new de.wA("messaging-internal",bs,"PRIVATE")),(0,se.registerVersion)(El,"0.9.10"),(0,se.registerVersion)(El,"0.9.10","esm2017")}();const Il="analytics",qf="firebase_id",Oo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ta="https://www.googletagmanager.com/gtag/js",En=new ie.Yd("@firebase/analytics");function yu(I){return Promise.all(I.map(w=>w.catch(S=>S)))}function th(I,w){const S=document.createElement("script");S.src=`${Ta}?l=${I}&id=${w}`,S.async=!0,document.head.appendChild(S)}function to(I,w,S,k,z,X){return vu.apply(this,arguments)}function vu(){return(vu=(0,x.Z)(function*(I,w,S,k,z,X){const be=k[z];try{if(be)yield w[be];else{const $e=(yield yu(S)).find(ot=>ot.measurementId===z);$e&&(yield w[$e.appId])}}catch(Be){En.error(Be)}I("config",z,X)})).apply(this,arguments)}function bl(I,w,S,k,z){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,x.Z)(function*(I,w,S,k,z){try{let X=[];if(z&&z.send_to){let be=z.send_to;Array.isArray(be)||(be=[be]);const Be=yield yu(S);for(const $e of be){const ot=Be.find(ut=>ut.measurementId===$e),Dt=ot&&w[ot.appId];if(!Dt){X=[];break}X.push(Dt)}}0===X.length&&(X=Object.values(w)),yield Promise.all(X),I("event",k,z||{})}catch(X){En.error(X)}})).apply(this,arguments)}function nh(){const I=window.document.getElementsByTagName("script");for(const w of Object.values(I))if(w.src&&w.src.includes(Ta))return w;return null}const qn=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),et=new class Cn{constructor(w={},S=1e3){this.throttleMetadata=w,this.intervalMillis=S}getThrottleMetadata(w){return this.throttleMetadata[w]}setThrottleMetadata(w,S){this.throttleMetadata[w]=S}deleteThrottleMetadata(w){delete this.throttleMetadata[w]}};function Yi(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function St(I){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,x.Z)(function*(I){var w;const{appId:S,apiKey:k}=I,z={method:"GET",headers:Yi(k)},X=Oo.replace("{app-id}",S),be=yield fetch(X,z);if(200!==be.status&&304!==be.status){let Be="";try{const $e=yield be.json();(null===(w=$e.error)||void 0===w?void 0:w.message)&&(Be=$e.error.message)}catch($e){}throw qn.create("config-fetch-failed",{httpStatus:be.status,responseMessage:Be})}return be.json()})).apply(this,arguments)}function Aa(I){return nn.apply(this,arguments)}function nn(){return(nn=(0,x.Z)(function*(I,w=et,S){const{appId:k,apiKey:z,measurementId:X}=I.options;if(!k)throw qn.create("no-app-id");if(!z){if(X)return{measurementId:X,appId:k};throw qn.create("no-api-key")}const be=w.getThrottleMetadata(k)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new Qi;return setTimeout((0,x.Z)(function*(){Be.abort()}),void 0!==S?S:6e4),Tn({appId:k,apiKey:z,measurementId:X},be,Be,w)})).apply(this,arguments)}function Tn(I,w,S){return rn.apply(this,arguments)}function rn(){return(rn=(0,x.Z)(function*(I,{throttleEndTimeMillis:w,backoffCount:S},k,z=et){const{appId:X,measurementId:be}=I;try{yield rh(k,w)}catch(Be){if(be)return En.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${be} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:X,measurementId:be};throw Be}try{const Be=yield St(I);return z.deleteThrottleMetadata(X),Be}catch(Be){if(!No(Be)){if(z.deleteThrottleMetadata(X),be)return En.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${be} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:X,measurementId:be};throw Be}const $e=503===Number(Be.customData.httpStatus)?(0,J.$s)(S,z.intervalMillis,30):(0,J.$s)(S,z.intervalMillis),ot={throttleEndTimeMillis:Date.now()+$e,backoffCount:S+1};return z.setThrottleMetadata(X,ot),En.debug(`Calling attemptFetch again in ${$e} millis`),Tn(I,ot,k,z)}})).apply(this,arguments)}function rh(I,w){return new Promise((S,k)=>{const z=Math.max(w-Date.now(),0),X=setTimeout(S,z);I.addEventListener(()=>{clearTimeout(X),k(qn.create("fetch-throttle",{throttleEndTimeMillis:w}))})})}function No(I){if(!(I instanceof J.ZR&&I.customData))return!1;const w=Number(I.customData.httpStatus);return 429===w||500===w||503===w||504===w}class Qi{constructor(){this.listeners=[]}addEventListener(w){this.listeners.push(w)}abort(){this.listeners.forEach(w=>w())}}function Nc(){return no.apply(this,arguments)}function no(){return(no=(0,x.Z)(function*(){if(!(0,J.hl)())return En.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(I){return En.warn(qn.create("indexeddb-unavailable",{errorInfo:I}).message),!1}return!0})).apply(this,arguments)}function yi(){return(yi=(0,x.Z)(function*(I,w,S,k,z,X,be){var Be;const $e=Aa(I);$e.then(mn=>{S[mn.measurementId]=mn.appId,I.options.measurementId&&mn.measurementId!==I.options.measurementId&&En.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mn=>En.error(mn)),w.push($e);const ot=Nc().then(mn=>{if(mn)return k.getId()}),[Dt,ut]=yield Promise.all([$e,ot]);nh()||th(X,Dt.measurementId),z("js",new Date);const An=null!==(Be=null==be?void 0:be.config)&&void 0!==Be?Be:{};return An.origin="firebase",An.update=!0,null!=ut&&(An[qf]=ut),z("config",Dt.measurementId,An),Dt.measurementId})).apply(this,arguments)}class io{constructor(w){this.app=w}_delete(){return delete sn[this.app.options.appId],Promise.resolve()}}let sn={},so=[];const Dl={};let Vr,O,dr="dataLayer",oo=!1;function Tr(I,w,S){!function Sa(){const I=[];if((0,J.ru)()&&I.push("This is a browser extension environment."),(0,J.zI)()||I.push("Cookies are not available."),I.length>0){const w=I.map((k,z)=>`(${z+1}) ${k}`).join(" "),S=qn.create("invalid-analytics-context",{errorInfo:w});En.warn(S.message)}}();const k=I.options.appId;if(!k)throw qn.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw qn.create("no-api-key");En.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=sn[k])throw qn.create("already-exists",{id:k});if(!oo){!function mi(I){let w=[];Array.isArray(window[I])?w=window[I]:window[I]=w}(dr);const{wrappedGtag:X,gtagCore:be}=function Oc(I,w,S,k,z){let X=function(...be){window[k].push(arguments)};return window[z]&&"function"==typeof window[z]&&(X=window[z]),window[z]=function Eu(I,w,S,k){function X(){return(X=(0,x.Z)(function*(be,Be,$e){try{"event"===be?yield bl(I,w,S,Be,$e):"config"===be?yield to(I,w,S,k,Be,$e):I("set",Be)}catch(ot){En.error(ot)}})).apply(this,arguments)}return function z(be,Be,$e){return X.apply(this,arguments)}}(X,I,w,S),{gtagCore:X,wrappedGtag:window[z]}}(sn,so,Dl,dr,"gtag");O=X,Vr=be,oo=!0}return sn[k]=function ro(I,w,S,k,z,X,be){return yi.apply(this,arguments)}(I,so,Dl,w,Vr,dr,S),new io(I)}function Ra(){return(Ra=(0,x.Z)(function*(I,w,S,k,z){if(z&&z.global)I("event",S,k);else{const X=yield w;I("event",S,Object.assign(Object.assign({},k),{send_to:X}))}})).apply(this,arguments)}function Ms(){return hn.apply(this,arguments)}function hn(){return(hn=(0,x.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(I){return!1}})).apply(this,arguments)}const ko="@firebase/analytics";!function Xi(){(0,se._registerComponent)(new de.wA(Il,(w,{options:S})=>Tr(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),S),"PUBLIC")),(0,se._registerComponent)(new de.wA("analytics-internal",function I(w){try{const S=w.getProvider(Il).getImmediate();return{logEvent:(k,z,X)=>function ih(I,w,S,k){I=(0,J.m9)(I),function Cu(I,w,S,k,z){return Ra.apply(this,arguments)}(O,sn[I.app.options.appId],w,S,k).catch(z=>En.error(z))}(S,k,z,X)}}catch(S){throw qn.create("interop-component-reg-failed",{reason:S})}},"PRIVATE")),(0,se.registerVersion)(ko,"0.7.6"),(0,se.registerVersion)(ko,"0.7.6","esm2017")}();var wi=P(4408),sh=P(7565);const Fo=new class qt extends sh.v{}(class fr extends wi.o{constructor(w,S){super(w,S),this.scheduler=w,this.work=S}schedule(w,S=0){return S>0?super.schedule(w,S):(this.delay=S,this.state=w,this.scheduler.flush(this),this)}execute(w,S){return S>0||this.closed?super.execute(w,S):this._execute(w,S)}requestAsyncId(w,S,k=0){return null!=k&&k>0||null==k&&this.delay>0?super.requestAsyncId(w,S,k):w.flush(this)}});var Nn=P(4986),xa=P(8505),Qn=P(9468),Ar=P(5363);const wu=new g.GfV("7.2.1"),es="__angularfire_symbol__analyticsIsSupportedValue",Sr="__angularfire_symbol__analyticsIsSupported",Rr="__angularfire_symbol__remoteConfigIsSupportedValue",ts="__angularfire_symbol__remoteConfigIsSupported",ns="__angularfire_symbol__messagingIsSupportedValue",bu="__angularfire_symbol__messagingIsSupported";function bi(I,w,S){if(w){if(1===w.length)return w[0];const X=w.filter(be=>be.app===S);if(1===X.length)return X[0]}return S.container.getProvider(I).getImmediate({optional:!0})}globalThis[Sr]||(globalThis[Sr]=Ms().then(I=>globalThis[es]=I).catch(()=>globalThis[es]=!1)),globalThis[bu]||(globalThis[bu]=_u().then(I=>globalThis[ns]=I).catch(()=>globalThis[ns]=!1)),globalThis[ts]||(globalThis[ts]=vs().then(I=>globalThis[Rr]=I).catch(()=>globalThis[Rr]=!1));const Al=(I,w)=>{const S=w?[w]:(0,K.C6)(),k=[];return S.forEach(z=>{z.container.getProvider(I).instances.forEach(be=>{k.includes(be)||k.push(be)})}),k};function rs(){}class Lo{constructor(w,S=Fo){this.zone=w,this.delegate=S}now(){return this.delegate.now()}schedule(w,S,k){const z=this.zone;return this.delegate.schedule(function(be){z.runGuarded(()=>{w.apply(this,[be])})},S,k)}}class Du{constructor(w){this.zone=w,this.task=null}call(w,S){const k=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rs,{},rs,rs)),S.pipe((0,xa.b)({next:k,complete:k,error:k})).subscribe(w).add(k)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Oa=(()=>{class I{constructor(S){this.ngZone=S,this.outsideAngular=S.runOutsideAngular(()=>new Lo(Zone.current)),this.insideAngular=S.run(()=>new Lo(Zone.current,Nn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(S){return new(S||I)(g.LFG(g.R0b))},I.\u0275prov=g.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Qr(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function Uo(I){return Qr(),function xs(I){return function(S){return(S=S.lift(new Du(I.ngZone))).pipe((0,Qn.R)(I.outsideAngular),(0,Ar.Q)(I.insideAngular))}}(Qr())(I)}},2090:(ze,ve,P)=>{P.d(ve,{$s:()=>ms,BH:()=>we,DV:()=>It,Dv:()=>Ni,GJ:()=>Gr,L:()=>ae,LL:()=>lt,Lj:()=>Et,Pz:()=>Xe,Sg:()=>Te,UG:()=>_e,UI:()=>ir,US:()=>ie,Wj:()=>li,X3:()=>Qe,Yr:()=>Oe,ZB:()=>Q,ZR:()=>oe,b$:()=>Ee,cI:()=>Ze,dS:()=>wt,eu:()=>te,g5:()=>se,gK:()=>Zt,gQ:()=>Zr,h$:()=>ue,hl:()=>G,hu:()=>x,jU:()=>je,lb:()=>Zs,m9:()=>Ye,ne:()=>qe,p$:()=>H,pd:()=>ai,r3:()=>kt,ru:()=>Le,tV:()=>j,uI:()=>ce,ug:()=>Ge,vZ:()=>Oi,w1:()=>me,w9:()=>Lt,xO:()=>zr,xb:()=>Fn,z$:()=>Re,zI:()=>he,zd:()=>er});var g=P(5861);const x=function(B,L){if(!B)throw se(L)},se=function(B){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+B)},J=function(B){const L=[];let $=0;for(let le=0;le<B.length;le++){let q=B.charCodeAt(le);q<128?L[$++]=q:q<2048?(L[$++]=q>>6|192,L[$++]=63&q|128):55296==(64512&q)&&le+1<B.length&&56320==(64512&B.charCodeAt(le+1))?(q=65536+((1023&q)<<10)+(1023&B.charCodeAt(++le)),L[$++]=q>>18|240,L[$++]=q>>12&63|128,L[$++]=q>>6&63|128,L[$++]=63&q|128):(L[$++]=q>>12|224,L[$++]=q>>6&63|128,L[$++]=63&q|128)}return L},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,L){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let q=0;q<B.length;q+=3){const xe=B[q],tt=q+1<B.length,Pt=tt?B[q+1]:0,Wn=q+2<B.length,At=Wn?B[q+2]:0;let Gt=(15&Pt)<<2|At>>6,xn=63&At;Wn||(xn=64,tt||(Gt=64)),le.push($[xe>>2],$[(3&xe)<<4|Pt>>4],$[Gt],$[xn])}return le.join("")},encodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(B):this.encodeByteArray(J(B),L)},decodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(B):function(B){const L=[];let $=0,le=0;for(;$<B.length;){const q=B[$++];if(q<128)L[le++]=String.fromCharCode(q);else if(q>191&&q<224){const xe=B[$++];L[le++]=String.fromCharCode((31&q)<<6|63&xe)}else if(q>239&&q<365){const Wn=((7&q)<<18|(63&B[$++])<<12|(63&B[$++])<<6|63&B[$++])-65536;L[le++]=String.fromCharCode(55296+(Wn>>10)),L[le++]=String.fromCharCode(56320+(1023&Wn))}else{const xe=B[$++],tt=B[$++];L[le++]=String.fromCharCode((15&q)<<12|(63&xe)<<6|63&tt)}}return L.join("")}(this.decodeStringToByteArray(B,L))},decodeStringToByteArray(B,L){this.init_();const $=L?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let q=0;q<B.length;){const xe=$[B.charAt(q++)],Pt=q<B.length?$[B.charAt(q)]:0;++q;const At=q<B.length?$[B.charAt(q)]:64;++q;const ft=q<B.length?$[B.charAt(q)]:64;if(++q,null==xe||null==Pt||null==At||null==ft)throw Error();le.push(xe<<2|Pt>>4),64!==At&&(le.push(Pt<<4&240|At>>2),64!==ft&&le.push(At<<6&192|ft))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},ue=function(B){const L=J(B);return ie.encodeByteArray(L,!0)},ae=function(B){return ue(B).replace(/\./g,"")},j=function(B){try{return ie.decodeString(B,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function H(B){return Q(void 0,B)}function Q(B,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return L}for(const $ in L)!L.hasOwnProperty($)||!Fe($)||(B[$]=Q(B[$],L[$]));return B}function Fe(B){return"__proto__"!==B}class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,$)=>{this.resolve=L,this.reject=$})}wrapCallback(L){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L($):L($,le))}}}function Te(B,L){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=L||"demo-project",q=B.iat||0,xe=B.sub||B.user_id;if(!xe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tt=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:q,exp:q+3600,auth_time:q,sub:xe,user_id:xe,firebase:{sign_in_provider:"custom",identities:{}}},B);return[ae(JSON.stringify({alg:"none",type:"JWT"})),ae(JSON.stringify(tt)),""].join(".")}function Re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function _e(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function je(){return"object"==typeof self&&self.self===self}function Le(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Ee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function me(){const B=Re();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Oe(){return!1}function G(){return"object"==typeof indexedDB}function te(){return new Promise((B,L)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(le);q.onsuccess=()=>{q.result.close(),$||self.indexedDB.deleteDatabase(le),B(!0)},q.onupgradeneeded=()=>{$=!1},q.onerror=()=>{var xe;L((null===(xe=q.error)||void 0===xe?void 0:xe.message)||"")}}catch($){L($)}})}function he(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class oe extends Error{constructor(L,$,le){super($),this.code=L,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lt.prototype.create)}}class lt{constructor(L,$,le){this.service=L,this.serviceName=$,this.errors=le}create(L,...$){const le=$[0]||{},q=`${this.service}/${L}`,xe=this.errors[L],tt=xe?function Nt(B,L){return B.replace(fn,($,le)=>{const q=L[le];return null!=q?String(q):`<${le}?>`})}(xe,le):"Error";return new oe(q,`${this.serviceName}: ${tt} (${q}).`,le)}}const fn=/\{\$([^}]+)}/g;function Ze(B){return JSON.parse(B)}function Xe(B){return JSON.stringify(B)}const Ht=function(B){let L={},$={},le={},q="";try{const xe=B.split(".");L=Ze(j(xe[0])||""),$=Ze(j(xe[1])||""),q=xe[2],le=$.d||{},delete $.d}catch(xe){}return{header:L,claims:$,data:le,signature:q}},Lt=function(B){const $=Ht(B).claims;return!!$&&"object"==typeof $&&$.hasOwnProperty("iat")},Gr=function(B){const L=Ht(B).claims;return"object"==typeof L&&!0===L.admin};function kt(B,L){return Object.prototype.hasOwnProperty.call(B,L)}function It(B,L){if(Object.prototype.hasOwnProperty.call(B,L))return B[L]}function Fn(B){for(const L in B)if(Object.prototype.hasOwnProperty.call(B,L))return!1;return!0}function ir(B,L,$){const le={};for(const q in B)Object.prototype.hasOwnProperty.call(B,q)&&(le[q]=L.call($,B[q],q,B));return le}function Oi(B,L){if(B===L)return!0;const $=Object.keys(B),le=Object.keys(L);for(const q of $){if(!le.includes(q))return!1;const xe=B[q],tt=L[q];if(Xn(xe)&&Xn(tt)){if(!Oi(xe,tt))return!1}else if(xe!==tt)return!1}for(const q of le)if(!$.includes(q))return!1;return!0}function Xn(B){return null!==B&&"object"==typeof B}function zr(B){const L=[];for(const[$,le]of Object.entries(B))Array.isArray(le)?le.forEach(q=>{L.push(encodeURIComponent($)+"="+encodeURIComponent(q))}):L.push(encodeURIComponent($)+"="+encodeURIComponent(le));return L.length?"&"+L.join("&"):""}function er(B){const L={};return B.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[q,xe]=le.split("=");L[decodeURIComponent(q)]=decodeURIComponent(xe)}}),L}function ai(B){const L=B.indexOf("?");if(!L)return"";const $=B.indexOf("#",L);return B.substring(L,$>0?$:void 0)}class Zr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,$){$||($=0);const le=this.W_;if("string"==typeof L)for(let ft=0;ft<16;ft++)le[ft]=L.charCodeAt($)<<24|L.charCodeAt($+1)<<16|L.charCodeAt($+2)<<8|L.charCodeAt($+3),$+=4;else for(let ft=0;ft<16;ft++)le[ft]=L[$]<<24|L[$+1]<<16|L[$+2]<<8|L[$+3],$+=4;for(let ft=16;ft<80;ft++){const Gt=le[ft-3]^le[ft-8]^le[ft-14]^le[ft-16];le[ft]=4294967295&(Gt<<1|Gt>>>31)}let At,cn,q=this.chain_[0],xe=this.chain_[1],tt=this.chain_[2],Pt=this.chain_[3],Wn=this.chain_[4];for(let ft=0;ft<80;ft++){ft<40?ft<20?(At=Pt^xe&(tt^Pt),cn=1518500249):(At=xe^tt^Pt,cn=1859775393):ft<60?(At=xe&tt|Pt&(xe|tt),cn=2400959708):(At=xe^tt^Pt,cn=3395469782);const Gt=(q<<5|q>>>27)+At+Wn+cn+le[ft]&4294967295;Wn=Pt,Pt=tt,tt=4294967295&(xe<<30|xe>>>2),xe=q,q=Gt}this.chain_[0]=this.chain_[0]+q&4294967295,this.chain_[1]=this.chain_[1]+xe&4294967295,this.chain_[2]=this.chain_[2]+tt&4294967295,this.chain_[3]=this.chain_[3]+Pt&4294967295,this.chain_[4]=this.chain_[4]+Wn&4294967295}update(L,$){if(null==L)return;void 0===$&&($=L.length);const le=$-this.blockSize;let q=0;const xe=this.buf_;let tt=this.inbuf_;for(;q<$;){if(0===tt)for(;q<=le;)this.compress_(L,q),q+=this.blockSize;if("string"==typeof L){for(;q<$;)if(xe[tt]=L.charCodeAt(q),++tt,++q,tt===this.blockSize){this.compress_(xe),tt=0;break}}else for(;q<$;)if(xe[tt]=L[q],++tt,++q,tt===this.blockSize){this.compress_(xe),tt=0;break}}this.inbuf_=tt,this.total_+=$}digest(){const L=[];let $=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let q=this.blockSize-1;q>=56;q--)this.buf_[q]=255&$,$/=256;this.compress_(this.buf_);let le=0;for(let q=0;q<5;q++)for(let xe=24;xe>=0;xe-=8)L[le]=this.chain_[q]>>xe&255,++le;return L}}function qe(B,L){const $=new sr(B,L);return $.subscribe.bind($)}class sr{constructor(L,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{L(this)}).catch(le=>{this.error(le)})}next(L){this.forEachObserver($=>{$.next(L)})}error(L){this.forEachObserver($=>{$.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,$,le){let q;if(void 0===L&&void 0===$&&void 0===le)throw new Error("Missing Observer.");q=function bn(B,L){if("object"!=typeof B||null===B)return!1;for(const $ of L)if($ in B&&"function"==typeof B[$])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:$,complete:le},void 0===q.next&&(q.next=Er),void 0===q.error&&(q.error=Er),void 0===q.complete&&(q.complete=Er);const xe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch(tt){}}),this.observers.push(q),xe}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,L)}sendOne(L,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{$(this.observers[L])}catch(le){"undefined"!=typeof console&&console.error&&console.error(le)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Er(){}const Ni=function(B,L,$,le){let q;if(le<L?q="at least "+L:le>$&&(q=0===$?"none":"no more than "+$),q)throw new Error(B+" failed: Was called with "+le+(1===le?" argument.":" arguments.")+" Expects "+q+".")};function Zt(B,L){return`${B} failed: ${L} argument `}function li(B,L,$,le){if((!le||$)&&"function"!=typeof $)throw new Error(Zt(B,L)+"must be a valid function.")}function Zs(B,L,$,le){if((!le||$)&&("object"!=typeof $||null===$))throw new Error(Zt(B,L)+"must be a valid context object.")}const wt=function(B){const L=[];let $=0;for(let le=0;le<B.length;le++){let q=B.charCodeAt(le);if(q>=55296&&q<=56319){const xe=q-55296;le++,x(le<B.length,"Surrogate pair missing trail surrogate."),q=65536+(xe<<10)+(B.charCodeAt(le)-56320)}q<128?L[$++]=q:q<2048?(L[$++]=q>>6|192,L[$++]=63&q|128):q<65536?(L[$++]=q>>12|224,L[$++]=q>>6&63|128,L[$++]=63&q|128):(L[$++]=q>>18|240,L[$++]=q>>12&63|128,L[$++]=q>>6&63|128,L[$++]=63&q|128)}return L},Ge=function(B){let L=0;for(let $=0;$<B.length;$++){const le=B.charCodeAt($);le<128?L++:le<2048?L+=2:le>=55296&&le<=56319?(L+=4,$++):L+=3}return L};function ms(B,L=1e3,$=2){const le=L*Math.pow($,B),q=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+q)}function Ye(B){return B&&B._delegate?B._delegate:B}function $n(B,L){return new Promise(($,le)=>{B.onsuccess=q=>{$(q.target.result)},B.onerror=q=>{var xe;le(`${L}: ${null===(xe=q.target.error)||void 0===xe?void 0:xe.message}`)}})}class yt{constructor(L){this._db=L,this.objectStoreNames=this._db.objectStoreNames}transaction(L,$){return new Ue(this._db.transaction.call(this._db,L,$))}createObjectStore(L,$){return new Ce(this._db.createObjectStore(L,$))}close(){this._db.close()}}class Ue{constructor(L){this._transaction=L,this.complete=new Promise(($,le)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{le(this._transaction.error)},this._transaction.onabort=()=>{le(this._transaction.error)}})}objectStore(L){return new Ce(this._transaction.objectStore(L))}}class Ce{constructor(L){this._store=L}index(L){return new Ve(this._store.index(L))}createIndex(L,$,le){return new Ve(this._store.createIndex(L,$,le))}get(L){return $n(this._store.get(L),"Error reading from IndexedDB")}put(L,$){return $n(this._store.put(L,$),"Error writing to IndexedDB")}delete(L){return $n(this._store.delete(L),"Error deleting from IndexedDB")}clear(){return $n(this._store.clear(),"Error clearing IndexedDB object store")}}class Ve{constructor(L){this._index=L}get(L){return $n(this._index.get(L),"Error reading from IndexedDB")}}function Qe(B,L,$){return new Promise((le,q)=>{try{const xe=indexedDB.open(B,L);xe.onsuccess=tt=>{le(new yt(tt.target.result))},xe.onerror=tt=>{var Pt;q(`Error opening indexedDB: ${null===(Pt=tt.target.error)||void 0===Pt?void 0:Pt.message}`)},xe.onupgradeneeded=tt=>{$(new yt(xe.result),tt.oldVersion,tt.newVersion,new Ue(xe.transaction))}}catch(xe){q(`Error opening indexedDB: ${xe.message}`)}})}function Et(B){return gt.apply(this,arguments)}function gt(){return(gt=(0,g.Z)(function*(B){return new Promise((L,$)=>{try{const le=indexedDB.deleteDatabase(B);le.onsuccess=()=>{L()},le.onerror=q=>{var xe;$(`Error deleting indexedDB database "${B}": ${null===(xe=q.target.error)||void 0===xe?void 0:xe.message}`)}}catch(le){$(`Error deleting indexedDB database "${B}": ${le.message}`)}})})).apply(this,arguments)}},4764:(ze,ve,P)=>{var g=P(5e3);let K=null;function x(){return K}const ie=new g.OlP("DocumentToken");let ue=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=g.Yz7({token:i,factory:function(){return function ae(){return(0,g.LFG)(H)}()},providedIn:"platform"}),i})();const j=new g.OlP("Location Initialized");let H=(()=>{class i extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const o=x().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=x().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){Q()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){Q()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(ie))},i.\u0275prov=g.Yz7({token:i,factory:function(){return function Fe(){return new H((0,g.LFG)(ie))}()},providedIn:"platform"}),i})();function Q(){return!!window.history.pushState}function we(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function Te(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function Re(i){return i&&"?"!==i[0]?"?"+i:i}let ce=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=g.Yz7({token:i,factory:function(){return function _e(i){const t=(0,g.LFG)(ie).location;return new Le((0,g.LFG)(ue),t&&t.origin||"")}()},providedIn:"root"}),i})();const je=new g.OlP("appBaseHref");let Le=(()=>{class i extends ce{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return we(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+Re(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,d){const p=this.prepareExternalUrl(l+Re(d));this._platformLocation.pushState(e,o,p)}replaceState(e,o,l,d){const p=this.prepareExternalUrl(l+Re(d));this._platformLocation.replaceState(e,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(ue),g.LFG(je,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Ee=(()=>{class i extends ce{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=we(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,d){let p=this.prepareExternalUrl(l+Re(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.pushState(e,o,p)}replaceState(e,o,l,d){let p=this.prepareExternalUrl(l+Re(d));0==p.length&&(p=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,p)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(ue),g.LFG(je,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),ge=(()=>{class i{constructor(e,o){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Te(Oe(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+Re(o))}normalize(e){return i.stripTrailingSlash(function Ne(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,Oe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Re(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Re(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return i.normalizeQueryParams=Re,i.joinWithSlash=we,i.stripTrailingSlash=Te,i.\u0275fac=function(e){return new(e||i)(g.LFG(ce),g.LFG(ue))},i.\u0275prov=g.Yz7({token:i,factory:function(){return function me(){return new ge((0,g.LFG)(ce),(0,g.LFG)(ue))}()},providedIn:"root"}),i})();function Oe(i){return i.replace(/\/index.html$/,"")}class Li{constructor(t,e,o,l){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class i{constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((l,d,p)=>{if(null==l.previousIndex)o.createEmbeddedView(this._template,new Li(l.item,this._ngForOf,-1,-1),null===p?void 0:p);else if(null==p)o.remove(null===d?void 0:d);else if(null!==d){const E=o.get(d);o.move(E,p),ci(E,l)}});for(let l=0,d=o.length;l<d;l++){const E=o.get(l).context;E.index=l,E.count=d,E.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{ci(o.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();function ci(i,t){i.context.$implicit=t.item}let Ir=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new Bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){aa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){aa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(g.Y36(g.s_b),g.Y36(g.Rgc))},i.\u0275dir=g.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Bt{constructor(){this.$implicit=null,this.ngIf=null}}function aa(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,g.AaK)(t)}'.`)}let Qs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();let ga=(()=>{class i{}return i.\u0275prov=(0,g.Yz7)({token:i,providedIn:"root",factory:()=>new ma((0,g.LFG)(ie),window)}),i})();class ma{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function So(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const d=l.shadowRoot;if(d){const p=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(p)return p}l=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],l-d[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=fi(this.window.history)||fi(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function fi(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Hi extends class Js extends class de{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J(i){K||(K=i)}(new Hi)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function hu(){return Vt=Vt||document.querySelector("base"),Vt?Vt.getAttribute("href"):null}();return null==e?null:function Is(i){Cs=Cs||document.createElement("a"),Cs.setAttribute("href",i);const t=Cs.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Vt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Ks(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const o=e.indexOf("="),[l,d]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===t)return decodeURIComponent(d)}return null}(document.cookie,t)}}let Cs,Vt=null;const zn=new g.OlP("TRANSITION_ID"),Ro=[{provide:g.ip1,useFactory:function gn(i,t,e){return()=>{e.get(g.CZH).donePromise.then(()=>{const o=x(),l=t.querySelectorAll(`style[ng-transition="${i}"]`);for(let d=0;d<l.length;d++)o.remove(l[d])})}},deps:[zn,ie,g.zs3],multi:!0}];class Ur{static init(){(0,g.VLi)(new Ur)}addToWindow(t){g.dqk.getAngularTestability=(o,l=!0)=>{const d=t.findTestabilityInTree(o,l);if(null==d)throw new Error("Could not find testability for element.");return d},g.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(o=>{const l=g.dqk.getAllAngularTestabilities();let d=l.length,p=!1;const E=function(b){p=p||b,d--,0==d&&o(p)};l.forEach(function(b){b.whenStable(E)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const l=t.getTestability(e);return null!=l?l:o?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Zn=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const $i=new g.OlP("EventManagerPlugins");let pi=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let d=0;d<l.length;d++){const p=l[d];if(p.supports(e))return this._eventNameToPlugin.set(e,p),p}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(g.LFG($i),g.LFG(g.R0b))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class _a{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const l=x().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let ur=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Wi=(()=>{class i extends ur{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(d=>{const p=this._doc.createElement("style");p.textContent=d,l.push(o.appendChild(p))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Gi),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Gi))}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(ie))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function Gi(i){x().remove(i)}const Je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ya=/%COMP%/g;function ye(i,t,e){for(let o=0;o<t.length;o++){let l=t[o];Array.isArray(l)?ye(i,l,e):(l=l.replace(ya,i),e.push(l))}return e}function mt(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let tn=(()=>{class i{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new Xs(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case g.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new fl(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case g.ifc.ShadowDom:return new pl(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=ye(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(pi),g.LFG(Wi),g.LFG(g.AFp))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();class Xs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Je[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,l){if(l){e=l+":"+e;const d=Je[l];d?t.setAttributeNS(d,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const l=Je[o];l?t.removeAttributeNS(l,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,l){l&(g.JOm.DashCase|g.JOm.Important)?t.style.setProperty(e,o,l&g.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&g.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,mt(o)):this.eventManager.addEventListener(t,e,mt(o))}}class fl extends Xs{constructor(t,e,o,l){super(t),this.component=o;const d=ye(l+"-"+o.id,o.styles,[]);e.addStyles(d),this.contentAttr=function cl(i){return"_ngcontent-%COMP%".replace(ya,i)}(l+"-"+o.id),this.hostAttr=function dl(i){return"_nghost-%COMP%".replace(ya,i)}(l+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class pl extends Xs{constructor(t,e,o,l){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=ye(l.id,l.styles,[]);for(let p=0;p<d.length;p++){const E=document.createElement("style");E.textContent=d[p],this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let fu=(()=>{class i extends _a{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(ie))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const gl=["alt","control","meta","shift"],zi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dr={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let wa=(()=>{class i extends _a{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,l){const d=i.parseEventName(o),p=i.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,d.domEventName,p))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const d=i._normalizeKey(o.pop());let p="";if(gl.forEach(b=>{const R=o.indexOf(b);R>-1&&(o.splice(R,1),p+=b+".")}),p+=d,0!=o.length||0===d.length)return null;const E={};return E.domEventName=l,E.fullKey=p,E}static getEventFullKey(e){let o="",l=function Zi(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&Vn.hasOwnProperty(t)&&(t=Vn[t]))}return zi[t]||t}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),gl.forEach(d=>{d!=l&&Dr[d](e)&&(o+=d+".")}),o+=l,o}static eventCallback(e,o,l){return d=>{i.getEventFullKey(d)===e&&l.runGuarded(()=>o(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(ie))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const _l=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function Br(){Hi.makeCurrent(),Ur.init()},multi:!0},{provide:ie,useFactory:function ba(){return(0,g.RDi)(document),document},deps:[]}]),Po=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function ml(){return new g.qLn},deps:[]},{provide:$i,useClass:fu,multi:!0,deps:[ie,g.R0b,g.Lbi]},{provide:$i,useClass:wa,multi:!0,deps:[ie]},{provide:tn,useClass:tn,deps:[pi,Wi,g.AFp]},{provide:g.FYo,useExisting:tn},{provide:ur,useExisting:Wi},{provide:Wi,useClass:Wi,deps:[ie]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:pi,useClass:pi,deps:[$i,g.R0b]},{provide:class Kt{},useClass:Zn,deps:[]}];let xo=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:g.AFp,useValue:e.appId},{provide:zn,useExisting:g.AFp},Ro]}}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(i,12))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:Po,imports:[Qs,g.hGG]}),i})();"undefined"!=typeof window&&window;var _i=P(2011),qn=P(4986),Yr=P(8306),tr=P(7669),Cn=P(8996);function et(...i){const t=(0,tr.yG)(i);return(0,Cn.D)(i,t)}var Yi=P(6451),St=P(4004),Wt=P(3099),Aa=P(8421),nn=P(4482),Tn=P(5403);function rn(i,t){return(0,nn.e)((e,o)=>{let l=null,d=0,p=!1;const E=()=>p&&!l&&o.complete();e.subscribe((0,Tn.x)(o,b=>{null==l||l.unsubscribe();let R=0;const U=d++;(0,Aa.Xf)(i(b,U)).subscribe(l=(0,Tn.x)(o,F=>o.next(t?t(b,F,U,R++):F),()=>{l=null,E()}))},()=>{p=!0,E()}))})}function rh(i,t,e,o,l){return(d,p)=>{let E=e,b=t,R=0;d.subscribe((0,Tn.x)(p,U=>{const F=R++;b=E?i(b,U,F):(E=!0,U),o&&p.next(b)},l&&(()=>{E&&p.next(b),p.complete()})))}}function No(i,t){return(0,nn.e)(rh(i,t,arguments.length>=2,!0))}var Qi=P(4671);function no(i,t){return i===t}var ro=P(5032),sn=P(5813),Dl=(P(2092),P(3942)),dr=P(4859),vi=P(5861),Vr=P(9681),O=P(2090),oo=P(1877);const kc="@firebase/database";let Tr="";function Cu(i){Tr=i}class Ra{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,O.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,O.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Iu{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,O.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const jr=function(i){try{if("undefined"!=typeof window&&void 0!==window[i]){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ra(t)}}catch(t){}return new Iu},As=jr("localStorage"),Ji=jr("sessionStorage"),Ei=new oo.Yd("@firebase/database"),Ci=function(){let i=1;return function(){return i++}}(),Ss=function(i){const t=(0,O.dS)(i),e=new O.gQ;e.update(t);const o=e.digest();return O.US.encodeByteArray(o)},Yn=function(...i){let t="";for(let e=0;e<i.length;e++){const o=i[e];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?t+=Yn.apply(null,o):t+="object"==typeof o?(0,O.Pz)(o):o,t+=" "}return t};let Rs=null,Ma=!0;const Ms=function(i,t){(0,O.hu)(!t||!0===i||!1===i,"Can't turn on custom loggers persistently."),!0===i?(Ei.logLevel=oo.in.VERBOSE,Rs=Ei.log.bind(Ei),t&&Ji.set("logging_enabled",!0)):"function"==typeof i?Rs=i:(Rs=null,Ji.remove("logging_enabled"))},hn=function(...i){if(!0===Ma&&(Ma=!1,null===Rs&&!0===Ji.get("logging_enabled")&&Ms(!0)),Rs){const t=Yn.apply(null,i);Rs(t)}},Pa=function(i){return function(...t){hn(i,...t)}},ln=function(...i){const t="FIREBASE INTERNAL ERROR: "+Yn(...i);Ei.error(t)},Ii=function(...i){const t=`FIREBASE FATAL ERROR: ${Yn(...i)}`;throw Ei.error(t),new Error(t)},hr=function(...i){const t="FIREBASE WARNING: "+Yn(...i);Ei.warn(t)},ko=function(i){return"number"==typeof i&&(i!=i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Xi="[MIN_NAME]",wi="[MAX_NAME]",fr=function(i,t){if(i===t)return 0;if(i===Xi||t===wi)return-1;if(t===Xi||i===wi)return 1;{const e=ts(i),o=ts(t);return null!==e?null!==o?e-o==0?i.length-t.length:e-o:-1:null!==o?1:i<t?-1:1}},sh=function(i,t){return i===t?0:i<t?-1:1},qt=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+(0,O.Pz)(t))},Fo=function(i){if("object"!=typeof i||null===i)return(0,O.Pz)(i);const t=[];for(const o in i)t.push(o);t.sort();let e="{";for(let o=0;o<t.length;o++)0!==o&&(e+=","),e+=(0,O.Pz)(t[o]),e+=":",e+=Fo(i[t[o]]);return e+="}",e},Ps=function(i,t){const e=i.length;if(e<=t)return[i];const o=[];for(let l=0;l<e;l+=t)o.push(i.substring(l,l+t>e?e:l+t));return o};function Nn(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const xa=function(i){(0,O.hu)(!ko(i),"Invalid JSON number");const o=1023;let l,d,p,E,b;0===i?(d=0,p=0,l=1/i==-1/0?1:0):(l=i<0,(i=Math.abs(i))>=Math.pow(2,1-o)?(E=Math.min(Math.floor(Math.log(i)/Math.LN2),o),d=E+o,p=Math.round(i*Math.pow(2,52-E)-Math.pow(2,52))):(d=0,p=Math.round(i/Math.pow(2,-1074))));const R=[];for(b=52;b;b-=1)R.push(p%2?1:0),p=Math.floor(p/2);for(b=11;b;b-=1)R.push(d%2?1:0),d=Math.floor(d/2);R.push(l?1:0),R.reverse();const U=R.join("");let F="";for(b=0;b<64;b+=8){let Y=parseInt(U.substr(b,8),2).toString(16);1===Y.length&&(Y="0"+Y),F+=Y}return F.toLowerCase()},es=new RegExp("^-?(0*)\\d{1,10}$"),Sr=-2147483648,Rr=2147483647,ts=function(i){if(es.test(i)){const t=Number(i);if(t>=Sr&&t<=Rr)return t}return null},ns=function(i){try{i()}catch(t){setTimeout(()=>{throw hr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},ao=function(i,t){const e=setTimeout(i,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Tl{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){hr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pr{constructor(t,e,o){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(hn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,o):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hr(t)}}let lo=(()=>{class i{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return i.OWNER="owner",i})();const Oa=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Sl="websocket",Na="long_polling";class Uo{constructor(t,e,o,l,d=!1,p="",E=!1){this.secure=e,this.namespace=o,this.webSocketOnly=l,this.nodeAdmin=d,this.persistenceKey=p,this.includeNamespaceInQueryParams=E,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=As.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&As.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function uo(i,t,e){let o;if((0,O.hu)("string"==typeof t,"typeof type must == string"),(0,O.hu)("object"==typeof e,"typeof params must == object"),t===Sl)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else{if(t!==Na)throw new Error("Unknown connection type: "+t);o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?"}(function xs(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams})(i)&&(e.ns=i.namespace);const l=[];return Nn(e,(d,p)=>{l.push(d+"="+p)}),o+l.join("&")}class Rl{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,O.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,O.p$)(this.counters_)}}const I={},w={};function S(i){const t=i.toString();return I[t]||(I[t]=new Rl),I[t]}class z{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<o.length;++l)o[l]&&ns(()=>{this.onMessage_(o[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ns{constructor(t,e,o,l,d,p,E){this.connId=t,this.repoInfo=e,this.applicationId=o,this.appCheckToken=l,this.authToken=d,this.transportSessionId=p,this.lastSessionId=E,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pa(t),this.stats_=S(e),this.urlFn=b=>(this.appCheckToken&&(b.ac=this.appCheckToken),uo(e,Na,b))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new z(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(i){if((0,O.Yr)()||"complete"===document.readyState)i();else{let t=!1;const e=function(){document.body?t||(t=!0,i()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ho((...d)=>{const[p,E,b,R,U]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===p)this.id=E,this.password=b;else{if("close"!==p)throw new Error("Unrecognized command received: "+p);E?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(E,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[p,E]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(p,E)},()=>{this.onClosed_()},this.urlFn);const o={start:"t"};o.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(o.cb=this.scriptTagHolder.uniqueCallbackIdentifier),o.v="5",this.transportSessionId&&(o.s=this.transportSessionId),this.lastSessionId&&(o.ls=this.lastSessionId),this.applicationId&&(o.p=this.applicationId),this.appCheckToken&&(o.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Oa.test(location.hostname)&&(o.r="f");const l=this.urlFn(o);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ns.forceAllow_=!0}static forceDisallow(){Ns.forceDisallow_=!0}static isAvailable(){return!((0,O.Yr)()||!Ns.forceAllow_&&(Ns.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,O.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const o=(0,O.h$)(e),l=Ps(o,1840);for(let d=0;d<l.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,O.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const o={dframe:"t"};o.id=t,o.pw=e,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,O.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class ho{constructor(t,e,o,l){if(this.onDisconnect=o,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,O.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Ci(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ho.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const p="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(p),this.myIFrame.doc.close()}catch(E){hn("frame writing exception"),E.stack&&hn(E.stack),hn(E)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||hn("No IE domain setting required")}catch(e){const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),o="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+o.length<=1870;){const p=this.pendingSegs.shift();o=o+"&seg"+l+"="+p.seg+"&ts"+l+"="+p.ts+"&d"+l+"="+p.d,l++}return e+=o,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,o){this.pendingSegs.push({seg:t,ts:e,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const o=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(o,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(l),o()})}addTag(t,e){(0,O.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const l=o.readyState;(!l||"loaded"===l||"complete"===l)&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),e())},o.onerror=()=>{hn("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch(o){}},Math.floor(1))}}let Ml=null;"undefined"!=typeof MozWebSocket?Ml=MozWebSocket:"undefined"!=typeof WebSocket&&(Ml=WebSocket);let Xr=(()=>{class i{constructor(e,o,l,d,p,E,b){this.connId=e,this.applicationId=l,this.appCheckToken=d,this.authToken=p,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pa(this.connId),this.stats_=S(o),this.connURL=i.connectionURL_(o,E,b,d),this.nodeAdmin=o.nodeAdmin}static connectionURL_(e,o,l,d){const p={v:"5"};return!(0,O.Yr)()&&"undefined"!=typeof location&&location.hostname&&Oa.test(location.hostname)&&(p.r="f"),o&&(p.s=o),l&&(p.ls=l),d&&(p.ac=d),uo(e,Sl,p)}open(e,o){this.onDisconnect=o,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,As.set("previous_websocket_failure",!0);try{if((0,O.Yr)()){const d={headers:{"User-Agent":`Firebase/5/${Tr}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(d.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(d.headers["X-Firebase-AppCheck"]=this.appCheckToken);const p=process.env,E=0===this.connURL.indexOf("wss://")?p.HTTPS_PROXY||p.https_proxy:p.HTTP_PROXY||p.http_proxy;E&&(d.proxy={origin:E}),this.mySock=new Ml(this.connURL,[],d)}else this.mySock=new Ml(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(l){this.log_("Error instantiating WebSocket.");const d=l.message||l.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=l=>{this.handleIncomingFrame(l)},this.mySock.onerror=l=>{this.log_("WebSocket error.  Closing connection.");const d=l.message||l.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){i.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const l=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);l&&l.length>1&&parseFloat(l[1])<4.4&&(e=!0)}return!e&&null!==Ml&&!i.forceDisallow_}static previouslyFailed(){return As.isInMemoryStorage||!0===As.get("previous_websocket_failure")}markConnectionHealthy(){As.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const o=this.frames.join("");this.frames=null;const l=(0,O.cI)(o);this.onMessage(l)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,O.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const o=Number(e);if(!isNaN(o))return this.handleNewFrameCount_(o),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const o=e.data;if(this.bytesReceived+=o.length,this.stats_.incrementCounter("bytes_received",o.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(o);else{const l=this.extractFrameCount_(o);null!==l&&this.appendFrame_(l)}}send(e){this.resetKeepAlive();const o=(0,O.Pz)(e);this.bytesSent+=o.length,this.stats_.incrementCounter("bytes_sent",o.length);const l=Ps(o,16384);l.length>1&&this.sendString_(String(l.length));for(let d=0;d<l.length;d++)this.sendString_(l[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(o){this.log_("Exception thrown from WebSocket.send():",o.message||o.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return i.responsesRequiredToBeHealthy=2,i.healthyTimeout=3e4,i})();class Bo{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ns,Xr]}initTransports_(t){const e=Xr&&Xr.isAvailable();let o=e&&!Xr.previouslyFailed();if(t.webSocketOnly&&(e||hr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Xr];else{const l=this.transports_=[];for(const d of Bo.ALL_TRANSPORTS)d&&d.isAvailable()&&l.push(d)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class Pl{constructor(t,e,o,l,d,p,E,b,R,U){this.id=t,this.repoInfo_=e,this.applicationId_=o,this.appCheckToken_=l,this.authToken_=d,this.onMessage_=p,this.onReady_=E,this.onDisconnect_=b,this.onKill_=R,this.lastSessionId=U,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pa("c:"+this.id+":"),this.transportManager_=new Bo(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,o)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=ao(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=qt("t",t),o=qt("d",t);if("c"===e)this.onSecondaryControl_(o);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(o)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=qt("t",t),o=qt("d",t);"c"===e?this.onControl_(o):"d"===e&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=qt("t",t);if("d"in t){const o=t.d;if("h"===e)this.onHandshake_(o);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(o):"r"===e?this.onReset_(o):"e"===e?ln("Server Error: "+o):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ln("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,o=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==o&&hr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,o),ao(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ao(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(As.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Mu{put(t,e,o,l){}merge(t,e,o,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,o){}onDisconnectMerge(t,e,o){}onDisconnectCancel(t,e){}reportStats(t){}}class Uc{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,O.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let l=0;l<o.length;l++)o[l].callback.apply(o[l].context,e)}}on(t,e,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:o});const l=this.getInitialEvent(t);l&&e.apply(o,l)}off(t,e,o){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let d=0;d<l.length;d++)if(l[d].callback===e&&(!o||o===l[d].context))return void l.splice(d,1)}validateEventType_(t){(0,O.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class xl extends Uc{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,O.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new xl}getInitialEvent(t){return(0,O.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class jt{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let o=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[o]=this.pieces_[l],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Ft(){return new jt("")}function vt(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function is(i){return i.pieces_.length-i.pieceNum_}function Yt(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new jt(i.pieces_,t)}function ei(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Fa(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function ep(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new jt(t,0)}function on(i,t){const e=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)e.push(i.pieces_[o]);if(t instanceof jt)for(let o=t.pieceNum_;o<t.pieces_.length;o++)e.push(t.pieces_[o]);else{const o=t.split("/");for(let l=0;l<o.length;l++)o[l].length>0&&e.push(o[l])}return new jt(e,0)}function Ct(i){return i.pieceNum_>=i.pieces_.length}function mr(i,t){const e=vt(i),o=vt(t);if(null===e)return t;if(e===o)return mr(Yt(i),Yt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function tp(i,t){const e=Fa(i,0),o=Fa(t,0);for(let l=0;l<e.length&&l<o.length;l++){const d=fr(e[l],o[l]);if(0!==d)return d}return e.length===o.length?0:e.length<o.length?-1:1}function xu(i,t){if(is(i)!==is(t))return!1;for(let e=i.pieceNum_,o=t.pieceNum_;e<=i.pieces_.length;e++,o++)if(i.pieces_[e]!==t.pieces_[o])return!1;return!0}function ti(i,t){let e=i.pieceNum_,o=t.pieceNum_;if(is(i)>is(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[o])return!1;++e,++o}return!0}class np{constructor(t,e){this.errorPrefix_=e,this.parts_=Fa(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=(0,O.ug)(this.parts_[o]);rp(this)}}function rp(i){if(i.byteLength_>768)throw new Error(i.errorPrefix_+"has a key path longer than 768 bytes ("+i.byteLength_+").");if(i.parts_.length>32)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ho(i))}function Ho(i){return 0===i.parts_.length?"":"in property '"+i.parts_.join(".")+"'"}class fo extends Uc{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}static getInstance(){return new fo}getInitialEvent(t){return(0,O.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const La=1e3;let Va,Ua=(()=>{class i extends Mu{constructor(e,o,l,d,p,E,b,R){if(super(),this.repoInfo_=e,this.applicationId_=o,this.onDataUpdate_=l,this.onConnectStatus_=d,this.onServerInfoUpdate_=p,this.authTokenProvider_=E,this.appCheckTokenProvider_=b,this.authOverride_=R,this.id=i.nextPersistentConnectionId_++,this.log_=Pa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=La,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,R&&!(0,O.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");fo.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&xl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,o,l){const d=++this.requestNumber_,p={r:d,a:e,b:o};this.log_((0,O.Pz)(p)),(0,O.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(p),l&&(this.requestCBHash_[d]=l)}get(e){this.initConnection_();const o=new O.BH,l={p:e._path.toString(),q:e._queryObject},d={action:"g",request:l,onComplete:E=>{const b=E.d;"ok"===E.s?(this.onDataUpdate_(l.p,b,!1,null),o.resolve(b)):o.reject(b)}};this.outstandingGets_.push(d),this.outstandingGetCount_++;const p=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const E=this.outstandingGets_[p];void 0===E||d!==E||(delete this.outstandingGets_[p],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+p+" timed out on connection"),o.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(p),o.promise}listen(e,o,l,d){this.initConnection_();const p=e._queryIdentifier,E=e._path.toString();this.log_("Listen called for "+E+" "+p),this.listens.has(E)||this.listens.set(E,new Map),(0,O.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,O.hu)(!this.listens.get(E).has(p),"listen() called twice for same path/queryId.");const b={onComplete:d,hashFn:o,query:e,tag:l};this.listens.get(E).set(p,b),this.connected_&&this.sendListen_(b)}sendGet_(e){const o=this.outstandingGets_[e];this.sendRequest("g",o.request,l=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),o.onComplete&&o.onComplete(l)})}sendListen_(e){const o=e.query,l=o._path.toString(),d=o._queryIdentifier;this.log_("Listen on "+l+" for "+d);const p={p:l};e.tag&&(p.q=o._queryObject,p.t=e.tag),p.h=e.hashFn(),this.sendRequest("q",p,b=>{const R=b.d,U=b.s;i.warnOnListenWarnings_(R,o),(this.listens.get(l)&&this.listens.get(l).get(d))===e&&(this.log_("listen response",b),"ok"!==U&&this.removeListen_(l,d),e.onComplete&&e.onComplete(U,R))})}static warnOnListenWarnings_(e,o){if(e&&"object"==typeof e&&(0,O.r3)(e,"w")){const l=(0,O.DV)(e,"w");if(Array.isArray(l)&&~l.indexOf("no_index")){const d='".indexOn": "'+o._queryParams.getIndex().toString()+'"',p=o._path.toString();hr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${p} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,O.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,o=(0,O.w9)(e)?"auth":"gauth",l={cred:e};null===this.authOverride_?l.noauth=!0:"object"==typeof this.authOverride_&&(l.authvar=this.authOverride_),this.sendRequest(o,l,d=>{const p=d.s,E=d.d||"error";this.authToken_===e&&("ok"===p?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(p,E))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const o=e.s,l=e.d||"error";"ok"===o?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(o,l)})}unlisten(e,o){const l=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+l+" "+d),(0,O.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(l,d)&&this.connected_&&this.sendUnlisten_(l,d,e._queryObject,o)}sendUnlisten_(e,o,l,d){this.log_("Unlisten on "+e+" for "+o);const p={p:e};d&&(p.q=l,p.t=d),this.sendRequest("n",p)}onDisconnectPut(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:o,onComplete:l})}onDisconnectMerge(e,o,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,o,l):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:o,onComplete:l})}onDisconnectCancel(e,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:o})}sendOnDisconnect_(e,o,l,d){const p={p:o,d:l};this.log_("onDisconnect "+e,p),this.sendRequest(e,p,E=>{d&&setTimeout(()=>{d(E.s,E.d)},Math.floor(0))})}put(e,o,l,d){this.putInternal("p",e,o,l,d)}merge(e,o,l,d){this.putInternal("m",e,o,l,d)}putInternal(e,o,l,d,p){this.initConnection_();const E={p:o,d:l};void 0!==p&&(E.h=p),this.outstandingPuts_.push({action:e,request:E,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+o)}sendPut_(e){const o=this.outstandingPuts_[e].action,l=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(o,l,p=>{this.log_(o+" response",p),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(p.s,p.d)})}reportStats(e){if(this.connected_){const o={c:e};this.log_("reportStats",o),this.sendRequest("s",o,l=>{"ok"!==l.s&&this.log_("reportStats","Error sending stats: "+l.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,O.Pz)(e));const o=e.r,l=this.requestCBHash_[o];l&&(delete this.requestCBHash_[o],l(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,o){this.log_("handleServerMessage",e,o),"d"===e?this.onDataUpdate_(o.p,o.d,!1,o.t):"m"===e?this.onDataUpdate_(o.p,o.d,!0,o.t):"c"===e?this.onListenRevoked_(o.p,o.q):"ac"===e?this.onAuthRevoked_(o.s,o.d):"apc"===e?this.onAppCheckRevoked_(o.s,o.d):"sd"===e?this.onSecurityDebugPacket_(o):ln("Unrecognized action received from server: "+(0,O.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,o){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=o,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,O.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=La),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let o=Math.max(0,this.reconnectDelay_-e);o=Math.random()*o,this.log_("Trying to reconnect in "+o+"ms"),this.scheduleConnect_(o),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,vi.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const o=e.onDataMessage_.bind(e),l=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),p=e.id+":"+i.nextConnectionId_++,E=e.lastSessionId;let b=!1,R=null;const U=function(){R?R.close():(b=!0,d())};e.realtime_={close:U,sendRequest:function(pe){(0,O.hu)(R,"sendRequest call when we're not connected not allowed."),R.sendRequest(pe)}};const Y=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[pe,Me]=yield Promise.all([e.authTokenProvider_.getToken(Y),e.appCheckTokenProvider_.getToken(Y)]);b?hn("getToken() completed but was canceled"):(hn("getToken() completed. Creating connection."),e.authToken_=pe&&pe.accessToken,e.appCheckToken_=Me&&Me.token,R=new Pl(p,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,o,l,d,at=>{hr(at+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},E))}catch(pe){e.log_("Failed to get token: "+pe),b||(e.repoInfo_.nodeAdmin&&hr(pe),U())}}})()}interrupt(e){hn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){hn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,O.xb)(this.interruptReasons_)&&(this.reconnectDelay_=La,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const o=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:o})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const o=this.outstandingPuts_[e];o&&"h"in o.request&&o.queued&&(o.onComplete&&o.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,o){let l;l=o?o.map(p=>Fo(p)).join("$"):"default";const d=this.removeListen_(e,l);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,o){const l=new jt(e).toString();let d;if(this.listens.has(l)){const p=this.listens.get(l);d=p.get(o),p.delete(o),0===p.size&&this.listens.delete(l)}else d=void 0;return d}onAuthRevoked_(e,o){hn("Auth token revoked: "+e+"/"+o),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,o){hn("App check token revoked: "+e+"/"+o),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const o of e.values())this.sendListen_(o);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let o="js";(0,O.Yr)()&&(o=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+o+"."+Tr.replace(/\./g,"-")]=1,(0,O.uI)()?e["framework.cordova"]=1:(0,O.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=xl.getInstance().currentlyOnline();return(0,O.xb)(this.interruptReasons_)&&e}}return i.nextPersistentConnectionId_=0,i.nextConnectionId_=0,i})();class _t{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new _t(t,e)}}class Ba{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const o=new _t(Xi,t),l=new _t(Xi,e);return 0!==this.compare(o,l)}minPost(){return _t.MIN}}class ip extends Ba{static get __EMPTY_NODE(){return Va}static set __EMPTY_NODE(t){Va=t}compare(t,e){return fr(t.name,e.name)}isDefinedOn(t){throw(0,O.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return _t.MIN}maxPost(){return new _t(wi,Va)}makePost(t,e){return(0,O.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new _t(t,Va)}toString(){return".key"}}const ss=new ip;class $o{constructor(t,e,o,l,d=null){this.isReverse_=l,this.resultGenerator_=d,this.nodeStack_=[];let p=1;for(;!t.isEmpty();)if(t=t,p=e?o(t.key,e):1,l&&(p*=-1),p<0)t=this.isReverse_?t.left:t.right;else{if(0===p){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let ja,Ti=(()=>{class i{constructor(e,o,l,d,p){this.key=e,this.value=o,this.color=null!=l?l:i.RED,this.left=null!=d?d:nr.EMPTY_NODE,this.right=null!=p?p:nr.EMPTY_NODE}copy(e,o,l,d,p){return new i(null!=e?e:this.key,null!=o?o:this.value,null!=l?l:this.color,null!=d?d:this.left,null!=p?p:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,o,l){let d=this;const p=l(e,d.key);return d=p<0?d.copy(null,null,null,d.left.insert(e,o,l),null):0===p?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(e,o,l)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return nr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,o){let l,d;if(l=this,o(e,l.key)<0)!l.left.isEmpty()&&!l.left.isRed_()&&!l.left.left.isRed_()&&(l=l.moveRedLeft_()),l=l.copy(null,null,null,l.left.remove(e,o),null);else{if(l.left.isRed_()&&(l=l.rotateRight_()),!l.right.isEmpty()&&!l.right.isRed_()&&!l.right.left.isRed_()&&(l=l.moveRedRight_()),0===o(e,l.key)){if(l.right.isEmpty())return nr.EMPTY_NODE;d=l.right.min_(),l=l.copy(d.key,d.value,null,null,l.right.removeMin_())}l=l.copy(null,null,null,null,l.right.remove(e,o))}return l.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,o)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return i.RED=!0,i.BLACK=!1,i})();class nr{constructor(t,e=nr.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new nr(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ti.BLACK,null,null))}remove(t){return new nr(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ti.BLACK,null,null))}get(t){let e,o=this.root_;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e)return o.value;e<0?o=o.left:e>0&&(o=o.right)}return null}getPredecessorKey(t){let e,o=this.root_,l=null;for(;!o.isEmpty();){if(e=this.comparator_(t,o.key),0===e){if(o.left.isEmpty())return l?l.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}e<0?o=o.left:e>0&&(l=o,o=o.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new $o(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new $o(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new $o(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new $o(this.root_,null,this.comparator_,!0,t)}}function Hc(i,t){return fr(i.name,t.name)}function Nu(i,t){return fr(i,t)}nr.EMPTY_NODE=new class sp{copy(t,e,o,l,d){return this}insert(t,e,o){return new Ti(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Fu=function(i){return"number"==typeof i?"number:"+xa(i):"string:"+i},gh=function(i){if(i.isLeafNode()){const t=i.val();(0,O.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,O.r3)(t,".sv"),"Priority must be a string or number.")}else(0,O.hu)(i===ja||i.isEmpty(),"priority of unexpected type.");(0,O.hu)(i===ja||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let In,mh,Lu,Wo=(()=>{class i{constructor(e,o=i.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=o,this.lazyHash_=null,(0,O.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),gh(this.priorityNode_)}static set __childrenNodeConstructor(e){In=e}static get __childrenNodeConstructor(){return In}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new i(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ct(e)?this:".priority"===vt(e)?this.priorityNode_:i.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,o){return null}updateImmediateChild(e,o){return".priority"===e?this.updatePriority(o):o.isEmpty()&&".priority"!==e?this:i.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,o).updatePriority(this.priorityNode_)}updateChild(e,o){const l=vt(e);return null===l?o:o.isEmpty()&&".priority"!==l?this:((0,O.hu)(".priority"!==l||1===is(e),".priority must be the last token in a path"),this.updateImmediateChild(l,i.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yt(e),o)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,o){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Fu(this.priorityNode_.val())+":");const o=typeof this.value_;e+=o+":",e+="number"===o?xa(this.value_):this.value_,this.lazyHash_=Ss(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===i.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof i.__childrenNodeConstructor?-1:((0,O.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const o=typeof e.value_,l=typeof this.value_,d=i.VALUE_TYPE_ORDER.indexOf(o),p=i.VALUE_TYPE_ORDER.indexOf(l);return(0,O.hu)(d>=0,"Unknown leaf type: "+o),(0,O.hu)(p>=0,"Unknown leaf type: "+l),d===p?"object"===l?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:p-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const o=e;return this.value_===o.value_&&this.priorityNode_.equals(o.priorityNode_)}return!1}}return i.VALUE_TYPE_ORDER=["object","boolean","number","string"],i})();const Qt=new class Uu extends Ba{compare(t,e){const o=t.node.getPriority(),l=e.node.getPriority(),d=o.compareTo(l);return 0===d?fr(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(wi,new Wo("[PRIORITY-POST]",Lu))}makePost(t,e){const o=mh(t);return new _t(e,new Wo("[PRIORITY-POST]",o))}toString(){return".priority"}},yh=Math.log(2);class ap{constructor(t){this.count=parseInt(Math.log(t+1)/yh,10),this.current_=this.count-1;const l=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const $c=function(i,t,e,o){i.sort(t);const l=function(b,R){const U=R-b;let F,Y;if(0===U)return null;if(1===U)return F=i[b],Y=e?e(F):F,new Ti(Y,F.node,Ti.BLACK,null,null);{const pe=parseInt(U/2,10)+b,Me=l(b,pe),at=l(pe+1,R);return F=i[pe],Y=e?e(F):F,new Ti(Y,F.node,Ti.BLACK,Me,at)}},E=function(b){let R=null,U=null,F=i.length;const Y=function(Me,at){const Mt=F-Me,Rn=F;F-=Me;const Xt=l(Mt+1,Rn),kr=i[Mt],_n=e?e(kr):kr;pe(new Ti(_n,kr.node,at,null,Xt))},pe=function(Me){R?(R.left=Me,R=Me):(U=Me,R=Me)};for(let Me=0;Me<b.count;++Me){const at=b.nextBitIsOne(),Mt=Math.pow(2,b.count-(Me+1));at?Y(Mt,Ti.BLACK):(Y(Mt,Ti.BLACK),Y(Mt,Ti.RED))}return U}(new ap(i.length));return new nr(o||t,E)};let vh;const os={};class un{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,O.hu)(os&&Qt,"ChildrenNode.ts has not been loaded"),vh=vh||new un({".priority":os},{".priority":Qt}),vh}get(t){const e=(0,O.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof nr?e:null}hasIndex(t){return(0,O.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,O.hu)(t!==ss,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let l=!1;const d=e.getIterator(_t.Wrap);let E,p=d.getNext();for(;p;)l=l||t.isDefinedOn(p.node),o.push(p),p=d.getNext();E=l?$c(o,t.getCompare()):os;const b=t.toString(),R=Object.assign({},this.indexSet_);R[b]=t;const U=Object.assign({},this.indexes_);return U[b]=E,new un(U,R)}addToIndexes(t,e){const o=(0,O.UI)(this.indexes_,(l,d)=>{const p=(0,O.DV)(this.indexSet_,d);if((0,O.hu)(p,"Missing index implementation for "+d),l===os){if(p.isDefinedOn(t.node)){const E=[],b=e.getIterator(_t.Wrap);let R=b.getNext();for(;R;)R.name!==t.name&&E.push(R),R=b.getNext();return E.push(t),$c(E,p.getCompare())}return os}{const E=e.get(t.name);let b=l;return E&&(b=b.remove(new _t(t.name,E))),b.insert(t,t.node)}});return new un(o,this.indexSet_)}removeFromIndexes(t,e){const o=(0,O.UI)(this.indexes_,l=>{if(l===os)return l;{const d=e.get(t.name);return d?l.remove(new _t(t.name,d)):l}});return new un(o,this.indexSet_)}}let ks,ct=(()=>{class i{constructor(e,o,l){this.children_=e,this.priorityNode_=o,this.indexMap_=l,this.lazyHash_=null,this.priorityNode_&&gh(this.priorityNode_),this.children_.isEmpty()&&(0,O.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ks||(ks=new i(new nr(Nu),null,un.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ks}updatePriority(e){return this.children_.isEmpty()?this:new i(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const o=this.children_.get(e);return null===o?ks:o}}getChild(e){const o=vt(e);return null===o?this:this.getImmediateChild(o).getChild(Yt(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,o){if((0,O.hu)(o,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(o);{const l=new _t(e,o);let d,p;o.isEmpty()?(d=this.children_.remove(e),p=this.indexMap_.removeFromIndexes(l,this.children_)):(d=this.children_.insert(e,o),p=this.indexMap_.addToIndexes(l,this.children_));const E=d.isEmpty()?ks:this.priorityNode_;return new i(d,E,p)}}updateChild(e,o){const l=vt(e);if(null===l)return o;{(0,O.hu)(".priority"!==vt(e)||1===is(e),".priority must be the last token in a path");const d=this.getImmediateChild(l).updateChild(Yt(e),o);return this.updateImmediateChild(l,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const o={};let l=0,d=0,p=!0;if(this.forEachChild(Qt,(E,b)=>{o[E]=b.val(e),l++,p&&i.INTEGER_REGEXP_.test(E)?d=Math.max(d,Number(E)):p=!1}),!e&&p&&d<2*l){const E=[];for(const b in o)E[b]=o[b];return E}return e&&!this.getPriority().isEmpty()&&(o[".priority"]=this.getPriority().val()),o}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Fu(this.getPriority().val())+":"),this.forEachChild(Qt,(o,l)=>{const d=l.hash();""!==d&&(e+=":"+o+":"+d)}),this.lazyHash_=""===e?"":Ss(e)}return this.lazyHash_}getPredecessorChildName(e,o,l){const d=this.resolveIndex_(l);if(d){const p=d.getPredecessorKey(new _t(e,o));return p?p.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.minKey();return l&&l.name}return this.children_.minKey()}getFirstChild(e){const o=this.getFirstChildName(e);return o?new _t(o,this.children_.get(o)):null}getLastChildName(e){const o=this.resolveIndex_(e);if(o){const l=o.maxKey();return l&&l.name}return this.children_.maxKey()}getLastChild(e){const o=this.getLastChildName(e);return o?new _t(o,this.children_.get(o)):null}forEachChild(e,o){const l=this.resolveIndex_(e);return l?l.inorderTraversal(d=>o(d.name,d.node)):this.children_.inorderTraversal(o)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,_t.Wrap);let p=d.peek();for(;null!=p&&o.compare(p,e)<0;)d.getNext(),p=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,o){const l=this.resolveIndex_(o);if(l)return l.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,_t.Wrap);let p=d.peek();for(;null!=p&&o.compare(p,e)>0;)d.getNext(),p=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Sn?-1:0}withIndex(e){if(e===ss||this.indexMap_.hasIndex(e))return this;{const o=this.indexMap_.addIndex(e,this.children_);return new i(this.children_,this.priorityNode_,o)}}isIndexed(e){return e===ss||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const o=e;if(this.getPriority().equals(o.getPriority())){if(this.children_.count()===o.children_.count()){const l=this.getIterator(Qt),d=o.getIterator(Qt);let p=l.getNext(),E=d.getNext();for(;p&&E;){if(p.name!==E.name||!p.node.equals(E.node))return!1;p=l.getNext(),E=d.getNext()}return null===p&&null===E}return!1}return!1}}resolveIndex_(e){return e===ss?null:this.indexMap_.get(e.toString())}}return i.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,i})();const Sn=new class Wc extends ct{constructor(){super(new nr(Nu),ct.EMPTY_NODE,un.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ct.EMPTY_NODE}isEmpty(){return!1}};function an(i,t=null){if(null===i)return ct.EMPTY_NODE;if("object"==typeof i&&".priority"in i&&(t=i[".priority"]),(0,O.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof i&&".value"in i&&null!==i[".value"]&&(i=i[".value"]),"object"!=typeof i||".sv"in i)return new Wo(i,an(t));if(i instanceof Array){let e=ct.EMPTY_NODE;return Nn(i,(o,l)=>{if((0,O.r3)(i,o)&&"."!==o.substring(0,1)){const d=an(l);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(o,d))}}),e.updatePriority(an(t))}{const e=[];let o=!1;if(Nn(i,(p,E)=>{if("."!==p.substring(0,1)){const b=an(E);b.isEmpty()||(o=o||!b.getPriority().isEmpty(),e.push(new _t(p,b)))}}),0===e.length)return ct.EMPTY_NODE;const d=$c(e,Hc,p=>p.name,Nu);if(o){const p=$c(e,Qt.getCompare());return new ct(d,an(t),new un({".priority":p},{".priority":Qt}))}return new ct(d,an(t),un.Default)}}Object.defineProperties(_t,{MIN:{value:new _t(Xi,ct.EMPTY_NODE)},MAX:{value:new _t(wi,Sn)}}),ip.__EMPTY_NODE=ct.EMPTY_NODE,Wo.__childrenNodeConstructor=ct,function ku(i){ja=i}(Sn),function op(i){Lu=i}(Sn),function _h(i){mh=i}(an);class _r extends Ba{constructor(t){super(),this.indexPath_=t,(0,O.hu)(!Ct(t)&&".priority"!==vt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const o=this.extractChild(t.node),l=this.extractChild(e.node),d=o.compareTo(l);return 0===d?fr(t.name,e.name):d}makePost(t,e){const o=an(t),l=ct.EMPTY_NODE.updateChild(this.indexPath_,o);return new _t(e,l)}maxPost(){const t=ct.EMPTY_NODE.updateChild(this.indexPath_,Sn);return new _t(wi,t)}toString(){return Fa(this.indexPath_,0).join("/")}}const Fl=new class kl extends Ba{compare(t,e){const o=t.node.compareTo(e.node);return 0===o?fr(t.name,e.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(t,e){const o=an(t);return new _t(e,o)}toString(){return".value"}},Ha="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Eh=function(){let i=0;const t=[];return function(e){const o=e===i;let l;i=e;const d=new Array(8);for(l=7;l>=0;l--)d[l]=Ha.charAt(e%64),e=Math.floor(e/64);(0,O.hu)(0===e,"Cannot push at time == 0");let p=d.join("");if(o){for(l=11;l>=0&&63===t[l];l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(64*Math.random());for(l=0;l<12;l++)p+=Ha.charAt(t[l]);return(0,O.hu)(20===p.length,"nextPushId: Length should be 20."),p}}(),Ch=function(i){if(i===""+Rr)return"-";const t=ts(i);if(null!=t)return""+(t+1);const e=new Array(i.length);for(let p=0;p<e.length;p++)e[p]=i.charAt(p);if(e.length<786)return e.push("-"),e.join("");let o=e.length-1;for(;o>=0&&"z"===e[o];)o--;if(-1===o)return wi;const d=Ha.charAt(Ha.indexOf(e[o])+1);return e[o]=d,e.slice(0,o+1).join("")},Ai=function(i){if(i===""+Sr)return Xi;const t=ts(i);if(null!=t)return""+(t-1);const e=new Array(i.length);for(let o=0;o<e.length;o++)e[o]=i.charAt(o);return"-"===e[e.length-1]?1===e.length?""+Rr:(delete e[e.length-1],e.join("")):(e[e.length-1]=Ha.charAt(Ha.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function zc(i){return{type:"value",snapshotNode:i}}function Wa(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function zo(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Ll(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}class kn{constructor(t){this.index_=t}updateChild(t,e,o,l,d,p){(0,O.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const E=t.getImmediateChild(e);return E.getChild(l).equals(o.getChild(l))&&E.isEmpty()===o.isEmpty()||(null!=p&&(o.isEmpty()?t.hasChild(e)?p.trackChildChange(zo(e,E)):(0,O.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):E.isEmpty()?p.trackChildChange(Wa(e,o)):p.trackChildChange(Ll(e,o,E))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(e,o).withIndex(this.index_)}updateFullNode(t,e,o){return null!=o&&(t.isLeafNode()||t.forEachChild(Qt,(l,d)=>{e.hasChild(l)||o.trackChildChange(zo(l,d))}),e.isLeafNode()||e.forEachChild(Qt,(l,d)=>{if(t.hasChild(l)){const p=t.getImmediateChild(l);p.equals(d)||o.trackChildChange(Ll(l,d,p))}else o.trackChildChange(Wa(l,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ct.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Zo{constructor(t){this.indexedFilter_=new kn(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Zo.getStartPost_(t),this.endPost_=Zo.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,o,l,d,p){return this.matches(new _t(e,o))||(o=ct.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,o,l,d,p)}updateFullNode(t,e,o){e.isLeafNode()&&(e=ct.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(ct.EMPTY_NODE);const d=this;return e.forEachChild(Qt,(p,E)=>{d.matches(new _t(p,E))||(l=l.updateImmediateChild(p,ct.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class Zc{constructor(t){this.rangedFilter_=new Zo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,o,l,d,p){return this.rangedFilter_.matches(new _t(e,o))||(o=ct.EMPTY_NODE),t.getImmediateChild(e).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,o,l,d,p):this.fullLimitUpdateChild_(t,e,o,d,p)}updateFullNode(t,e,o){let l;if(e.isLeafNode()||e.isEmpty())l=ct.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;l=ct.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let p=0;for(;d.hasNext()&&p<this.limit_;){const E=d.getNext();let b;if(b=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),E)<=0:this.index_.compare(E,this.rangedFilter_.getEndPost())<=0,!b)break;l=l.updateImmediateChild(E.name,E.node),p++}}else{let d,p,E,b;if(l=e.withIndex(this.index_),l=l.updatePriority(ct.EMPTY_NODE),this.reverse_){b=l.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),p=this.rangedFilter_.getStartPost();const F=this.index_.getCompare();E=(Y,pe)=>F(pe,Y)}else b=l.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),p=this.rangedFilter_.getEndPost(),E=this.index_.getCompare();let R=0,U=!1;for(;b.hasNext();){const F=b.getNext();!U&&E(d,F)<=0&&(U=!0),U&&R<this.limit_&&E(F,p)<=0?R++:l=l.updateImmediateChild(F.name,ct.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,o)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,o,l,d){let p;if(this.reverse_){const F=this.index_.getCompare();p=(Y,pe)=>F(pe,Y)}else p=this.index_.getCompare();const E=t;(0,O.hu)(E.numChildren()===this.limit_,"");const b=new _t(e,o),R=this.reverse_?E.getFirstChild(this.index_):E.getLastChild(this.index_),U=this.rangedFilter_.matches(b);if(E.hasChild(e)){const F=E.getImmediateChild(e);let Y=l.getChildAfterChild(this.index_,R,this.reverse_);for(;null!=Y&&(Y.name===e||E.hasChild(Y.name));)Y=l.getChildAfterChild(this.index_,Y,this.reverse_);const pe=null==Y?1:p(Y,b);if(U&&!o.isEmpty()&&pe>=0)return null!=d&&d.trackChildChange(Ll(e,o,F)),E.updateImmediateChild(e,o);{null!=d&&d.trackChildChange(zo(e,F));const at=E.updateImmediateChild(e,ct.EMPTY_NODE);return null!=Y&&this.rangedFilter_.matches(Y)?(null!=d&&d.trackChildChange(Wa(Y.name,Y.node)),at.updateImmediateChild(Y.name,Y.node)):at}}return o.isEmpty()?t:U&&p(R,b)>=0?(null!=d&&(d.trackChildChange(zo(R.name,R.node)),d.trackChildChange(Wa(e,o))),E.updateImmediateChild(e,o).updateImmediateChild(R.name,ct.EMPTY_NODE)):t}}class Vu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xi}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,O.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const t=new Vu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ju(i,t,e){const o=i.copy();return o.startSet_=!0,void 0===t&&(t=null),o.indexStartValue_=t,null!=e?(o.startNameSet_=!0,o.indexStartName_=e):(o.startNameSet_=!1,o.indexStartName_=""),o}function Bl(i,t,e){const o=i.copy();return o.endSet_=!0,void 0===t&&(t=null),o.indexEndValue_=t,void 0!==e?(o.endNameSet_=!0,o.indexEndName_=e):(o.endNameSet_=!1,o.indexEndName_=""),o}function Hu(i,t){const e=i.copy();return e.index_=t,e}function wh(i){const t={};if(i.isDefault())return t;let e;return i.index_===Qt?e="$priority":i.index_===Fl?e="$value":i.index_===ss?e="$key":((0,O.hu)(i.index_ instanceof _r,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=(0,O.Pz)(e),i.startSet_&&(t.startAt=(0,O.Pz)(i.indexStartValue_),i.startNameSet_&&(t.startAt+=","+(0,O.Pz)(i.indexStartName_))),i.endSet_&&(t.endAt=(0,O.Pz)(i.indexEndValue_),i.endNameSet_&&(t.endAt+=","+(0,O.Pz)(i.indexEndName_))),i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function bh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_)),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_)),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;""===e&&(e=i.isViewFromLeft()?"l":"r"),t.vf=e}return i.index_!==Qt&&(t.i=i.index_.toString()),t}class m extends Mu{constructor(t,e,o,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.log_=Pa("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,O.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,o,l){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const p=m.getListenId_(t,o),E={};this.listens_[p]=E;const b=wh(t._queryParams);this.restRequest_(d+".json",b,(R,U)=>{let F=U;if(404===R&&(F=null,R=null),null===R&&this.onDataUpdate_(d,F,!1,o),(0,O.DV)(this.listens_,p)===E){let Y;Y=R?401===R?"permission_denied":"rest_error:"+R:"ok",l(Y,null)}})}unlisten(t,e){const o=m.getListenId_(t,e);delete this.listens_[o]}get(t){const e=wh(t._queryParams),o=t._path.toString(),l=new O.BH;return this.restRequest_(o+".json",e,(d,p)=>{let E=p;404===d&&(E=null,d=null),null===d?(this.onDataUpdate_(o,E,!1,null),l.resolve(E)):l.reject(new Error(E))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},o){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,d])=>{l&&l.accessToken&&(e.auth=l.accessToken),d&&d.token&&(e.ac=d.token);const p=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,O.xO)(e);this.log_("Sending REST request for "+p);const E=new XMLHttpRequest;E.onreadystatechange=()=>{if(o&&4===E.readyState){this.log_("REST Response for "+p+" received. status:",E.status,"response:",E.responseText);let b=null;if(E.status>=200&&E.status<300){try{b=(0,O.cI)(E.responseText)}catch(R){hr("Failed to parse JSON response for "+p+": "+E.responseText)}o(null,b)}else 401!==E.status&&404!==E.status&&hr("Got unsuccessful REST response for "+p+" Status: "+E.status),o(E.status);o=null}},E.open("GET",p,!0),E.send()})}}class c{constructor(){this.rootNode_=ct.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function f(){return{value:null,children:new Map}}function y(i,t,e){if(Ct(t))i.value=e,i.children.clear();else if(null!==i.value)i.value=i.value.updateChild(t,e);else{const o=vt(t);i.children.has(o)||i.children.set(o,f()),y(i.children.get(o),t=Yt(t),e)}}function D(i,t){if(Ct(t))return i.value=null,i.children.clear(),!0;if(null!==i.value){if(i.value.isLeafNode())return!1;{const e=i.value;return i.value=null,e.forEachChild(Qt,(o,l)=>{y(i,new jt(o),l)}),D(i,t)}}if(i.children.size>0){const e=vt(t);return t=Yt(t),i.children.has(e)&&D(i.children.get(e),t)&&i.children.delete(e),0===i.children.size}return!0}function M(i,t,e){null!==i.value?e(t,i.value):function W(i,t){i.children.forEach((e,o)=>{t(o,e)})}(i,(o,l)=>{M(l,new jt(t.toString()+"/"+o),e)})}class re{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Nn(this.last_,(o,l)=>{e[o]=e[o]-l}),this.last_=t,e}}class Ke{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new re(t);const o=1e4+2e4*Math.random();ao(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),e={};let o=!1;Nn(t,(l,d)=>{d>0&&(0,O.r3)(this.statsToReport_,l)&&(e[l]=d,o=!0)}),o&&this.server_.reportStats(e),ao(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var xt=(()=>{return(i=xt||(xt={}))[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",xt;var i})();function Ga(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}class po{constructor(t,e,o){this.path=t,this.affectedTree=e,this.revert=o,this.type=xt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Ct(this.path)){if(null!=this.affectedTree.value)return(0,O.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new jt(t));return new po(Ft(),e,this.revert)}}return(0,O.hu)(vt(this.path)===t,"operationForChild called for unrelated child."),new po(Yt(this.path),this.affectedTree,this.revert)}}class qo{constructor(t,e){this.source=t,this.path=e,this.type=xt.LISTEN_COMPLETE}operationForChild(t){return Ct(this.path)?new qo(this.source,Ft()):new qo(this.source,Yt(this.path))}}class Yo{constructor(t,e,o){this.source=t,this.path=e,this.snap=o,this.type=xt.OVERWRITE}operationForChild(t){return Ct(this.path)?new Yo(this.source,Ft(),this.snap.getImmediateChild(t)):new Yo(this.source,Yt(this.path),this.snap)}}class Hr{constructor(t,e,o){this.source=t,this.path=e,this.children=o,this.type=xt.MERGE}operationForChild(t){if(Ct(this.path)){const e=this.children.subtree(new jt(t));return e.isEmpty()?null:e.value?new Yo(this.source,Ft(),e.value):new Hr(this.source,Ft(),e)}return(0,O.hu)(vt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Hr(this.source,Yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Si{constructor(t,e,o){this.node_=t,this.fullyInitialized_=e,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ct(t))return this.isFullyInitialized()&&!this.filtered_;const e=vt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class qc{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function go(i,t,e,o,l,d){const p=o.filter(E=>E.type===e);p.sort((E,b)=>function Qc(i,t,e){if(null==t.childName||null==e.childName)throw(0,O.g5)("Should only compare child_ events.");const o=new _t(t.childName,t.snapshotNode),l=new _t(e.childName,e.snapshotNode);return i.index_.compare(o,l)}(i,E,b)),p.forEach(E=>{const b=function cp(i,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}(i,E,d);l.forEach(R=>{R.respondsTo(E.type)&&t.push(R.createEvent(b,i.query_))})})}function $u(i,t){return{eventCache:i,serverCache:t}}function Jc(i,t,e,o){return $u(new Si(t,e,o),i.serverCache)}function e_(i,t,e,o){return $u(i.eventCache,new Si(t,e,o))}function Dh(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function za(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}let Xc;class Jt{constructor(t,e=(()=>(Xc||(Xc=new nr(sh)),Xc))()){this.value=t,this.children=e}static fromObject(t){let e=new Jt(null);return Nn(t,(o,l)=>{e=e.set(new jt(o),l)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Ft(),value:this.value};if(Ct(t))return null;{const o=vt(t),l=this.children.get(o);if(null!==l){const d=l.findRootMostMatchingPathAndValue(Yt(t),e);return null!=d?{path:on(new jt(o),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ct(t))return this;{const e=vt(t),o=this.children.get(e);return null!==o?o.subtree(Yt(t)):new Jt(null)}}set(t,e){if(Ct(t))return new Jt(e,this.children);{const o=vt(t),d=(this.children.get(o)||new Jt(null)).set(Yt(t),e),p=this.children.insert(o,d);return new Jt(this.value,p)}}remove(t){if(Ct(t))return this.children.isEmpty()?new Jt(null):new Jt(null,this.children);{const e=vt(t),o=this.children.get(e);if(o){const l=o.remove(Yt(t));let d;return d=l.isEmpty()?this.children.remove(e):this.children.insert(e,l),null===this.value&&d.isEmpty()?new Jt(null):new Jt(this.value,d)}return this}}get(t){if(Ct(t))return this.value;{const e=vt(t),o=this.children.get(e);return o?o.get(Yt(t)):null}}setTree(t,e){if(Ct(t))return e;{const o=vt(t),d=(this.children.get(o)||new Jt(null)).setTree(Yt(t),e);let p;return p=d.isEmpty()?this.children.remove(o):this.children.insert(o,d),new Jt(this.value,p)}}fold(t){return this.fold_(Ft(),t)}fold_(t,e){const o={};return this.children.inorderTraversal((l,d)=>{o[l]=d.fold_(on(t,l),e)}),e(t,this.value,o)}findOnPath(t,e){return this.findOnPath_(t,Ft(),e)}findOnPath_(t,e,o){const l=!!this.value&&o(e,this.value);if(l)return l;if(Ct(t))return null;{const d=vt(t),p=this.children.get(d);return p?p.findOnPath_(Yt(t),on(e,d),o):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Ft(),e)}foreachOnPath_(t,e,o){if(Ct(t))return this;{this.value&&o(e,this.value);const l=vt(t),d=this.children.get(l);return d?d.foreachOnPath_(Yt(t),on(e,l),o):new Jt(null)}}foreach(t){this.foreach_(Ft(),t)}foreach_(t,e){this.children.inorderTraversal((o,l)=>{l.foreach_(on(t,o),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,o)=>{o.value&&t(e,o.value)})}}class Ls{constructor(t){this.writeTree_=t}static empty(){return new Ls(new Jt(null))}}function ed(i,t,e){if(Ct(t))return new Ls(new Jt(e));{const o=i.writeTree_.findRootMostValueAndPath(t);if(null!=o){const l=o.path;let d=o.value;const p=mr(l,t);return d=d.updateChild(p,e),new Ls(i.writeTree_.set(l,d))}{const l=new Jt(e),d=i.writeTree_.setTree(t,l);return new Ls(d)}}}function Th(i,t,e){let o=i;return Nn(e,(l,d)=>{o=ed(o,on(t,l),d)}),o}function dp(i,t){if(Ct(t))return Ls.empty();{const e=i.writeTree_.setTree(t,new Jt(null));return new Ls(e)}}function Qo(i,t){return null!=Za(i,t)}function Za(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return null!=e?i.writeTree_.get(e.path).getChild(mr(e.path,t)):null}function hp(i){const t=[],e=i.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Qt,(o,l)=>{t.push(new _t(o,l))}):i.writeTree_.children.inorderTraversal((o,l)=>{null!=l.value&&t.push(new _t(o,l.value))}),t}function Ka(i,t){if(Ct(t))return i;{const e=Za(i,t);return new Ls(null!=e?new Jt(e):i.writeTree_.subtree(t))}}function Wu(i){return i.writeTree_.isEmpty()}function Gu(i,t){return fp(Ft(),i.writeTree_,t)}function fp(i,t,e){if(null!=t.value)return e.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((l,d)=>{".priority"===l?((0,O.hu)(null!==d.value,"Priority writes must always be leaf nodes"),o=d.value):e=fp(on(i,l),d,e)}),!e.getChild(i).isEmpty()&&null!==o&&(e=e.updateChild(on(i,".priority"),o)),e}}function td(i,t){return l_(t,i)}function Sh(i,t){if(i.snap)return ti(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&ti(on(i.path,e),t))return!0;return!1}function gp(i){return i.visible}function mp(i,t,e){let o=Ls.empty();for(let l=0;l<i.length;++l){const d=i[l];if(t(d)){const p=d.path;let E;if(d.snap)ti(e,p)?(E=mr(e,p),o=ed(o,E,d.snap)):ti(p,e)&&(E=mr(p,e),o=ed(o,Ft(),d.snap.getChild(E)));else{if(!d.children)throw(0,O.g5)("WriteRecord should have .snap or .children");if(ti(e,p))E=mr(e,p),o=Th(o,E,d.children);else if(ti(p,e))if(E=mr(p,e),Ct(E))o=Th(o,Ft(),d.children);else{const b=(0,O.DV)(d.children,vt(E));if(b){const R=b.getChild(Yt(E));o=ed(o,Ft(),R)}}}}}return o}function Rh(i,t,e,o,l){if(o||l){const d=Ka(i.visibleWrites,t);return!l&&Wu(d)?e:l||null!=e||Qo(d,Ft())?Gu(mp(i.allWrites,function(R){return(R.visible||l)&&(!o||!~o.indexOf(R.writeId))&&(ti(R.path,t)||ti(t,R.path))},t),e||ct.EMPTY_NODE):null}{const d=Za(i.visibleWrites,t);if(null!=d)return d;{const p=Ka(i.visibleWrites,t);return Wu(p)?e:null!=e||Qo(p,Ft())?Gu(p,e||ct.EMPTY_NODE):null}}}function zu(i,t,e,o){return Rh(i.writeTree,i.treePath,t,e,o)}function Mh(i,t){return function nd(i,t,e){let o=ct.EMPTY_NODE;const l=Za(i.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Qt,(d,p)=>{o=o.updateImmediateChild(d,p)}),o;if(e){const d=Ka(i.visibleWrites,t);return e.forEachChild(Qt,(p,E)=>{const b=Gu(Ka(d,new jt(p)),E);o=o.updateImmediateChild(p,b)}),hp(d).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}return hp(Ka(i.visibleWrites,t)).forEach(p=>{o=o.updateImmediateChild(p.name,p.node)}),o}(i.writeTree,i.treePath,t)}function Qv(i,t,e,o){return function Kv(i,t,e,o,l){(0,O.hu)(o||l,"Either existingEventSnap or existingServerSnap must exist");const d=on(t,e);if(Qo(i.visibleWrites,d))return null;{const p=Ka(i.visibleWrites,d);return Wu(p)?l.getChild(e):Gu(p,l.getChild(e))}}(i.writeTree,i.treePath,t,e,o)}function rd(i,t){return function qv(i,t){return Za(i.visibleWrites,t)}(i.writeTree,on(i.treePath,t))}function Ph(i,t,e){return function s_(i,t,e,o){const l=on(t,e),d=Za(i.visibleWrites,l);return null!=d?d:o.isCompleteForChild(e)?Gu(Ka(i.visibleWrites,l),o.getNode().getImmediateChild(e)):null}(i.writeTree,i.treePath,t,e)}function a_(i,t){return l_(on(i.treePath,t),i.writeTree)}function l_(i,t){return{treePath:i,writeTree:t}}class Us{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,o=t.childName;(0,O.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,O.hu)(".priority"!==o,"Only non-priority child changes can be tracked.");const l=this.changeMap.get(o);if(l){const d=l.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(o,Ll(o,t.snapshotNode,l.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(o);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(o,zo(o,l.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(o,Wa(o,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,O.g5)("Illegal combination of changes: "+t+" occurred after "+l);this.changeMap.set(o,Ll(o,t.snapshotNode,l.oldSnap))}}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}const _p=new class Xv{getCompleteChild(t){return null}getChildAfterChild(t,e,o){return null}};class yp{constructor(t,e,o=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=o}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const o=null!=this.optCompleteServerCache_?new Si(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ph(this.writes_,t,o)}}getChildAfterChild(t,e,o){const l=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:za(this.viewCache_),d=function Jv(i,t,e,o,l,d){return function Yv(i,t,e,o,l,d,p){let E;const b=Ka(i.visibleWrites,t),R=Za(b,Ft());if(null!=R)E=R;else{if(null==e)return[];E=Gu(b,e)}if(E=E.withIndex(p),E.isEmpty()||E.isLeafNode())return[];{const U=[],F=p.getCompare(),Y=d?E.getReverseIteratorFrom(o,p):E.getIteratorFrom(o,p);let pe=Y.getNext();for(;pe&&U.length<l;)0!==F(pe,o)&&U.push(pe),pe=Y.getNext();return U}}(i.writeTree,i.treePath,t,e,o,l,d)}(this.writes_,l,e,1,o,t);return 0===d.length?null:d[0]}}function c_(i,t,e,o,l,d){const p=t.eventCache;if(null!=rd(o,e))return t;{let E,b;if(Ct(e))if((0,O.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const R=za(t),F=Mh(o,R instanceof ct?R:ct.EMPTY_NODE);E=i.filter.updateFullNode(t.eventCache.getNode(),F,d)}else{const R=zu(o,za(t));E=i.filter.updateFullNode(t.eventCache.getNode(),R,d)}else{const R=vt(e);if(".priority"===R){(0,O.hu)(1===is(e),"Can't have a priority with additional path components");const U=p.getNode();b=t.serverCache.getNode();const F=Qv(o,e,U,b);E=null!=F?i.filter.updatePriority(U,F):p.getNode()}else{const U=Yt(e);let F;if(p.isCompleteForChild(R)){b=t.serverCache.getNode();const Y=Qv(o,e,p.getNode(),b);F=null!=Y?p.getNode().getImmediateChild(R).updateChild(U,Y):p.getNode().getImmediateChild(R)}else F=Ph(o,R,t.serverCache);E=null!=F?i.filter.updateChild(p.getNode(),R,F,U,l,d):p.getNode()}}return Jc(t,E,p.isFullyInitialized()||Ct(e),i.filter.filtersNodes())}}function xh(i,t,e,o,l,d,p,E){const b=t.serverCache;let R;const U=p?i.filter:i.filter.getIndexedFilter();if(Ct(e))R=U.updateFullNode(b.getNode(),o,null);else if(U.filtersNodes()&&!b.isFiltered()){const pe=b.getNode().updateChild(e,o);R=U.updateFullNode(b.getNode(),pe,null)}else{const pe=vt(e);if(!b.isCompleteForPath(e)&&is(e)>1)return t;const Me=Yt(e),Mt=b.getNode().getImmediateChild(pe).updateChild(Me,o);R=".priority"===pe?U.updatePriority(b.getNode(),Mt):U.updateChild(b.getNode(),pe,Mt,Me,_p,null)}const F=e_(t,R,b.isFullyInitialized()||Ct(e),U.filtersNodes());return c_(i,F,e,l,new yp(l,F,d),E)}function vp(i,t,e,o,l,d,p){const E=t.eventCache;let b,R;const U=new yp(l,t,d);if(Ct(e))R=i.filter.updateFullNode(t.eventCache.getNode(),o,p),b=Jc(t,R,!0,i.filter.filtersNodes());else{const F=vt(e);if(".priority"===F)R=i.filter.updatePriority(t.eventCache.getNode(),o),b=Jc(t,R,E.isFullyInitialized(),E.isFiltered());else{const Y=Yt(e),pe=E.getNode().getImmediateChild(F);let Me;if(Ct(Y))Me=o;else{const at=U.getCompleteChild(F);Me=null!=at?".priority"===ei(Y)&&at.getChild(ep(Y)).isEmpty()?at:at.updateChild(Y,o):ct.EMPTY_NODE}b=pe.equals(Me)?t:Jc(t,i.filter.updateChild(E.getNode(),F,Me,Y,U,p),E.isFullyInitialized(),i.filter.filtersNodes())}}return b}function ht(i,t){return i.eventCache.isCompleteForChild(t)}function Ep(i,t,e){return e.foreach((o,l)=>{t=t.updateChild(o,l)}),t}function Oh(i,t,e,o,l,d,p,E){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let R,b=t;R=Ct(e)?o:new Jt(null).setTree(e,o);const U=t.serverCache.getNode();return R.children.inorderTraversal((F,Y)=>{if(U.hasChild(F)){const Me=Ep(0,t.serverCache.getNode().getImmediateChild(F),Y);b=xh(i,b,new jt(F),Me,l,d,p,E)}}),R.children.inorderTraversal((F,Y)=>{const pe=!t.serverCache.isCompleteForChild(F)&&void 0===Y.value;if(!U.hasChild(F)&&!pe){const at=Ep(0,t.serverCache.getNode().getImmediateChild(F),Y);b=xh(i,b,new jt(F),at,l,d,p,E)}}),b}class r0{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,l=new kn(o.getIndex()),d=function Fs(i){return i.loadsAllData()?new kn(i.getIndex()):i.hasLimit()?new Zc(i):new Zo(i)}(o);this.processor_=function e0(i){return{filter:i}}(d);const p=e.serverCache,E=e.eventCache,b=l.updateFullNode(ct.EMPTY_NODE,p.getNode(),null),R=d.updateFullNode(ct.EMPTY_NODE,E.getNode(),null),U=new Si(b,p.isFullyInitialized(),l.filtersNodes()),F=new Si(R,E.isFullyInitialized(),d.filtersNodes());this.viewCache_=$u(F,U),this.eventGenerator_=new qc(this.query_)}get query(){return this.query_}}function Ip(i,t){const e=za(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!Ct(t)&&!e.getImmediateChild(vt(t)).isEmpty())?e.getChild(t):null}function wp(i){return 0===i.eventRegistrations_.length}function s0(i,t,e){const o=[];if(e){(0,O.hu)(null==t,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(d=>{const p=d.createCancelEvent(e,l);p&&o.push(p)})}if(t){let l=[];for(let d=0;d<i.eventRegistrations_.length;++d){const p=i.eventRegistrations_[d];if(p.matches(t)){if(t.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(d+1));break}}else l.push(p)}i.eventRegistrations_=l}else i.eventRegistrations_=[];return o}function Dp(i,t,e,o){t.type===xt.MERGE&&null!==t.source.queryId&&((0,O.hu)(za(i.viewCache_),"We should always have a full cache before handling merges"),(0,O.hu)(Dh(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,d=function n0(i,t,e,o,l){const d=new Us;let p,E;if(e.type===xt.OVERWRITE){const R=e;R.source.fromUser?p=vp(i,t,R.path,R.snap,o,l,d):((0,O.hu)(R.source.fromServer,"Unknown source."),E=R.source.tagged||t.serverCache.isFiltered()&&!Ct(R.path),p=xh(i,t,R.path,R.snap,o,l,E,d))}else if(e.type===xt.MERGE){const R=e;R.source.fromUser?p=function d_(i,t,e,o,l,d,p){let E=t;return o.foreach((b,R)=>{const U=on(e,b);ht(t,vt(U))&&(E=vp(i,E,U,R,l,d,p))}),o.foreach((b,R)=>{const U=on(e,b);ht(t,vt(U))||(E=vp(i,E,U,R,l,d,p))}),E}(i,t,R.path,R.children,o,l,d):((0,O.hu)(R.source.fromServer,"Unknown source."),E=R.source.tagged||t.serverCache.isFiltered(),p=Oh(i,t,R.path,R.children,o,l,E,d))}else if(e.type===xt.ACK_USER_WRITE){const R=e;p=R.revert?function h_(i,t,e,o,l,d){let p;if(null!=rd(o,e))return t;{const E=new yp(o,t,l),b=t.eventCache.getNode();let R;if(Ct(e)||".priority"===vt(e)){let U;if(t.serverCache.isFullyInitialized())U=zu(o,za(t));else{const F=t.serverCache.getNode();(0,O.hu)(F instanceof ct,"serverChildren would be complete if leaf node"),U=Mh(o,F)}U=U,R=i.filter.updateFullNode(b,U,d)}else{const U=vt(e);let F=Ph(o,U,t.serverCache);null==F&&t.serverCache.isCompleteForChild(U)&&(F=b.getImmediateChild(U)),R=null!=F?i.filter.updateChild(b,U,F,Yt(e),E,d):t.eventCache.getNode().hasChild(U)?i.filter.updateChild(b,U,ct.EMPTY_NODE,Yt(e),E,d):b,R.isEmpty()&&t.serverCache.isFullyInitialized()&&(p=zu(o,za(t)),p.isLeafNode()&&(R=i.filter.updateFullNode(R,p,d)))}return p=t.serverCache.isFullyInitialized()||null!=rd(o,Ft()),Jc(t,R,p,i.filter.filtersNodes())}}(i,t,R.path,o,l,d):function Nh(i,t,e,o,l,d,p){if(null!=rd(l,e))return t;const E=t.serverCache.isFiltered(),b=t.serverCache;if(null!=o.value){if(Ct(e)&&b.isFullyInitialized()||b.isCompleteForPath(e))return xh(i,t,e,b.getNode().getChild(e),l,d,E,p);if(Ct(e)){let R=new Jt(null);return b.getNode().forEachChild(ss,(U,F)=>{R=R.set(new jt(U),F)}),Oh(i,t,e,R,l,d,E,p)}return t}{let R=new Jt(null);return o.foreach((U,F)=>{const Y=on(e,U);b.isCompleteForPath(Y)&&(R=R.set(U,b.getNode().getChild(Y)))}),Oh(i,t,e,R,l,d,E,p)}}(i,t,R.path,R.affectedTree,o,l,d)}else{if(e.type!==xt.LISTEN_COMPLETE)throw(0,O.g5)("Unknown operation type: "+e.type);p=function Bs(i,t,e,o,l){const d=t.serverCache;return c_(i,e_(t,d.getNode(),d.isFullyInitialized()||Ct(e),d.isFiltered()),e,o,_p,l)}(i,t,e.path,o,d)}const b=d.getChanges();return function u_(i,t,e){const o=t.eventCache;if(o.isFullyInitialized()){const l=o.getNode().isLeafNode()||o.getNode().isEmpty(),d=Dh(i);(e.length>0||!i.eventCache.isFullyInitialized()||l&&!o.getNode().equals(d)||!o.getNode().getPriority().equals(d.getPriority()))&&e.push(zc(Dh(t)))}}(t,p,b),{viewCache:p,changes:b}}(i.processor_,l,t,e,o);return function t0(i,t){(0,O.hu)(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,O.hu)(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}(i.processor_,d.viewCache),(0,O.hu)(d.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=d.viewCache,id(i,d.changes,d.viewCache.eventCache.getNode(),null)}function id(i,t,e,o){return function Yc(i,t,e,o){const l=[],d=[];return t.forEach(p=>{"child_changed"===p.type&&i.index_.indexedValueChanged(p.oldSnap,p.snapshotNode)&&d.push(function Ih(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}(p.childName,p.snapshotNode))}),go(i,l,"child_removed",t,o,e),go(i,l,"child_added",t,o,e),go(i,l,"child_moved",d,o,e),go(i,l,"child_changed",t,o,e),go(i,l,"value",t,o,e),l}(i.eventGenerator_,t,e,o?[o]:i.eventRegistrations_)}let Vl,Fh;class kh{constructor(){this.views=new Map}}function Sp(i,t,e,o){const l=t.source.queryId;if(null!==l){const d=i.views.get(l);return(0,O.hu)(null!=d,"SyncTree gave us an op for an invalid query."),Dp(d,t,e,o)}{let d=[];for(const p of i.views.values())d=d.concat(Dp(p,t,e,o));return d}}function f_(i,t,e,o,l){const p=i.views.get(t._queryIdentifier);if(!p){let E=zu(e,l?o:null),b=!1;E?b=!0:o instanceof ct?(E=Mh(e,o),b=!1):(E=ct.EMPTY_NODE,b=!1);const R=$u(new Si(E,b,!1),new Si(o,l,!1));return new r0(t,R)}return p}function Rp(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function jl(i,t){let e=null;for(const o of i.views.values())e=e||Ip(o,t);return e}function p_(i,t){return t._queryParams.loadsAllData()?sd(i):i.views.get(t._queryIdentifier)}function l0(i,t){return null!=p_(i,t)}function Xo(i){return null!=sd(i)}function sd(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let cI=1;class u0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Jt(null),this.pendingWriteTree_=function o_(){return{visibleWrites:Ls.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function g_(i,t,e,o,l){return function n_(i,t,e,o,l){(0,O.hu)(o>i.lastWriteId,"Stacking an older write on top of newer ones"),void 0===l&&(l=!0),i.allWrites.push({path:t,snap:e,writeId:o,visible:l}),l&&(i.visibleWrites=ed(i.visibleWrites,t,e)),i.lastWriteId=o}(i.pendingWriteTree_,t,e,o,l),l?qa(i,new Yo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Hl(i,t,e=!1){const o=function r_(i,t){for(let e=0;e<i.allWrites.length;e++){const o=i.allWrites[e];if(o.writeId===t)return o}return null}(i.pendingWriteTree_,t);if(function Ah(i,t){const e=i.allWrites.findIndex(E=>E.writeId===t);(0,O.hu)(e>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[e];i.allWrites.splice(e,1);let l=o.visible,d=!1,p=i.allWrites.length-1;for(;l&&p>=0;){const E=i.allWrites[p];E.visible&&(p>=e&&Sh(E,o.path)?l=!1:ti(o.path,E.path)&&(d=!0)),p--}return!!l&&(d?(function i_(i){i.visibleWrites=mp(i.allWrites,gp,Ft()),i.lastWriteId=i.allWrites.length>0?i.allWrites[i.allWrites.length-1].writeId:-1}(i),!0):(o.snap?i.visibleWrites=dp(i.visibleWrites,o.path):Nn(o.children,b=>{i.visibleWrites=dp(i.visibleWrites,on(o.path,b))}),!0))}(i.pendingWriteTree_,t)){let d=new Jt(null);return null!=o.snap?d=d.set(Ft(),!0):Nn(o.children,p=>{d=d.set(new jt(p),!0)}),qa(i,new po(o.path,d,e))}return[]}function Lh(i,t,e){return qa(i,new Yo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function mo(i,t,e,o){const l=t._path,d=i.syncPointTree_.get(l);let p=[];if(d&&("default"===t._queryIdentifier||l0(d,t))){const E=function a0(i,t,e,o){const l=t._queryIdentifier,d=[];let p=[];const E=Xo(i);if("default"===l)for(const[b,R]of i.views.entries())p=p.concat(s0(R,e,o)),wp(R)&&(i.views.delete(b),R.query._queryParams.loadsAllData()||d.push(R.query));else{const b=i.views.get(l);b&&(p=p.concat(s0(b,e,o)),wp(b)&&(i.views.delete(l),b.query._queryParams.loadsAllData()||d.push(b.query)))}return E&&!Xo(i)&&d.push(new(function Ap(){return(0,O.hu)(Vl,"Reference.ts has not been loaded"),Vl}())(t._repo,t._path)),{removed:d,events:p}}(d,t,e,o);(function lI(i){return 0===i.views.size})(d)&&(i.syncPointTree_=i.syncPointTree_.remove(l));const b=E.removed;p=E.events;const R=-1!==b.findIndex(F=>F._queryParams.loadsAllData()),U=i.syncPointTree_.findOnPath(l,(F,Y)=>Xo(Y));if(R&&!U){const F=i.syncPointTree_.subtree(l);if(!F.isEmpty()){const Y=function d0(i){return i.fold((t,e,o)=>{if(e&&Xo(e))return[sd(e)];{let l=[];return e&&(l=Rp(e)),Nn(o,(d,p)=>{l=l.concat(p)}),l}})}(F);for(let pe=0;pe<Y.length;++pe){const Me=Y[pe],at=Me.query,Mt=Op(i,Me);i.listenProvider_.startListening(ta(at),Uh(i,at),Mt.hashFn,Mt.onComplete)}}}!U&&b.length>0&&!o&&(R?i.listenProvider_.stopListening(ta(t),null):b.forEach(F=>{const Y=i.queryToTagMap.get(Ku(F));i.listenProvider_.stopListening(ta(F),Y)})),function qu(i,t){for(let e=0;e<t.length;++e){const o=t[e];if(!o._queryParams.loadsAllData()){const l=Ku(o),d=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(d)}}}(i,b)}return p}function xp(i,t,e){const o=t._path;let l=null,d=!1;i.syncPointTree_.foreachOnPath(o,(F,Y)=>{const pe=mr(F,o);l=l||jl(Y,pe),d=d||Xo(Y)});let E,p=i.syncPointTree_.get(o);p?(d=d||Xo(p),l=l||jl(p,Ft())):(p=new kh,i.syncPointTree_=i.syncPointTree_.set(o,p)),null!=l?E=!0:(E=!1,l=ct.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((Y,pe)=>{const Me=jl(pe,Ft());Me&&(l=l.updateImmediateChild(Y,Me))}));const b=l0(p,t);if(!b&&!t._queryParams.loadsAllData()){const F=Ku(t);(0,O.hu)(!i.queryToTagMap.has(F),"View does not exist, but we have a tag");const Y=function Fp(){return cI++}();i.queryToTagMap.set(F,Y),i.tagToQueryMap.set(Y,F)}let U=function o0(i,t,e,o,l,d){const p=f_(i,t,o,l,d);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,p),function bp(i,t){i.eventRegistrations_.push(t)}(p,e),function aI(i,t){const e=i.viewCache_.eventCache,o=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Qt,(d,p)=>{o.push(Wa(d,p))}),e.isFullyInitialized()&&o.push(zc(e.getNode())),id(i,o,e.getNode(),t)}(p,e)}(p,t,e,td(i.pendingWriteTree_,o),l,E);if(!b&&!d){const F=p_(p,t);U=U.concat(function Yu(i,t,e){const o=t._path,l=Uh(i,t),d=Op(i,e),p=i.listenProvider_.startListening(ta(t),l,d.hashFn,d.onComplete),E=i.syncPointTree_.subtree(o);if(l)(0,O.hu)(!Xo(E.value),"If we're adding a query, it shouldn't be shadowed");else{const b=E.fold((R,U,F)=>{if(!Ct(R)&&U&&Xo(U))return[sd(U).query];{let Y=[];return U&&(Y=Y.concat(Rp(U).map(pe=>pe.query))),Nn(F,(pe,Me)=>{Y=Y.concat(Me)}),Y}});for(let R=0;R<b.length;++R){const U=b[R];i.listenProvider_.stopListening(ta(U),Uh(i,U))}}return p}(i,t,F))}return U}function Zu(i,t,e){const l=i.pendingWriteTree_,d=i.syncPointTree_.findOnPath(t,(p,E)=>{const R=jl(E,mr(p,t));if(R)return R});return Rh(l,t,d,e,!0)}function qa(i,t){return __(t,i.syncPointTree_,null,td(i.pendingWriteTree_,Ft()))}function __(i,t,e,o){if(Ct(i.path))return ea(i,t,e,o);{const l=t.get(Ft());null==e&&null!=l&&(e=jl(l,Ft()));let d=[];const p=vt(i.path),E=i.operationForChild(p),b=t.children.get(p);if(b&&E){const R=e?e.getImmediateChild(p):null,U=a_(o,p);d=d.concat(__(E,b,R,U))}return l&&(d=d.concat(Sp(l,i,o,e))),d}}function ea(i,t,e,o){const l=t.get(Ft());null==e&&null!=l&&(e=jl(l,Ft()));let d=[];return t.children.inorderTraversal((p,E)=>{const b=e?e.getImmediateChild(p):null,R=a_(o,p),U=i.operationForChild(p);U&&(d=d.concat(ea(U,E,b,R)))}),l&&(d=d.concat(Sp(l,i,o,e))),d}function Op(i,t){const e=t.query,o=Uh(i,e);return{hashFn:()=>(function Cp(i){return i.viewCache_.serverCache.getNode()}(t)||ct.EMPTY_NODE).hash(),onComplete:l=>{if("ok"===l)return o?function pI(i,t,e){const o=Np(i,e);if(o){const l=Bh(o),d=l.path,p=l.queryId,E=mr(d,t);return kp(i,d,new qo(Ga(p),E))}return[]}(i,e._path,o):function fI(i,t){return qa(i,new qo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(i,e._path);{const d=function wu(i,t){let e="Unknown Error";"too_big"===i?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===i?e="Client doesn't have permission to access the desired data.":"unavailable"===i&&(e="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+e);return o.code=i.toUpperCase(),o}(l,e);return mo(i,e,null,d)}}}}function Uh(i,t){const e=Ku(t);return i.queryToTagMap.get(e)}function Ku(i){return i._path.toString()+"$"+i._queryIdentifier}function Np(i,t){return i.tagToQueryMap.get(t)}function Bh(i){const t=i.indexOf("$");return(0,O.hu)(-1!==t&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new jt(i.substr(0,t))}}function kp(i,t,e){const o=i.syncPointTree_.get(t);return(0,O.hu)(o,"Missing sync point for query tag that we're tracking"),Sp(o,e,td(i.pendingWriteTree_,t),null)}function ta(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(function uI(){return(0,O.hu)(Fh,"Reference.ts has not been loaded"),Fh}())(i._repo,i._path):i}class $l{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new $l(e)}node(){return this.node_}}class Ya{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=on(this.path_,t);return new Ya(this.syncTree_,e)}node(){return Zu(this.syncTree_,this.path_)}}const Lp=function(i,t,e){return i&&"object"==typeof i?((0,O.hu)(".sv"in i,"Unexpected leaf node or priority contents"),"string"==typeof i[".sv"]?y_(i[".sv"],t,e):"object"==typeof i[".sv"]?Up(i[".sv"],t):void(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2))):i},y_=function(i,t,e){if("timestamp"===i)return e.timestamp;(0,O.hu)(!1,"Unexpected server value: "+i)},Up=function(i,t,e){i.hasOwnProperty("increment")||(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;"number"!=typeof o&&(0,O.hu)(!1,"Unexpected increment value: "+o);const l=t.node();if((0,O.hu)(null!=l,"Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return o;const p=l.getValue();return"number"!=typeof p?o:p+o},Vh=function(i,t,e,o){return Qu(t,new Ya(e,i),o)},jh=function(i,t,e){return Qu(i,new $l(t),e)};function Qu(i,t,e){const o=i.getPriority().val(),l=Lp(o,t.getImmediateChild(".priority"),e);let d;if(i.isLeafNode()){const p=i,E=Lp(p.getValue(),t,e);return E!==p.getValue()||l!==p.getPriority().val()?new Wo(E,an(l)):i}{const p=i;return d=p,l!==p.getPriority().val()&&(d=d.updatePriority(new Wo(l))),p.forEachChild(Qt,(E,b)=>{const R=Qu(b,t.getImmediateChild(E),e);R!==b&&(d=d.updateImmediateChild(E,R))}),d}}class Bp{constructor(t="",e=null,o={children:{},childCount:0}){this.name=t,this.parent=e,this.node=o}}function od(i,t){let e=t instanceof jt?t:new jt(t),o=i,l=vt(e);for(;null!==l;){const d=(0,O.DV)(o.node.children,l)||{children:{},childCount:0};o=new Bp(l,o,d),e=Yt(e),l=vt(e)}return o}function Ju(i){return i.node.value}function Hh(i,t){i.node.value=t,jp(i)}function Vp(i){return i.node.childCount>0}function ad(i,t){Nn(i.node.children,(e,o)=>{t(new Bp(e,i,o))})}function v_(i,t,e,o){e&&!o&&t(i),ad(i,l=>{v_(l,t,!0,o)}),e&&o&&t(i)}function yr(i){return new jt(null===i.parent?i.name:yr(i.parent)+"/"+i.name)}function jp(i){null!==i.parent&&function g0(i,t,e){const o=function f0(i){return void 0===Ju(i)&&!Vp(i)}(e),l=(0,O.r3)(i.node.children,t);o&&l?(delete i.node.children[t],i.node.childCount--,jp(i)):!o&&!l&&(i.node.children[t]=e.node,i.node.childCount++,jp(i))}(i.parent,i.name,i)}const gI=/[\[\].#$\/\u0000-\u001F\u007F]/,mI=/[\[\].#$\u0000-\u001F\u007F]/,$h=10485760,Hp=function(i){return"string"==typeof i&&0!==i.length&&!gI.test(i)},E_=function(i){return"string"==typeof i&&0!==i.length&&!mI.test(i)},Xu=function(i){return null===i||"string"==typeof i||"number"==typeof i&&!ko(i)||i&&"object"==typeof i&&(0,O.r3)(i,".sv")},_o=function(i,t,e,o){o&&void 0===t||ld((0,O.gK)(i,"value"),t,e)},ld=function(i,t,e){const o=e instanceof jt?new np(e,i):e;if(void 0===t)throw new Error(i+"contains undefined "+Ho(o));if("function"==typeof t)throw new Error(i+"contains a function "+Ho(o)+" with contents = "+t.toString());if(ko(t))throw new Error(i+"contains "+t.toString()+" "+Ho(o));if("string"==typeof t&&t.length>$h/3&&(0,O.ug)(t)>$h)throw new Error(i+"contains a string greater than "+$h+" utf8 bytes "+Ho(o)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let l=!1,d=!1;if(Nn(t,(p,E)=>{if(".value"===p)l=!0;else if(".priority"!==p&&".sv"!==p&&(d=!0,!Hp(p)))throw new Error(i+" contains an invalid key ("+p+") "+Ho(o)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Jm(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=(0,O.ug)(t),rp(i)})(o,p),ld(i,E,o),function jo(i){const t=i.parts_.pop();i.byteLength_-=(0,O.ug)(t),i.parts_.length>0&&(i.byteLength_-=1)}(o)}),l&&d)throw new Error(i+' contains ".value" child '+Ho(o)+" in addition to actual children.")}},Wp=function(i,t,e,o){if(o&&void 0===t)return;const l=(0,O.gK)(i,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const d=[];Nn(t,(p,E)=>{const b=new jt(p);if(ld(l,E,on(e,b)),".priority"===ei(b)&&!Xu(E))throw new Error(l+"contains an invalid value for '"+b.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(b)}),function(i,t){let e,o;for(e=0;e<t.length;e++){o=t[e];const d=Fa(o);for(let p=0;p<d.length;p++)if((".priority"!==d[p]||p!==d.length-1)&&!Hp(d[p]))throw new Error(i+"contains an invalid key ("+d[p]+") in path "+o.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(tp);let l=null;for(e=0;e<t.length;e++){if(o=t[e],null!==l&&ti(l,o))throw new Error(i+"contains a path "+l.toString()+" that is ancestor of another path "+o.toString());l=o}}(l,d)},Gp=function(i,t,e){if(!e||void 0!==t){if(ko(t))throw new Error((0,O.gK)(i,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Xu(t))throw new Error((0,O.gK)(i,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ec=function(i,t,e,o){if(!(o&&void 0===e||Hp(e)))throw new Error((0,O.gK)(i,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ud=function(i,t,e,o){if(!(o&&void 0===e||E_(e)))throw new Error((0,O.gK)(i,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ri=function(i,t){if(".info"===vt(t))throw new Error(i+" failed = Can't modify data under /.info/")},zp=function(i,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Hp(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),E_(i)}(e))throw new Error((0,O.gK)(i,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class y0{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mi(i,t){let e=null;for(let o=0;o<t.length;o++){const l=t[o],d=l.getPath();null!==e&&!xu(d,e.path)&&(i.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(l)}e&&i.eventLists_.push(e)}function cd(i,t,e){Mi(i,e),C_(i,o=>xu(o,t))}function as(i,t,e){Mi(i,e),C_(i,o=>ti(o,t)||ti(t,o))}function C_(i,t){i.recursionDepth_++;let e=!0;for(let o=0;o<i.eventLists_.length;o++){const l=i.eventLists_[o];l&&(t(l.path)?(_I(i.eventLists_[o]),i.eventLists_[o]=null):e=!1)}e&&(i.eventLists_=[]),i.recursionDepth_--}function _I(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(null!==e){i.events[t]=null;const o=e.getEventRunner();Rs&&hn("event: "+e.toString()),ns(o)}}}const Zp="repo_interrupt";class E0{constructor(t,e,o,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=o,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new y0,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=f(),this.transactionQueueTree_=new Bp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Wh(i){const e=i.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function dd(i){return function(i){return(i=i||{}).timestamp=i.timestamp||(new Date).getTime(),i}({timestamp:Wh(i)})}function I_(i,t,e,o,l){i.dataUpdateCount++;const d=new jt(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let p=[];if(l)if(o){const b=(0,O.UI)(e,R=>an(R));p=function c0(i,t,e,o){const l=Np(i,o);if(l){const d=Bh(l),p=d.path,E=d.queryId,b=mr(p,t),R=Jt.fromObject(e);return kp(i,p,new Hr(Ga(E),b,R))}return[]}(i.serverSyncTree_,d,b,l)}else{const b=an(e);p=function Pp(i,t,e,o){const l=Np(i,o);if(null!=l){const d=Bh(l),p=d.path,E=d.queryId,b=mr(p,t);return kp(i,p,new Yo(Ga(E),b,e))}return[]}(i.serverSyncTree_,d,b,l)}else if(o){const b=(0,O.UI)(e,R=>an(R));p=function hI(i,t,e){const o=Jt.fromObject(e);return qa(i,new Hr({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,o))}(i.serverSyncTree_,d,b)}else{const b=an(e);p=Lh(i.serverSyncTree_,d,b)}let E=d;p.length>0&&(E=Wl(i,d)),as(i.eventQueue_,E,p)}function hd(i,t){qp(i,"connected",t),!1===t&&function w0(i){ri(i,"onDisconnectEvents");const t=dd(i),e=f();M(i.onDisconnect_,Ft(),(l,d)=>{const p=Vh(l,d,i.serverSyncTree_,t);y(e,l,p)});let o=[];M(e,Ft(),(l,d)=>{o=o.concat(Lh(i.serverSyncTree_,l,d));const p=Kh(i,l);Wl(i,p)}),i.onDisconnect_=f(),as(i.eventQueue_,Ft(),o)}(i)}function qp(i,t,e){const o=new jt("/.info/"+t),l=an(e);i.infoData_.updateSnapshot(o,l);const d=Lh(i.infoSyncTree_,o,l);as(i.eventQueue_,o,d)}function tc(i){return i.nextWriteId_++}function Gh(i,t,e,o,l){ri(i,"set",{path:t.toString(),value:e,priority:o});const d=dd(i),p=an(e,o),E=Zu(i.serverSyncTree_,t),b=jh(p,E,d),R=tc(i),U=g_(i.serverSyncTree_,t,b,R,!0);Mi(i.eventQueue_,U),i.server_.put(t.toString(),p.val(!0),(Y,pe)=>{const Me="ok"===Y;Me||hr("set at "+t+" failed: "+Y);const at=Hl(i.serverSyncTree_,R,!Me);as(i.eventQueue_,t,at),Vs(0,l,Y,pe)});const F=Kh(i,t);Wl(i,F),as(i.eventQueue_,F,[])}function Qp(i,t,e){i.server_.onDisconnectCancel(t.toString(),(o,l)=>{"ok"===o&&D(i.onDisconnect_,t),Vs(0,e,o,l)})}function b0(i,t,e,o){const l=an(e);i.server_.onDisconnectPut(t.toString(),l.val(!0),(d,p)=>{"ok"===d&&y(i.onDisconnect_,t,l),Vs(0,o,d,p)})}function zh(i,t,e){let o;o=".info"===vt(t._path)?mo(i.infoSyncTree_,t,e):mo(i.serverSyncTree_,t,e),cd(i.eventQueue_,t._path,o)}function Jp(i){i.persistentConnection_&&i.persistentConnection_.interrupt(Zp)}function ri(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),hn(e,...t)}function Vs(i,t,e,o){t&&ns(()=>{if("ok"===e)t(null);else{const l=(e||"error").toUpperCase();let d=l;o&&(d+=": "+o);const p=new Error(d);p.code=l,t(p)}})}function Xp(i,t,e){return Zu(i.serverSyncTree_,t,e)||ct.EMPTY_NODE}function eg(i,t=i.transactionQueueTree_){if(t||fd(i,t),Ju(t)){const e=T_(i,t);(0,O.hu)(e.length>0,"Sending zero length transaction queue"),e.every(l=>0===l.status)&&function tg(i,t,e){const o=e.map(R=>R.currentWriteId),l=Xp(i,t,o);let d=l;const p=l.hash();for(let R=0;R<e.length;R++){const U=e[R];(0,O.hu)(0===U.status,"tryToSendTransactionQueue_: items in queue should all be run."),U.status=1,U.retryCount++;const F=mr(t,U.path);d=d.updateChild(F,U.currentOutputSnapshotRaw)}const E=d.val(!0),b=t;i.server_.put(b.toString(),E,R=>{ri(i,"transaction put response",{path:b.toString(),status:R});let U=[];if("ok"===R){const F=[];for(let Y=0;Y<e.length;Y++)e[Y].status=2,U=U.concat(Hl(i.serverSyncTree_,e[Y].currentWriteId)),e[Y].onComplete&&F.push(()=>e[Y].onComplete(null,!0,e[Y].currentOutputSnapshotResolved)),e[Y].unwatcher();fd(i,od(i.transactionQueueTree_,t)),eg(i,i.transactionQueueTree_),as(i.eventQueue_,t,U);for(let Y=0;Y<F.length;Y++)ns(F[Y])}else{if("datastale"===R)for(let F=0;F<e.length;F++)e[F].status=3===e[F].status?4:0;else{hr("transaction at "+b.toString()+" failed: "+R);for(let F=0;F<e.length;F++)e[F].status=4,e[F].abortReason=R}Wl(i,t)}},p)}(i,yr(t),e)}else Vp(t)&&ad(t,e=>{eg(i,e)})}function Wl(i,t){const e=nc(i,t),o=yr(e);return function ng(i,t,e){if(0===t.length)return;const o=[];let l=[];const p=t.filter(E=>0===E.status).map(E=>E.currentWriteId);for(let E=0;E<t.length;E++){const b=t[E],R=mr(e,b.path);let F,U=!1;if((0,O.hu)(null!==R,"rerunTransactionsUnderNode_: relativePath should not be null."),4===b.status)U=!0,F=b.abortReason,l=l.concat(Hl(i.serverSyncTree_,b.currentWriteId,!0));else if(0===b.status)if(b.retryCount>=25)U=!0,F="maxretry",l=l.concat(Hl(i.serverSyncTree_,b.currentWriteId,!0));else{const Y=Xp(i,b.path,p);b.currentInputSnapshot=Y;const pe=t[E].update(Y.val());if(void 0!==pe){ld("transaction failed: Data returned ",pe,b.path);let Me=an(pe);"object"==typeof pe&&null!=pe&&(0,O.r3)(pe,".priority")||(Me=Me.updatePriority(Y.getPriority()));const Mt=b.currentWriteId,Rn=dd(i),Xt=jh(Me,Y,Rn);b.currentOutputSnapshotRaw=Me,b.currentOutputSnapshotResolved=Xt,b.currentWriteId=tc(i),p.splice(p.indexOf(Mt),1),l=l.concat(g_(i.serverSyncTree_,b.path,Xt,b.currentWriteId,b.applyLocally)),l=l.concat(Hl(i.serverSyncTree_,Mt,!0))}else U=!0,F="nodata",l=l.concat(Hl(i.serverSyncTree_,b.currentWriteId,!0))}as(i.eventQueue_,e,l),l=[],U&&(t[E].status=2,setTimeout(t[E].unwatcher,Math.floor(0)),t[E].onComplete&&o.push("nodata"===F?()=>t[E].onComplete(null,!1,t[E].currentInputSnapshot):()=>t[E].onComplete(new Error(F),!1,null)))}fd(i,i.transactionQueueTree_);for(let E=0;E<o.length;E++)ns(o[E]);eg(i,i.transactionQueueTree_)}(i,T_(i,e),o),o}function nc(i,t){let e,o=i.transactionQueueTree_;for(e=vt(t);null!==e&&void 0===Ju(o);)o=od(o,e),e=vt(t=Yt(t));return o}function T_(i,t){const e=[];return Zh(i,t,e),e.sort((o,l)=>o.order-l.order),e}function Zh(i,t,e){const o=Ju(t);if(o)for(let l=0;l<o.length;l++)e.push(o[l]);ad(t,l=>{Zh(i,l,e)})}function fd(i,t){const e=Ju(t);if(e){let o=0;for(let l=0;l<e.length;l++)2!==e[l].status&&(e[o]=e[l],o++);e.length=o,Hh(t,e.length>0?e:void 0)}ad(t,o=>{fd(i,o)})}function Kh(i,t){const e=yr(nc(i,t)),o=od(i.transactionQueueTree_,t);return function p0(i,t,e){let o=e?i:i.parent;for(;null!==o;){if(t(o))return!0;o=o.parent}}(o,l=>{qh(i,l)}),qh(i,o),v_(o,l=>{qh(i,l)}),e}function qh(i,t){const e=Ju(t);if(e){const o=[];let l=[],d=-1;for(let p=0;p<e.length;p++)3===e[p].status||(1===e[p].status?((0,O.hu)(d===p-1,"All SENT items should be at beginning of queue."),d=p,e[p].status=3,e[p].abortReason="set"):((0,O.hu)(0===e[p].status,"Unexpected transaction status in abort"),e[p].unwatcher(),l=l.concat(Hl(i.serverSyncTree_,e[p].currentWriteId,!0)),e[p].onComplete&&o.push(e[p].onComplete.bind(null,new Error("set"),!1,null))));-1===d?Hh(t,void 0):e.length=d+1,as(i.eventQueue_,yr(t),l);for(let p=0;p<o.length;p++)ns(o[p])}}const ig=function(i,t){const e=S0(i),o=e.namespace;return"firebase.com"===e.domain&&Ii(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||"undefined"===o)&&"localhost"!==e.domain&&Ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&hr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Uo(e.host,e.secure,o,t,"ws"===e.scheme||"wss"===e.scheme,"",o!==e.subdomain),path:new jt(e.pathString)}},S0=function(i){let t="",e="",o="",l="",d="",p=!0,E="https",b=443;if("string"==typeof i){let R=i.indexOf("//");R>=0&&(E=i.substring(0,R-1),i=i.substring(R+2));let U=i.indexOf("/");-1===U&&(U=i.length);let F=i.indexOf("?");-1===F&&(F=i.length),t=i.substring(0,Math.min(U,F)),U<F&&(l=function A0(i){let t="";const e=i.split("/");for(let o=0;o<e.length;o++)if(e[o].length>0){let l=e[o];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(d){}t+="/"+l}return t}(i.substring(U,F)));const Y=function rg(i){const t={};"?"===i.charAt(0)&&(i=i.substring(1));for(const e of i.split("&")){if(0===e.length)continue;const o=e.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):hr(`Invalid query segment '${e}' in query '${i}'`)}return t}(i.substring(Math.min(i.length,F)));R=t.indexOf(":"),R>=0?(p="https"===E||"wss"===E,b=parseInt(t.substring(R+1),10)):R=t.length;const pe=t.slice(0,R);if("localhost"===pe.toLowerCase())e="localhost";else if(pe.split(".").length<=2)e=pe;else{const Me=t.indexOf(".");o=t.substring(0,Me).toLowerCase(),e=t.substring(Me+1),d=o}"ns"in Y&&(d=Y.ns)}return{host:t,port:b,domain:e,subdomain:o,secure:p,scheme:E,pathString:l,namespace:d}};class sg{constructor(t,e,o,l){this.eventType=t,this.eventRegistration=e,this.snapshot=o,this.prevName=l}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,O.Pz)(this.snapshot.exportVal())}}class Gl{constructor(t,e,o){this.eventRegistration=t,this.error=e,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class og{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,O.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class A_{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new O.BH;return Qp(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ri("OnDisconnect.remove",this._path);const t=new O.BH;return b0(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ri("OnDisconnect.set",this._path),_o("OnDisconnect.set",t,this._path,!1);const e=new O.BH;return b0(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Ri("OnDisconnect.setWithPriority",this._path),_o("OnDisconnect.setWithPriority",t,this._path,!1),Gp("OnDisconnect.setWithPriority",e,!1);const o=new O.BH;return function D0(i,t,e,o,l){const d=an(e,o);i.server_.onDisconnectPut(t.toString(),d.val(!0),(p,E)=>{"ok"===p&&y(i.onDisconnect_,t,d),Vs(0,l,p,E)})}(this._repo,this._path,t,e,o.wrapCallback(()=>{})),o.promise}update(t){Ri("OnDisconnect.update",this._path),Wp("OnDisconnect.update",t,this._path,!1);const e=new O.BH;return function w_(i,t,e,o){if((0,O.xb)(e))return hn("onDisconnect().update() called with empty data.  Don't do anything."),void Vs(0,o,"ok",void 0);i.server_.onDisconnectMerge(t.toString(),e,(l,d)=>{"ok"===l&&Nn(e,(p,E)=>{const b=an(E);y(i.onDisconnect_,on(t,p),b)}),Vs(0,o,l,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ii{constructor(t,e,o,l){this._repo=t,this._path=e,this._queryParams=o,this._orderByCalled=l}get key(){return Ct(this._path)?null:ei(this._path)}get ref(){return new ls(this._repo,this._path)}get _queryIdentifier(){const t=bh(this._queryParams),e=Fo(t);return"{}"===e?"default":e}get _queryObject(){return bh(this._queryParams)}isEqual(t){if(!((t=(0,O.m9)(t))instanceof ii))return!1;const e=this._repo===t._repo,o=xu(this._path,t._path);return e&&o&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Ol(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)""!==i.pieces_[e]&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}(this._path)}}function na(i,t){if(!0===i._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Qa(i){let t=null,e=null;if(i.hasStart()&&(t=i.getIndexStartValue()),i.hasEnd()&&(e=i.getIndexEndValue()),i.getIndex()===ss){const o="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",l="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(i.hasStart()){if(i.getIndexStartName()!==Xi)throw new Error(o);if("string"!=typeof t)throw new Error(l)}if(i.hasEnd()){if(i.getIndexEndName()!==wi)throw new Error(o);if("string"!=typeof e)throw new Error(l)}}else if(i.getIndex()===Qt){if(null!=t&&!Xu(t)||null!=e&&!Xu(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,O.hu)(i.getIndex()instanceof _r||i.getIndex()===Fl,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Yh(i){if(i.hasStart()&&i.hasEnd()&&i.hasLimit()&&!i.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ls extends ii{constructor(t,e){super(t,e,new Vu,!1)}get parent(){const t=ep(this._path);return null===t?null:new ls(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class zl{constructor(t,e,o){this._node=t,this.ref=e,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new jt(t),o=Ja(this.ref,t);return new zl(this._node.getChild(e),o,Qt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(o,l)=>t(new zl(l,Ja(this.ref,o),Qt)))}hasChild(t){const e=new jt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function us(i,t){return(i=(0,O.m9)(i))._checkNotDeleted("ref"),void 0!==t?Ja(i._root,t):i._root}function Qh(i,t){(i=(0,O.m9)(i))._checkNotDeleted("refFromURL");const e=ig(t,i._repo.repoInfo_.nodeAdmin);zp("refFromURL",e);const o=e.repoInfo;return!i._repo.repoInfo_.isCustomHost()&&o.host!==i._repo.repoInfo_.host&&Ii("refFromURL: Host name does not match the current database: (found "+o.host+" but expected "+i._repo.repoInfo_.host+")"),us(i,e.path.toString())}function Ja(i,t){return null===vt((i=(0,O.m9)(i))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ud("child","path",e,!1)):ud("child","path",t,!1),new ls(i._repo,on(i._path,t));var e}function ag(i,t){i=(0,O.m9)(i),Ri("set",i._path),_o("set",t,i._path,!1);const e=new O.BH;return Gh(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}function x0(i,t){Wp("update",t,i._path,!1);const e=new O.BH;return function I0(i,t,e,o){ri(i,"update",{path:t.toString(),value:e});let l=!0;const d=dd(i),p={};if(Nn(e,(E,b)=>{l=!1,p[E]=Vh(on(t,E),an(b),i.serverSyncTree_,d)}),l)hn("update() called with empty data.  Don't do anything."),Vs(0,o,"ok",void 0);else{const E=tc(i),b=function dI(i,t,e,o){!function pp(i,t,e,o){(0,O.hu)(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:e,writeId:o,visible:!0}),i.visibleWrites=Th(i.visibleWrites,t,e),i.lastWriteId=o}(i.pendingWriteTree_,t,e,o);const l=Jt.fromObject(e);return qa(i,new Hr({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,l))}(i.serverSyncTree_,t,p,E);Mi(i.eventQueue_,b),i.server_.merge(t.toString(),e,(R,U)=>{const F="ok"===R;F||hr("update at "+t+" failed: "+R);const Y=Hl(i.serverSyncTree_,E,!F),pe=Y.length>0?Wl(i,t):t;as(i.eventQueue_,pe,Y),Vs(0,o,R,U)}),Nn(e,R=>{const U=Kh(i,on(t,R));Wl(i,U)}),as(i.eventQueue_,t,[])}}(i._repo,i._path,t,e.wrapCallback(()=>{})),e.promise}function M_(i){return function Yp(i,t){const e=function m_(i,t){const e=t._path;let o=null;i.syncPointTree_.foreachOnPath(e,(R,U)=>{const F=mr(R,e);o=o||jl(U,F)});let l=i.syncPointTree_.get(e);l?o=o||jl(l,Ft()):(l=new kh,i.syncPointTree_=i.syncPointTree_.set(e,l));const d=null!=o,p=d?new Si(o,!0,!1):null;return function Jo(i){return Dh(i.viewCache_)}(f_(l,t,td(i.pendingWriteTree_,t._path),d?p.getNode():ct.EMPTY_NODE,d))}(i.serverSyncTree_,t);return null!=e?Promise.resolve(e):i.server_.get(t).then(o=>{const l=an(o).withIndex(t._queryParams.getIndex()),d=Lh(i.serverSyncTree_,t._path,l);return cd(i.eventQueue_,t._path,d),Promise.resolve(l)},o=>(ri(i,"get for query "+(0,O.Pz)(t)+" failed: "+o),Promise.reject(new Error(o))))}((i=(0,O.m9)(i))._repo,i).then(t=>new zl(t,new ls(i._repo,i._path),i._queryParams.getIndex()))}class lg{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const o=e._queryParams.getIndex();return new sg("value",this,new zl(t.snapshotNode,new ls(e._repo,e._path),o))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Gl(this,t,e):null}matches(t){return t instanceof lg&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class pd{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Gl(this,t,e):null}createEvent(t,e){(0,O.hu)(null!=t.childName,"Child events should have a childName.");const o=Ja(new ls(e._repo,e._path),t.childName),l=e._queryParams.getIndex();return new sg(t.type,this,new zl(t.snapshotNode,o,l),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof pd&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function gd(i,t,e,o,l){let d;if("object"==typeof o&&(d=void 0,l=o),"function"==typeof o&&(d=o),l&&l.onlyOnce){const b=e,R=(U,F)=>{zh(i._repo,i,E),b(U,F)};R.userCallback=e.userCallback,R.context=e.context,e=R}const p=new og(e,d||void 0),E="value"===t?new lg(p):new pd(t,p);return function b_(i,t,e){let o;o=".info"===vt(t._path)?xp(i.infoSyncTree_,t,e):xp(i.serverSyncTree_,t,e),cd(i.eventQueue_,t._path,o)}(i._repo,i,E),()=>zh(i._repo,i,E)}function ug(i,t,e,o){return gd(i,"value",t,e,o)}function O0(i,t,e,o){return gd(i,"child_added",t,e,o)}function N0(i,t,e,o){return gd(i,"child_changed",t,e,o)}function Jh(i,t,e,o){return gd(i,"child_moved",t,e,o)}function P_(i,t,e,o){return gd(i,"child_removed",t,e,o)}function cg(i,t,e){let o=null;const l=e?new og(e):null;"value"===t?o=new lg(l):t&&(o=new pd(t,l)),zh(i._repo,i,o)}class cs{}class k0 extends cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){_o("endAt",this._value,t._path,!0);const e=Bl(t._queryParams,this._value,this._key);if(Yh(e),Qa(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ii(t._repo,t._path,e,t._orderByCalled)}}class yI extends cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){_o("endBefore",this._value,t._path,!1);const e=function up(i,t,e){let o,l;return i.index_===ss?("string"==typeof t&&(t=Ai(t)),l=Bl(i,t,e)):(o=null==e?Xi:Ai(e),l=Bl(i,t,o)),l.endBeforeSet_=!0,l}(t._queryParams,this._value,this._key);if(Yh(e),Qa(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ii(t._repo,t._path,e,t._orderByCalled)}}class dg extends cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){_o("startAt",this._value,t._path,!0);const e=ju(t._queryParams,this._value,this._key);if(Yh(e),Qa(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ii(t._repo,t._path,e,t._orderByCalled)}}class O_ extends cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){_o("startAfter",this._value,t._path,!1);const e=function lp(i,t,e){let o;if(i.index_===ss)"string"==typeof t&&(t=Ch(t)),o=ju(i,t,e);else{let l;l=null==e?wi:Ch(e),o=ju(i,t,l)}return o.startAfterSet_=!0,o}(t._queryParams,this._value,this._key);if(Yh(e),Qa(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ii(t._repo,t._path,e,t._orderByCalled)}}class EI extends cs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ii(t._repo,t._path,function Ul(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class k_ extends cs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ii(t._repo,t._path,function Kc(i,t){const e=i.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class hg extends cs{constructor(t){super(),this._path=t}_apply(t){na(t,"orderByChild");const e=new jt(this._path);if(Ct(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const o=new _r(e),l=Hu(t._queryParams,o);return Qa(l),new ii(t._repo,t._path,l,!0)}}class B0 extends cs{_apply(t){na(t,"orderByKey");const e=Hu(t._queryParams,ss);return Qa(e),new ii(t._repo,t._path,e,!0)}}class j0 extends cs{_apply(t){na(t,"orderByPriority");const e=Hu(t._queryParams,Qt);return Qa(e),new ii(t._repo,t._path,e,!0)}}class $0 extends cs{_apply(t){na(t,"orderByValue");const e=Hu(t._queryParams,Fl);return Qa(e),new ii(t._repo,t._path,e,!0)}}class rc extends cs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(_o("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new k0(this._value,this._key)._apply(new dg(this._value,this._key)._apply(t))}}function $r(i,...t){let e=(0,O.m9)(i);for(const o of t)e=o._apply(e);return e}(function Tp(i){(0,O.hu)(!Vl,"__referenceConstructor has already been defined"),Vl=i})(ls),function Mp(i){(0,O.hu)(!Fh,"__referenceConstructor has already been defined"),Fh=i}(ls);const fg={};function ic(i,t,e,o,l){let d=o||i.options.databaseURL;void 0===d&&(i.options.projectId||Ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hn("Using default host for project ",i.options.projectId),d=`${i.options.projectId}-default-rtdb.firebaseio.com`);let b,R,p=ig(d,l),E=p.repoInfo;"undefined"!=typeof process&&(R=process.env.FIREBASE_DATABASE_EMULATOR_HOST),R?(b=!0,d=`http://${R}?ns=${E.namespace}`,p=ig(d,l),E=p.repoInfo):b=!p.repoInfo.secure;const U=l&&b?new lo(lo.OWNER):new pr(i.name,i.options,t);zp("Invalid Firebase Database URL",p),Ct(p.path)||Ii("Database URL must point to the root of a Firebase Database (not including a child path).");const F=function Zl(i,t,e,o){let l=fg[t.name];l||(l={},fg[t.name]=l);let d=l[i.toURLString()];return d&&Ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new E0(i,false,e,o),l[i.toURLString()]=d,d}(E,i,U,new Tl(i.name,e));return new ds(F,i)}class ds{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function C0(i,t,e){if(i.stats_=S(i.repoInfo_),i.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)i.server_=new m(i.repoInfo_,(o,l,d,p)=>{I_(i,o,l,d,p)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>hd(i,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,O.Pz)(e)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new Ua(i.repoInfo_,t,(o,l,d,p)=>{I_(i,o,l,d,p)},o=>{hd(i,o)},o=>{!function Kp(i,t){Nn(t,(e,o)=>{qp(i,e,o)})}(i,o)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=function k(i,t){const e=i.toString();return w[e]||(w[e]=t()),w[e]}(i.repoInfo_,()=>new Ke(i.stats_,i.server_)),i.infoData_=new c,i.infoSyncTree_=new u0({startListening:(o,l,d,p)=>{let E=[];const b=i.infoData_.getNode(o._path);return b.isEmpty()||(E=Lh(i.infoSyncTree_,o._path,b),setTimeout(()=>{p("ok")},0)),E},stopListening:()=>{}}),qp(i,"connected",!1),i.serverSyncTree_=new u0({startListening:(o,l,d,p)=>(i.server_.listen(o,d,l,(E,b)=>{const R=p(E,b);as(i.eventQueue_,o._path,R)}),[]),stopListening:(o,l)=>{i.server_.unlisten(o,l)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ls(this._repo,Ft())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function xr(i,t){const e=fg[t];(!e||e[i.key]!==i)&&Ii(`Database ${t}(${i.repoInfo_}) has already been deleted.`),Jp(i),delete e[i.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ii("Cannot call "+t+" on a deleted database.")}}function lc(i,t){Ms(i,t)}const cc={".sv":"timestamp"};class fc{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ua.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)},Ua.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)},function uc(i){Cu(Vr.SDK_VERSION),(0,Vr._registerComponent)(new dr.wA("database",(t,{instanceIdentifier:e})=>ic(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Vr.registerVersion)(kc,"0.12.6",i),(0,Vr.registerVersion)(kc,"0.12.6","esm2017")}();const V_=new oo.Yd("@firebase/database-compat"),pg=function(i){V_.warn("FIREBASE WARNING: "+i)};class K0{constructor(t){this._delegate=t}cancel(t){(0,O.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,O.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),o=>t(o)),e}remove(t){(0,O.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,O.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),o=>t(o)),e}set(t,e){(0,O.Dv)("OnDisconnect.set",1,2,arguments.length),(0,O.Wj)("OnDisconnect.set","onComplete",e,!0);const o=this._delegate.set(t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,O.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,O.Wj)("OnDisconnect.setWithPriority","onComplete",o,!0);const l=this._delegate.setWithPriority(t,e);return o&&l.then(()=>o(null),d=>o(d)),l}update(t,e){if((0,O.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,pg("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,O.Wj)("OnDisconnect.update","onComplete",e,!0);const o=this._delegate.update(t);return e&&o.then(()=>e(null),l=>e(l)),o}}class $_{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,O.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Xa{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,O.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,O.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,O.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,O.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,O.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),ud("DataSnapshot.child","path",t,!1),new Xa(this._database,this._delegate.child(t))}hasChild(t){return(0,O.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ud("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,O.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,O.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,O.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Xa(this._database,e)))}hasChildren(){return(0,O.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,O.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,O.Dv)("DataSnapshot.ref",0,0,arguments.length),new si(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class vr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,o,l){var d;(0,O.Dv)("Query.on",2,4,arguments.length),(0,O.Wj)("Query.on","callback",e,!1);const p=vr.getCancelAndContextArgs_("Query.on",o,l),E=(R,U)=>{e.call(p.context,new Xa(this.database,R),U)};E.userCallback=e,E.context=p.context;const b=null===(d=p.cancel)||void 0===d?void 0:d.bind(p.context);switch(t){case"value":return ug(this._delegate,E,b),e;case"child_added":return O0(this._delegate,E,b),e;case"child_removed":return P_(this._delegate,E,b),e;case"child_changed":return N0(this._delegate,E,b),e;case"child_moved":return Jh(this._delegate,E,b),e;default:throw new Error((0,O.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,o){if((0,O.Dv)("Query.off",0,3,arguments.length),function(i,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,O.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,O.Wj)("Query.off","callback",e,!0),(0,O.lb)("Query.off","context",o,!0),e){const l=()=>{};l.userCallback=e,l.context=o,cg(this._delegate,t,l)}else cg(this._delegate,t)}get(){return M_(this._delegate).then(t=>new Xa(this.database,t))}once(t,e,o,l){(0,O.Dv)("Query.once",1,4,arguments.length),(0,O.Wj)("Query.once","callback",e,!0);const d=vr.getCancelAndContextArgs_("Query.once",o,l),p=new O.BH,E=(R,U)=>{const F=new Xa(this.database,R);e&&e.call(d.context,F,U),p.resolve(F)};E.userCallback=e,E.context=d.context;const b=R=>{d.cancel&&d.cancel.call(d.context,R),p.reject(R)};switch(t){case"value":ug(this._delegate,E,b,{onlyOnce:!0});break;case"child_added":O0(this._delegate,E,b,{onlyOnce:!0});break;case"child_removed":P_(this._delegate,E,b,{onlyOnce:!0});break;case"child_changed":N0(this._delegate,E,b,{onlyOnce:!0});break;case"child_moved":Jh(this._delegate,E,b,{onlyOnce:!0});break;default:throw new Error((0,O.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return p.promise}limitToFirst(t){return(0,O.Dv)("Query.limitToFirst",1,1,arguments.length),new vr(this.database,$r(this._delegate,function N_(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new EI(i)}(t)))}limitToLast(t){return(0,O.Dv)("Query.limitToLast",1,1,arguments.length),new vr(this.database,$r(this._delegate,function L0(i){if("number"!=typeof i||Math.floor(i)!==i||i<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new k_(i)}(t)))}orderByChild(t){return(0,O.Dv)("Query.orderByChild",1,1,arguments.length),new vr(this.database,$r(this._delegate,function U0(i){if("$key"===i)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===i)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===i)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ud("orderByChild","path",i,!1),new hg(i)}(t)))}orderByKey(){return(0,O.Dv)("Query.orderByKey",0,0,arguments.length),new vr(this.database,$r(this._delegate,function V0(){return new B0}()))}orderByPriority(){return(0,O.Dv)("Query.orderByPriority",0,0,arguments.length),new vr(this.database,$r(this._delegate,function H0(){return new j0}()))}orderByValue(){return(0,O.Dv)("Query.orderByValue",0,0,arguments.length),new vr(this.database,$r(this._delegate,function Xh(){return new $0}()))}startAt(t=null,e){return(0,O.Dv)("Query.startAt",0,2,arguments.length),new vr(this.database,$r(this._delegate,function x_(i=null,t){return ec("startAt","key",t,!0),new dg(i,t)}(t,e)))}startAfter(t=null,e){return(0,O.Dv)("Query.startAfter",0,2,arguments.length),new vr(this.database,$r(this._delegate,function F0(i,t){return ec("startAfter","key",t,!0),new O_(i,t)}(t,e)))}endAt(t=null,e){return(0,O.Dv)("Query.endAt",0,2,arguments.length),new vr(this.database,$r(this._delegate,function js(i,t){return ec("endAt","key",t,!0),new k0(i,t)}(t,e)))}endBefore(t=null,e){return(0,O.Dv)("Query.endBefore",0,2,arguments.length),new vr(this.database,$r(this._delegate,function vI(i,t){return ec("endBefore","key",t,!0),new yI(i,t)}(t,e)))}equalTo(t,e){return(0,O.Dv)("Query.equalTo",1,2,arguments.length),new vr(this.database,$r(this._delegate,function W0(i,t){return ec("equalTo","key",t,!0),new rc(i,t)}(t,e)))}toString(){return(0,O.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,O.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,O.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof vr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,o){const l={cancel:void 0,context:void 0};if(e&&o)l.cancel=e,(0,O.Wj)(t,"cancel",l.cancel,!0),l.context=o,(0,O.lb)(t,"context",l.context,!0);else if(e)if("object"==typeof e&&null!==e)l.context=e;else{if("function"!=typeof e)throw new Error((0,O.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");l.cancel=e}return l}get ref(){return new si(this.database,new ls(this._delegate._repo,this._delegate._path))}}class si extends vr{constructor(t,e){super(t,new ii(e._repo,e._path,new Vu,!1)),this.database=t,this._delegate=e}getKey(){return(0,O.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,O.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new si(this.database,Ja(this._delegate,t))}getParent(){(0,O.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new si(this.database,t):null}getRoot(){return(0,O.Dv)("Reference.root",0,0,arguments.length),new si(this.database,this._delegate.root)}set(t,e){(0,O.Dv)("Reference.set",1,2,arguments.length),(0,O.Wj)("Reference.set","onComplete",e,!0);const o=ag(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}update(t,e){if((0,O.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const l={};for(let d=0;d<t.length;++d)l[""+d]=t[d];t=l,pg("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ri("Reference.update",this._delegate._path),(0,O.Wj)("Reference.update","onComplete",e,!0);const o=x0(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}setWithPriority(t,e,o){(0,O.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,O.Wj)("Reference.setWithPriority","onComplete",o,!0);const l=function P0(i,t,e){if(Ri("setWithPriority",i._path),_o("setWithPriority",t,i._path,!1),Gp("setWithPriority",e,!1),".length"===i.key||".keys"===i.key)throw"setWithPriority failed: "+i.key+" is a read-only object.";const o=new O.BH;return Gh(i._repo,i._path,t,e,o.wrapCallback(()=>{})),o.promise}(this._delegate,t,e);return o&&l.then(()=>o(null),d=>o(d)),l}remove(t){(0,O.Dv)("Reference.remove",0,1,arguments.length),(0,O.Wj)("Reference.remove","onComplete",t,!0);const e=function R_(i){return Ri("remove",i._path),ag(i,null)}(this._delegate);return t&&e.then(()=>t(null),o=>t(o)),e}transaction(t,e,o){(0,O.Dv)("Reference.transaction",1,3,arguments.length),(0,O.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,O.Wj)("Reference.transaction","onComplete",e,!0),function(i,t,e,o){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,O.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,o);const l=function L_(i,t,e){var o;if(i=(0,O.m9)(i),Ri("Reference.transaction",i._path),".length"===i.key||".keys"===i.key)throw"Reference.transaction failed: "+i.key+" is a read-only object.";const l=null===(o=null==e?void 0:e.applyLocally)||void 0===o||o,d=new O.BH,E=ug(i,()=>{});return function T0(i,t,e,o,l,d){ri(i,"transaction on "+t);const p={path:t,update:e,onComplete:o,status:null,order:Ci(),applyLocally:d,retryCount:0,unwatcher:l,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},E=Xp(i,t,void 0);p.currentInputSnapshot=E;const b=p.update(E.val());if(void 0===b)p.unwatcher(),p.currentOutputSnapshotRaw=null,p.currentOutputSnapshotResolved=null,p.onComplete&&p.onComplete(null,!1,p.currentInputSnapshot);else{ld("transaction failed: Data returned ",b,p.path),p.status=0;const R=od(i.transactionQueueTree_,t),U=Ju(R)||[];let F;U.push(p),Hh(R,U),"object"==typeof b&&null!==b&&(0,O.r3)(b,".priority")?(F=(0,O.DV)(b,".priority"),(0,O.hu)(Xu(F),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):F=(Zu(i.serverSyncTree_,t)||ct.EMPTY_NODE).getPriority().val();const Y=dd(i),pe=an(b,F),Me=jh(pe,E,Y);p.currentOutputSnapshotRaw=pe,p.currentOutputSnapshotResolved=Me,p.currentWriteId=tc(i);const at=g_(i.serverSyncTree_,t,Me,p.currentWriteId,p.applyLocally);as(i.eventQueue_,t,at),eg(i,i.transactionQueueTree_)}}(i._repo,i._path,t,(b,R,U)=>{let F=null;b?d.reject(b):(F=new zl(U,new ls(i._repo,i._path),Qt),d.resolve(new fc(R,F)))},E,l),d.promise}(this._delegate,t,{applyLocally:o}).then(d=>new $_(d.committed,new Xa(this.database,d.snapshot)));return e&&l.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),l}setPriority(t,e){(0,O.Dv)("Reference.setPriority",1,2,arguments.length),(0,O.Wj)("Reference.setPriority","onComplete",e,!0);const o=function M0(i,t){i=(0,O.m9)(i),Ri("setPriority",i._path),Gp("setPriority",t,!1);const e=new O.BH;return Gh(i._repo,on(i._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&o.then(()=>e(null),l=>e(l)),o}push(t,e){(0,O.Dv)("Reference.push",0,2,arguments.length),(0,O.Wj)("Reference.push","onComplete",e,!0);const o=function S_(i,t){i=(0,O.m9)(i),Ri("push",i._path),_o("push",t,i._path,!0);const e=Wh(i._repo),o=Eh(e),l=Ja(i,o),d=Ja(i,o);let p;return p=null!=t?ag(d,t).then(()=>d):Promise.resolve(d),l.then=p.then.bind(p),l.catch=p.then.bind(p,void 0),l}(this._delegate,t),l=o.then(p=>new si(this.database,p));e&&l.then(()=>e(null),p=>e(p));const d=new si(this.database,o);return d.then=l.then.bind(l),d.catch=l.catch.bind(l,void 0),d}onDisconnect(){return Ri("Reference.onDisconnect",this._delegate._path),new K0(new A_(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class md{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,o={}){!function sc(i,t,e,o={}){(i=(0,O.m9)(i))._checkNotDeleted("useEmulator"),i._instanceStarted&&Ii("Cannot call useEmulator() after instance has already been initialized.");const l=i._repoInternal;let d;if(l.repoInfo_.nodeAdmin)o.mockUserToken&&Ii('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new lo(lo.OWNER);else if(o.mockUserToken){const p="string"==typeof o.mockUserToken?o.mockUserToken:(0,O.Sg)(o.mockUserToken,i.app.options.projectId);d=new lo(p)}!function yo(i,t,e,o){i.repoInfo_=new Uo(`${t}:${e}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams),o&&(i.authTokenProvider_=o)}(l,t,e,d)}(this._delegate,t,e,o)}ref(t){if((0,O.Dv)("database.ref",0,1,arguments.length),t instanceof si){const e=Qh(this._delegate,t.toString());return new si(this,e)}{const e=us(this._delegate,t);return new si(this,e)}}refFromURL(t){(0,O.Dv)("database.refFromURL",1,1,arguments.length);const o=Qh(this._delegate,t);return new si(this,o)}goOffline(){return(0,O.Dv)("database.goOffline",0,0,arguments.length),function oc(i){(i=(0,O.m9)(i))._checkNotDeleted("goOffline"),Jp(i._repo)}(this._delegate)}goOnline(){return(0,O.Dv)("database.goOnline",0,0,arguments.length),function ac(i){(i=(0,O.m9)(i))._checkNotDeleted("goOnline"),function D_(i){i.persistentConnection_&&i.persistentConnection_.resume(Zp)}(i._repo)}(this._delegate)}}md.ServerValue={TIMESTAMP:function dc(){return cc}(),increment:i=>function hc(i){return{".sv":{increment:i}}}(i)};var W_=Object.freeze({__proto__:null,initStandalone:function q0({app:i,url:t,version:e,customAuthImpl:o,namespace:l,nodeAdmin:d=!1}){Cu(e);const p=new dr.zt("auth-internal",new dr.H0("database-standalone"));return p.setComponent(new dr.wA("auth-internal",()=>o,"PRIVATE")),{instance:new md(ic(i,p,void 0,t,d),i),namespace:l}}});const Y0=md.ServerValue;!function G_(i){i.INTERNAL.registerComponent(new dr.wA("database-compat",(t,{instanceIdentifier:e})=>{const o=t.getProvider("app-compat").getImmediate(),l=t.getProvider("database").getImmediate({identifier:e});return new md(l,o)},"PUBLIC").setServiceProps({Reference:si,Query:vr,Database:md,DataSnapshot:Xa,enableLogging:lc,INTERNAL:W_,ServerValue:Y0}).setMultipleInstances(!0)),i.registerVersion("@firebase/database-compat","0.1.6")}(Dl.Z);var el=P(7579),nf=P(5363),CI=P(6063);class Q0 extends el.x{constructor(t=1/0,e=1/0,o=CI.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:d,_windowTime:p}=this;e||(o.push(t),!l&&o.push(d.now()+p)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:l}=this,d=l.slice();for(let p=0;p<d.length&&!t.closed;p+=o?1:2)t.next(d[p]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:l}=this,d=(l?1:2)*t;if(t<1/0&&d<o.length&&o.splice(0,o.length-d),!l){const p=e.now();let E=0;for(let b=1;b<o.length&&o[b]<=p;b+=2)E=b;E&&o.splice(0,E+1)}}}function rf(i,t,e){let o,l=!1;return i&&"object"==typeof i?({bufferSize:o=1/0,windowTime:t=1/0,refCount:l=!1,scheduler:e}=i):o=null!=i?i:1/0,(0,Wt.B)({connector:()=>new Q0(o,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}const sf=(0,P(3888).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function pc(i,t){return(0,nn.e)((e,o)=>{let l=0;e.subscribe((0,Tn.x)(o,d=>i.call(t,d,l++)&&o.next(d)))})}var z_=P(5698);function J0(i){return(0,nn.e)((t,e)=>{let o=!1;t.subscribe((0,Tn.x)(e,l=>{o=!0,e.next(l)},()=>{o||e.next(i),e.complete()}))})}function Z_(i=K_){return(0,nn.e)((t,e)=>{let o=!1;t.subscribe((0,Tn.x)(e,l=>{o=!0,e.next(l)},()=>o?e.complete():e.error(i())))})}function K_(){return new sf}function gc(i,t){const e=arguments.length>=2;return o=>o.pipe(i?pc((l,d)=>i(l,d,o)):Qi.y,(0,z_.q)(1),e?J0(t):Z_(()=>new sf))}var mg=P(576);function Kl(i,t){return(0,mg.m)(t)?rn(()=>i,t):rn(()=>i)}var _g=P(9468);P(5867);const J_=new Map,TI={activated:!1,tokenObservers:[]},_d={initialized:!1,enabled:!1};function Jn(i){return J_.get(i)||TI}function Pi(i,t){J_.set(i,t)}function mc(){return _d}class Ig{constructor(t,e,o,l,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=o,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,vi.Z)(function*(){e.stop();try{e.pending=new O.BH,yield function wg(i){return new Promise(t=>{setTimeout(t,i)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new O.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(o){e.retryPolicy(o)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Or=new O.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bg(i){if(!Jn(i).activated)throw Or.create("use-before-activation",{appName:i.name})}function Dg(i,t){return cf.apply(this,arguments)}function cf(){return(cf=(0,vi.Z)(function*({url:i,body:t},e){const o={"Content-Type":"application/json"},l=e.getImmediate({optional:!0});if(l){const F=yield l.getHeartbeatsHeader();F&&(o["X-Firebase-Client"]=F)}const d={method:"POST",body:JSON.stringify(t),headers:o};let p,E;try{p=yield fetch(i,d)}catch(F){throw Or.create("fetch-network-error",{originalErrorMessage:F.message})}if(200!==p.status)throw Or.create("fetch-status-error",{httpStatus:p.status});try{E=yield p.json()}catch(F){throw Or.create("fetch-parse-error",{originalErrorMessage:F.message})}const b=E.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Or.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${E.ttl}`});const R=1e3*Number(b[1]),U=Date.now();return{token:E.attestationToken,expireTimeMillis:U+R,issuedAtTimeMillis:U}})).apply(this,arguments)}function ny(i,t){const{projectId:e,appId:o,apiKey:l}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${o}:exchangeDebugToken?key=${l}`,body:{debug_token:t}}}const Ed="firebase-app-check-store";let yc=null;function Sg(){return yc||(yc=new Promise((i,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=o=>{i(o.target.result)},e.onerror=o=>{var l;t(Or.create("storage-open",{originalErrorMessage:null===(l=o.target.error)||void 0===l?void 0:l.message}))},e.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Ed,{keyPath:"compositeKey"})}}catch(e){t(Or.create("storage-open",{originalErrorMessage:e.message}))}}),yc)}function df(){return(df=(0,vi.Z)(function*(i,t){const o=(yield Sg()).transaction(Ed,"readwrite"),d=o.objectStore(Ed).put({compositeKey:i,value:t});return new Promise((p,E)=>{d.onsuccess=b=>{p()},o.onerror=b=>{var R;E(Or.create("storage-set",{originalErrorMessage:null===(R=b.target.error)||void 0===R?void 0:R.message}))}})})).apply(this,arguments)}const Cd=new oo.Yd("@firebase/app-check");function jn(i,t){return(0,O.hl)()?function iy(i,t){return function Rg(i,t){return df.apply(this,arguments)}(function ly(i){return`${i.options.appId}-${i.name}`}(i),t)}(i,t).catch(e=>{Cd.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function dy(){return mc().enabled}function Og(){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,vi.Z)(function*(){const i=mc();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fy={error:"UNKNOWN_ERROR"};function vc(i){return O.US.encodeString(JSON.stringify(i),!1)}function hf(i){return kg.apply(this,arguments)}function kg(){return(kg=(0,vi.Z)(function*(i,t=!1){const e=i.app;bg(e);const o=Jn(e);let d,l=o.token;if(!l){const b=yield o.cachedTokenPromise;b&&Id(b)&&(l=b)}if(!t&&l&&Id(l))return{token:l.token};let E,p=!1;if(dy()){o.exchangeTokenPromise||(o.exchangeTokenPromise=Dg(ny(e,yield Og()),i.heartbeatServiceProvider).then(R=>(o.exchangeTokenPromise=void 0,R)),p=!0);const b=yield o.exchangeTokenPromise;return yield jn(e,b),Pi(e,Object.assign(Object.assign({},o),{token:b})),{token:b.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(b=>(o.exchangeTokenPromise=void 0,b)),p=!0),l=yield o.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?Cd.warn(b.message):Cd.error(b),d=b}return l?(E={token:l.token},Pi(e,Object.assign(Object.assign({},o),{token:l})),yield jn(e,l)):E=vo(d),p&&Ug(e,E),E})).apply(this,arguments)}function Fg(i,t){const e=Jn(i),o=e.tokenObservers.filter(l=>l.next!==t);0===o.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Pi(i,Object.assign(Object.assign({},e),{tokenObservers:o}))}function Lg(i){const{app:t}=i,e=Jn(t);let o=e.tokenRefresher;o||(o=function AI(i){const{app:t}=i;return new Ig((0,vi.Z)(function*(){let o;if(o=Jn(t).token?yield hf(i,!0):yield hf(i),o.error)throw o.error}),()=>!0,()=>{const e=Jn(t);if(e.token){let o=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,e.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(i),Pi(t,Object.assign(Object.assign({},e),{tokenRefresher:o}))),!o.isRunning()&&e.isTokenAutoRefreshEnabled&&o.start()}function Ug(i,t){const e=Jn(i).tokenObservers;for(const o of e)try{"EXTERNAL"===o.type&&null!=t.error?o.error(t.error):o.next(t)}catch(l){}}function Id(i){return i.expireTimeMillis-Date.now()>0}function vo(i){return{token:vc(fy),error:i}}class uE{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Jn(this.app);for(const e of t)Fg(this.app,e.next);return Promise.resolve()}}const Wg="app-check-internal";!function Ey(){(0,Vr._registerComponent)(new dr.wA("app-check",i=>function cE(i,t){return new uE(i,t)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,t,e)=>{i.getProvider(Wg).initialize()})),(0,Vr._registerComponent)(new dr.wA(Wg,i=>function Eo(i){return{getToken:t=>hf(i,t),addTokenListener:t=>function ff(i,t,e,o){const{app:l}=i,d=Jn(l),p={next:e,error:o,type:t};if(Pi(l,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,p]})),d.token&&Id(d.token)){const E=d.token;Promise.resolve().then(()=>{e({token:E.token}),Lg(i)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Lg(i))}(i,"INTERNAL",t),removeTokenListener:t=>Fg(i.app,t)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vr.registerVersion)("@firebase/app-check","0.5.4")}();class zg{constructor(){return(0,sn.vb)("app-check")}}"undefined"!=typeof window&&window;var IE=P(127);const Kg=new g.OlP("angularfire2.auth.use-emulator"),qg=new g.OlP("angularfire2.auth.settings"),Yg=new g.OlP("angularfire2.auth.tenant-id"),Qg=new g.OlP("angularfire2.auth.langugage-code"),Jg=new g.OlP("angularfire2.auth.use-device-language"),Xg=new g.OlP("angularfire.auth.persistence"),em=(i,t,e,o,l,d,p,E)=>(0,_i.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const b=t.runOutsideAngular(()=>i.auth());if(e&&b.useEmulator(...e),o&&(b.tenantId=o),b.languageCode=l,d&&b.useDeviceLanguage(),p)for(const[R,U]of Object.entries(p))b.settings[R]=U;return E&&b.setPersistence(E),b},[e,o,l,d,p,E]);let tm=(()=>{class i{constructor(e,o,l,d,p,E,b,R,U,F,Y,pe){const Me=new el.x,at=et(void 0).pipe((0,nf.Q)(p.outsideAngular),rn(()=>d.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,2092)))),(0,St.U)(()=>(0,_i.on)(e,d,o)),(0,St.U)(Mt=>em(Mt,d,E,R,U,F,b,Y)),rf({bufferSize:1,refCount:!1}));if(function Gn(i){return"server"===i}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{at.pipe(gc()).subscribe();const Rn=at.pipe(rn(_n=>_n.getRedirectResult().then(xi=>xi,()=>null)),sn.iC,rf({bufferSize:1,refCount:!1})),Xt=at.pipe(rn(_n=>new Yr.y(xi=>({unsubscribe:d.runOutsideAngular(()=>_n.onAuthStateChanged(ol=>xi.next(ol),ol=>xi.error(ol),()=>xi.complete()))})))),kr=at.pipe(rn(_n=>new Yr.y(xi=>({unsubscribe:d.runOutsideAngular(()=>_n.onIdTokenChanged(ol=>xi.next(ol),ol=>xi.error(ol),()=>xi.complete()))}))));this.authState=Rn.pipe(Kl(Xt),(0,_g.R)(p.outsideAngular),(0,nf.Q)(p.insideAngular)),this.user=Rn.pipe(Kl(kr),(0,_g.R)(p.outsideAngular),(0,nf.Q)(p.insideAngular)),this.idToken=this.user.pipe(rn(_n=>_n?(0,Cn.D)(_n.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(rn(_n=>_n?(0,Cn.D)(_n.getIdTokenResult()):et(null))),this.credential=(0,Yi.T)(Rn,Me,this.authState.pipe(pc(_n=>!_n))).pipe((0,St.U)(_n=>(null==_n?void 0:_n.user)?_n:null),(0,_g.R)(p.outsideAngular),(0,nf.Q)(p.insideAngular))}return(0,_i.pX)(this,at,d,{spy:{apply:(Mt,Rn,Xt)=>{(Mt.startsWith("signIn")||Mt.startsWith("createUser"))&&Xt.then(kr=>Me.next(kr))}}})}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(_i.Dh),g.LFG(_i.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(sn.HU),g.LFG(Kg,8),g.LFG(qg,8),g.LFG(Yg,8),g.LFG(Qg,8),g.LFG(Jg,8),g.LFG(Xg,8),g.LFG(zg,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function tl(i){return null==i}function wy(i){return"function"==typeof i.set}function by(i,t){return wy(t)?t:i.ref(t)}function Yl(i,t){if(function Cy(i){return"string"==typeof i}(i))return t.stringCase();if(wy(i))return t.firebaseCase();if(function Iy(i){return"function"==typeof i.exportVal}(i))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof i)}function _f(i,t,e="on",o=qn.z){return new Yr.y(l=>{let d=null;return d=i[e](t,(p,E)=>{o.schedule(()=>{l.next({snapshot:p,prevKey:E})}),"once"===e&&o.schedule(()=>l.complete())},p=>{o.schedule(()=>l.error(p))}),"on"===e?{unsubscribe(){null!=d&&i.off(t,d)}}:{unsubscribe(){}}}).pipe((0,St.U)(l=>{const{snapshot:d,prevKey:p}=l;let E=null;return d.exists()&&(E=d.key),{type:t,payload:d,prevKey:p,key:E}}),(0,Wt.B)())}function DE(i,t){const e=i.length;for(let o=0;o<e;o++)if(i[o].payload.key===t)return o;return-1}function Ty(i,t){const{payload:e,prevKey:o,key:l}=t,d=DE(i,l),p=function Dy(i,t){if(tl(t))return 0;{const e=DE(i,t);return-1===e?i.length:e+1}}(i,o);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let E=null;t.payload.forEach(b=>{const R={payload:b,type:"value",prevKey:E,key:b.key};return E=b.key,i=[...i,R],!1})}return i;case"child_added":if(d>-1){const E=i[d-1];(E&&E.key||null)!==o&&(i=i.filter(b=>b.payload.key!==e.key)).splice(p,0,t)}else{if(null==o)return[t,...i];(i=i.slice()).splice(p,0,t)}return i;case"child_removed":return i.filter(E=>E.payload.key!==e.key);case"child_changed":return i.map(E=>E.payload.key===l?t:E);case"child_moved":if(d>-1){const E=i.splice(d,1)[0];return(i=i.slice()).splice(p,0,E),i}return i;default:return i}}function TE(i){return(tl(i)||0===i.length)&&(i=["child_added","child_removed","child_changed","child_moved"]),i}function rt(i,t,e){return function nm(i,t,e){return _f(i,"value","once",e).pipe(rn(o=>{const l=[et(o)];return t.forEach(d=>l.push(_f(i,d,"on",e))),(0,Yi.T)(...l).pipe(No(Ty,[]))}),function Nc(i,t=Qi.y){return i=null!=i?i:no,(0,nn.e)((e,o)=>{let l,d=!0;e.subscribe((0,Tn.x)(o,p=>{const E=t(p);(d||!i(l,E))&&(d=!1,l=E,o.next(p))}))})}())}(i,t=TE(t),e)}function Ay(i,t,e){const o=(t=TE(t)).map(l=>_f(i,l,"on",e));return(0,Yi.T)(...o)}function Sy(i,t){return function(o,l){return Yl(o,{stringCase:()=>i.child(o)[t](l),firebaseCase:()=>o[t](l),snapshotCase:()=>o.ref[t](l)})}}function vf(i){return function(e){return e?Yl(e,{stringCase:()=>i.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):i.remove()}}function wn(i,t){return function(){return _f(i,"value","on",t)}}const Ry=new g.OlP("angularfire2.realtimeDatabaseURL"),RE=new g.OlP("angularfire2.database.use-emulator");let Dd=(()=>{class i{constructor(e,o,l,d,p,E,b,R,U,F,Y,pe,Me,at,Mt){this.schedulers=E;const Rn=b,Xt=(0,_i.on)(e,p,o);R&&em(Xt,p,U,Y,pe,Me,F,at),this.database=(0,_i.cc)(`${Xt.name}.database.${l}`,"AngularFireDatabase",Xt.name,()=>{const kr=p.runOutsideAngular(()=>Xt.database(l||void 0));return Rn&&kr.useEmulator(...Rn),kr},[Rn])}list(e,o){const l=this.schedulers.ngZone.runOutsideAngular(()=>by(this.database,e));let d=l;return o&&(d=o(l)),function Ef(i,t){const e=t.schedulers.outsideAngular,o=t.schedulers.ngZone.run(()=>i.ref);return{query:i,update:Sy(o,"update"),set:Sy(o,"set"),push:l=>o.push(l),remove:vf(o),snapshotChanges:l=>rt(i,l,e).pipe(sn.iC),stateChanges:l=>Ay(i,l,e).pipe(sn.iC),auditTrail:l=>function AE(i,t,e){return function yf(i,t,e){return function SE(i,t){return _f(i,"value","on",t).pipe((0,St.U)(e=>{let o;return e.payload.forEach(l=>(o=l.key,!1)),{data:e,lastKeyToLoad:o}}))}(i,e).pipe(function yi(...i){const t=(0,tr.jO)(i);return(0,nn.e)((e,o)=>{const l=i.length,d=new Array(l);let p=i.map(()=>!1),E=!1;for(let b=0;b<l;b++)(0,Aa.Xf)(i[b]).subscribe((0,Tn.x)(o,R=>{d[b]=R,!E&&!p[b]&&(p[b]=!0,(E=p.every(Qi.y))&&(p=null))},ro.Z));e.subscribe((0,Tn.x)(o,b=>{if(E){const R=[b,...d];o.next(t?t(...R):R)}}))})}(t),(0,St.U)(([l,d])=>{const p=l.lastKeyToLoad,E=d.map(b=>b.key);return{actions:d,lastKeyToLoad:p,loadedKeys:E}}),function io(i){return(0,nn.e)((t,e)=>{let o=!1,l=0;t.subscribe((0,Tn.x)(e,d=>(o||(o=!i(d,l++)))&&e.next(d)))})}(l=>-1===l.loadedKeys.indexOf(l.lastKeyToLoad)),(0,St.U)(l=>l.actions))}(i,Ay(i,t).pipe(No((l,d)=>[...l,d],[])),e)}(i,l,e).pipe(sn.iC),valueChanges:(l,d)=>rt(i,l,e).pipe((0,St.U)(E=>E.map(b=>d&&d.idField?Object.assign(Object.assign({},b.payload.val()),{[d.idField]:b.key}):b.payload.val())),sn.iC)}}(d,this)}object(e){return function UI(i,t){return{query:i,snapshotChanges:()=>wn(i,t.schedulers.outsideAngular)().pipe(sn.iC),update:e=>i.ref.update(e),set:e=>i.ref.set(e),remove:()=>i.ref.remove(),valueChanges:()=>wn(i,t.schedulers.outsideAngular)().pipe(sn.iC,(0,St.U)(o=>o.payload.exists()?o.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>by(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(_i.Dh),g.LFG(_i.xv,8),g.LFG(Ry,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(sn.HU),g.LFG(RE,8),g.LFG(tm,8),g.LFG(Kg,8),g.LFG(qg,8),g.LFG(Yg,8),g.LFG(Qg,8),g.LFG(Jg,8),g.LFG(Xg,8),g.LFG(zg,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),My=(()=>{class i{constructor(){IE.Z.registerVersion("angularfire",sn.q4.full,"rtdb-compat")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[Dd]}),i})();class hs extends el.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:o}=this;if(t)throw e;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}}const{isArray:Py}=Array,{getPrototypeOf:xy,prototype:ME,keys:PE}=Object;const{isArray:OE}=Array;var Oy=P(9672);function Ny(...i){const t=(0,tr.yG)(i),e=(0,tr.jO)(i),{args:o,keys:l}=function xE(i){if(1===i.length){const t=i[0];if(Py(t))return{args:t,keys:null};if(function Td(i){return i&&"object"==typeof i&&xy(i)===ME}(t)){const e=PE(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:i,keys:null}}(i);if(0===o.length)return(0,Cn.D)([],t);const d=new Yr.y(function ky(i,t,e=Qi.y){return o=>{Fy(t,()=>{const{length:l}=i,d=new Array(l);let p=l,E=l;for(let b=0;b<l;b++)Fy(t,()=>{const R=(0,Cn.D)(i[b],t);let U=!1;R.subscribe((0,Tn.x)(o,F=>{d[b]=F,U||(U=!0,E--),E||o.next(e(d.slice()))},()=>{--p||o.complete()}))},o)},o)}}(o,t,l?p=>function Cf(i,t){return i.reduce((e,o,l)=>(e[o]=t[l],e),{})}(l,p):Qi.y));return e?d.pipe(function kE(i){return(0,St.U)(t=>function NE(i,t){return OE(t)?i(...t):i(t)}(i,t))}(e)):d}function Fy(i,t,e){i?(0,Oy.f)(e,i,t):t()}function nl(i,t){const e=(0,mg.m)(i)?i:()=>i,o=l=>l.error(e());return new Yr.y(t?l=>t.schedule(o,0,l):o)}var rl=P(8189);function rm(...i){return function FE(){return(0,rl.J)(1)}()((0,Cn.D)(i,(0,tr.yG)(i)))}function Ly(i){return new Yr.y(t=>{(0,Aa.Xf)(i()).subscribe(t)})}var Ql=P(515),im=P(727);function sm(){return(0,nn.e)((i,t)=>{let e=null;i._refCount++;const o=(0,Tn.x)(t,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(e=null);const l=i._connection,d=e;e=null,l&&(!d||l===d)&&l.unsubscribe(),t.unsubscribe()});i.subscribe(o),o.closed||(e=i.connect())})}class LE extends Yr.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,nn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new im.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Tn.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=im.w0.EMPTY)}return t}refCount(){return sm()(this)}}function il(i){return(0,nn.e)((t,e)=>{let d,o=null,l=!1;o=t.subscribe((0,Tn.x)(e,void 0,void 0,p=>{d=(0,Aa.Xf)(i(p,il(i)(t))),o?(o.unsubscribe(),o=null,d.subscribe(e)):l=!0})),l&&(o.unsubscribe(),o=null,d.subscribe(e))})}var Nr=P(5577);function If(i,t){return(0,mg.m)(t)?(0,Nr.z)(i,t,1):(0,Nr.z)(i,1)}function By(i){return i<=0?()=>Ql.E:(0,nn.e)((t,e)=>{let o=[];t.subscribe((0,Tn.x)(e,l=>{o.push(l),i<o.length&&o.shift()},()=>{for(const l of o)e.next(l);e.complete()},void 0,()=>{o=null}))})}var fs=P(8505);class ps{constructor(t,e){this.id=t,this.url=e}}class om extends ps{constructor(t,e,o="imperative",l=null){super(t,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ad extends ps{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class am extends ps{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sd extends ps{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class UE extends ps{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BE extends ps{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VE extends ps{constructor(t,e,o,l,d){super(t,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jE extends ps{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class HE extends ps{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lm{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jy{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $E{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ec{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class WE{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hy{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $y{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Tt="primary";class GE{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Jl(i){return new GE(i)}const Wy="ngNavigationCancelingError";function Rd(i){const t=Error("NavigationCancelingError: "+i);return t[Wy]=!0,t}function Gy(i,t,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<i.length))return null;const l={};for(let d=0;d<o.length;d++){const p=o[d],E=i[d];if(p.startsWith(":"))l[p.substring(1)]=E;else if(p!==E.path)return null}return{consumed:i.slice(0,o.length),posParams:l}}function Co(i,t){const e=i?Object.keys(i):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let d=0;d<e.length;d++)if(l=e[d],!Zy(i[l],t[l]))return!1;return!0}function Zy(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),o=[...t].sort();return e.every((l,d)=>o[d]===l)}return i===t}function Ky(i){return Array.prototype.concat.apply([],i)}function wf(i){return i.length>0?i[i.length-1]:null}function rr(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function Io(i){return(0,g.CqO)(i)?i:(0,g.QGY)(i)?(0,Cn.D)(Promise.resolve(i)):et(i)}const KE={exact:function Qy(i,t,e){if(!eu(i.segments,t.segments)||!bf(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!i.children[o]||!Qy(i.children[o],t.children[o],e))return!1;return!0},subset:um},qy={exact:function qE(i,t){return Co(i,t)},subset:function YE(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>Zy(i[e],t[e]))},ignored:()=>!0};function Yy(i,t,e){return KE[e.paths](i.root,t.root,e.matrixParams)&&qy[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function um(i,t,e){return cm(i,t,t.segments,e)}function cm(i,t,e,o){if(i.segments.length>e.length){const l=i.segments.slice(0,e.length);return!(!eu(l,e)||t.hasChildren()||!bf(l,e,o))}if(i.segments.length===e.length){if(!eu(i.segments,e)||!bf(i.segments,e,o))return!1;for(const l in t.children)if(!i.children[l]||!um(i.children[l],t.children[l],o))return!1;return!0}{const l=e.slice(0,i.segments.length),d=e.slice(i.segments.length);return!!(eu(i.segments,l)&&bf(i.segments,l,o)&&i.children[Tt])&&cm(i.children[Tt],t,d,o)}}function bf(i,t,e){return t.every((o,l)=>qy[e](i[l].parameters,o.parameters))}class Xl{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jl(this.queryParams)),this._queryParamMap}toString(){return fm.serialize(this)}}class Rt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,rr(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tf(this)}}class Md{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Jl(this.parameters)),this._parameterMap}toString(){return gm(this)}}function eu(i,t){return i.length===t.length&&i.every((e,o)=>e.path===t[o].path)}class Df{}class hm{parse(t){const e=new Xy(t);return new Xl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Pd(t.root,!0)}`,o=function XE(i){const t=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(l=>`${Sf(e)}=${Sf(l)}`).join("&"):`${Sf(e)}=${Sf(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${o}${"string"==typeof t.fragment?`#${function JE(i){return encodeURI(i)}(t.fragment)}`:""}`}}const fm=new hm;function Tf(i){return i.segments.map(t=>gm(t)).join("/")}function Pd(i,t){if(!i.hasChildren())return Tf(i);if(t){const e=i.children[Tt]?Pd(i.children[Tt],!1):"",o=[];return rr(i.children,(l,d)=>{d!==Tt&&o.push(`${d}:${Pd(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function dm(i,t){let e=[];return rr(i.children,(o,l)=>{l===Tt&&(e=e.concat(t(o,l)))}),rr(i.children,(o,l)=>{l!==Tt&&(e=e.concat(t(o,l)))}),e}(i,(o,l)=>l===Tt?[Pd(i.children[Tt],!1)]:[`${l}:${Pd(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[Tt]?`${Tf(i)}/${e[0]}`:`${Tf(i)}/(${e.join("//")})`}}function Af(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sf(i){return Af(i).replace(/%3B/gi,";")}function pm(i){return Af(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xd(i){return decodeURIComponent(i)}function Jy(i){return xd(i.replace(/\+/g,"%20"))}function gm(i){return`${pm(i.path)}${function jI(i){return Object.keys(i).map(t=>`;${pm(t)}=${pm(i[t])}`).join("")}(i.parameters)}`}const Rf=/^[^\/()?;=#]+/;function Mf(i){const t=i.match(Rf);return t?t[0]:""}const Cc=/^[^=?&#]+/,eC=/^[^&#]+/;class Xy{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[Tt]=new Rt(t,e)),o}parseSegment(){const t=Mf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Md(xd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Mf(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=Mf(this.remaining);l&&(o=l,this.capture(o))}t[xd(e)]=xd(o)}parseQueryParam(t){const e=function Od(i){const t=i.match(Cc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const p=function HI(i){const t=i.match(eC);return t?t[0]:""}(this.remaining);p&&(o=p,this.capture(o))}const l=Jy(e),d=Jy(o);if(t.hasOwnProperty(l)){let p=t[l];Array.isArray(p)||(p=[p],t[l]=p),p.push(d)}else t[l]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Mf(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=Tt);const p=this.parseChildren();e[d]=1===Object.keys(p).length?p[Tt]:new Rt([],p),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class ev{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mm(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=mm(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_m(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return _m(t,this._root).map(e=>e.value)}}function mm(i,t){if(i===t.value)return t;for(const e of t.children){const o=mm(i,e);if(o)return o}return null}function _m(i,t){if(i===t.value)return[t];for(const e of t.children){const o=_m(i,e);if(o.length)return o.unshift(t),o}return[]}class ra{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function tu(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class ym extends ev{constructor(t,e){super(t),this.snapshot=e,vm(this,t)}toString(){return this.snapshot.toString()}}function Pf(i,t){const e=function xf(i,t){const p=new Nd([],{},{},"",{},Tt,t,null,i.root,-1,{});return new rv("",new ra(p,[]))}(i,t),o=new hs([new Md("",{})]),l=new hs({}),d=new hs({}),p=new hs({}),E=new hs(""),b=new wo(o,l,p,E,d,Tt,t,e.root);return b.snapshot=e.root,new ym(new ra(b,[]),e)}class wo{constructor(t,e,o,l,d,p,E,b){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=p,this.component=E,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(t=>Jl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(t=>Jl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tv(i,t="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const l=e[o],d=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(d.component)break;o--}}return function nv(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Nd{constructor(t,e,o,l,d,p,E,b,R,U,F){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=p,this.component=E,this.routeConfig=b,this._urlSegment=R,this._lastPathIndex=U,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rv extends ev{constructor(t,e){super(e),this.url=t,vm(this,e)}toString(){return Of(this._root)}}function vm(i,t){t.value._routerState=i,t.children.forEach(e=>vm(i,e))}function Of(i){const t=i.children.length>0?` { ${i.children.map(Of).join(", ")} } `:"";return`${i.value}${t}`}function Em(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,Co(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),Co(t.params,e.params)||i.params.next(e.params),function zy(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!Co(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),Co(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function iv(i,t){const e=Co(i.params,t.params)&&function QE(i,t){return eu(i,t)&&i.every((e,o)=>Co(e.parameters,t[o].parameters))}(i.url,t.url);return e&&!(!i.parent!=!t.parent)&&(!i.parent||iv(i.parent,t.parent))}function kd(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const l=function Ic(i,t,e){return t.children.map(o=>{for(const l of e.children)if(i.shouldReuseRoute(o.value,l.value.snapshot))return kd(i,o,l);return kd(i,o)})}(i,t,e);return new ra(o,l)}{if(i.shouldAttach(t.value)){const d=i.retrieve(t.value);if(null!==d){const p=d.route;return p.value._futureSnapshot=t.value,p.children=t.children.map(E=>kd(i,E)),p}}const o=function sv(i){return new wo(new hs(i.url),new hs(i.params),new hs(i.queryParams),new hs(i.fragment),new hs(i.data),i.outlet,i.component,i)}(t.value),l=t.children.map(d=>kd(i,d));return new ra(o,l)}}function Cm(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function bc(i){return"object"==typeof i&&null!=i&&i.outlets}function Im(i,t,e,o,l){let d={};if(o&&rr(o,(E,b)=>{d[b]=Array.isArray(E)?E.map(R=>`${R}`):`${E}`}),i===t)return new Xl(e,d,l);const p=nC(i,t,e);return new Xl(p,d,l)}function nC(i,t,e){const o={};return rr(i.children,(l,d)=>{o[d]=l===t?e:nC(l,t,e)}),new Rt(i.segments,o)}class wm{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&Cm(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(bc);if(l&&l!==wf(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Nf{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function ov(i,t,e){if(i||(i=new Rt([],{})),0===i.segments.length&&i.hasChildren())return kf(i,t,e);const o=function sC(i,t,e){let o=0,l=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<i.segments.length;){if(o>=e.length)return d;const p=i.segments[l],E=e[o];if(bc(E))break;const b=`${E}`,R=o<e.length-1?e[o+1]:null;if(l>0&&void 0===b)break;if(b&&R&&"object"==typeof R&&void 0===R.outlets){if(!lv(b,R,p))return d;o+=2}else{if(!lv(b,{},p))return d;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(i,t,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const d=new Rt(i.segments.slice(0,o.pathIndex),{});return d.children[Tt]=new Rt(i.segments.slice(o.pathIndex),i.children),kf(d,0,l)}return o.match&&0===l.length?new Rt(i.segments,{}):o.match&&!i.hasChildren()?Dm(i,t,e):o.match?kf(i,0,l):Dm(i,t,e)}function kf(i,t,e){if(0===e.length)return new Rt(i.segments,{});{const o=function iC(i){return bc(i[0])?i[0].outlets:{[Tt]:i}}(e),l={};return rr(o,(d,p)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[p]=ov(i.children[p],t,d))}),rr(i.children,(d,p)=>{void 0===o[p]&&(l[p]=d)}),new Rt(i.segments,l)}}function Dm(i,t,e){const o=i.segments.slice(0,t);let l=0;for(;l<e.length;){const d=e[l];if(bc(d)){const b=oC(d.outlets);return new Rt(o,b)}if(0===l&&Cm(e[0])){o.push(new Md(i.segments[t].path,av(e[0]))),l++;continue}const p=bc(d)?d.outlets[Tt]:`${d}`,E=l<e.length-1?e[l+1]:null;p&&E&&Cm(E)?(o.push(new Md(p,av(E))),l+=2):(o.push(new Md(p,{})),l++)}return new Rt(o,{})}function oC(i){const t={};return rr(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=Dm(new Rt([],{}),0,e))}),t}function av(i){const t={};return rr(i,(e,o)=>t[o]=`${e}`),t}function lv(i,t,e){return i==e.path&&Co(t,e.parameters)}class Fd{constructor(t,e,o,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),Em(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const l=tu(e);t.children.forEach(d=>{const p=d.value.outlet;this.deactivateRoutes(d,l[p],o),delete l[p]}),rr(l,(d,p)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(l===d)if(l.component){const p=o.getContext(l.outlet);p&&this.deactivateChildRoutes(t,e,p.children)}else this.deactivateChildRoutes(t,e,o);else d&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,d=tu(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],l);if(o&&o.outlet){const p=o.outlet.detach(),E=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:p,route:t,contexts:E})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,d=tu(t);for(const p of Object.keys(d))this.deactivateRouteAndItsChildren(d[p],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const l=tu(e);t.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],o),this.forwardEvent(new Hy(d.value.snapshot))}),t.children.length&&this.forwardEvent(new Ec(t.value.snapshot))}activateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(Em(l),l===d)if(l.component){const p=o.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,p.children)}else this.activateChildRoutes(t,e,o);else if(l.component){const p=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const E=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),p.children.onOutletReAttached(E.contexts),p.attachRef=E.componentRef,p.route=E.route.value,p.outlet&&p.outlet.attach(E.componentRef,E.route.value),Em(E.route.value),this.activateChildRoutes(t,null,p.children)}else{const E=function uv(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),b=E?E.module.componentFactoryResolver:null;p.attachRef=null,p.route=l,p.resolver=b,p.outlet&&p.outlet.activateWith(l,b),this.activateChildRoutes(t,null,p.children)}}else this.activateChildRoutes(t,null,o)}}class Ff{constructor(t,e){this.routes=t,this.module=e}}function ia(i){return"function"==typeof i}function sl(i){return i instanceof Xl}const Ld=Symbol("INITIAL_VALUE");function Ud(){return rn(i=>Ny(i.map(t=>t.pipe((0,z_.q)(1),function Uy(...i){const t=(0,tr.yG)(i);return(0,nn.e)((e,o)=>{(t?rm(i,e,t):rm(i,e)).subscribe(o)})}(Ld)))).pipe(No((t,e)=>{let o=!1;return e.reduce((l,d,p)=>l!==Ld?l:(d===Ld&&(o=!0),o||!1!==d&&p!==e.length-1&&!sl(d)?l:d),t)},Ld),pc(t=>t!==Ld),(0,St.U)(t=>sl(t)?t:!0===t),(0,z_.q)(1)))}class hC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sa,this.attachRef=null}}class sa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new hC,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Tm=(()=>{class i{constructor(e,o,l,d,p){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=p,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=d||Tt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const p=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),E=this.parentContexts.getOrCreateContext(this.name).children,b=new Am(e,E,this.location.injector);this.activated=this.location.createComponent(p,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(g.Y36(sa),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},i.\u0275dir=g.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class Am{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===wo?this.route:t===sa?this.childContexts:this.parent.get(t,e)}}let Ws=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&g._UZ(0,"router-outlet")},directives:[Tm],encapsulation:2}),i})();function dv(i,t=""){for(let e=0;e<i.length;e++){const o=i[e];Sm(o,Bd(t,o))}}function Sm(i,t){i.children&&dv(i.children,t)}function Bd(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function Rm(i){const t=i.children&&i.children.map(Rm),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Tt&&(e.component=Ws),e}function gs(i){return i.outlet||Tt}function hv(i,t){const e=i.filter(o=>gs(o)===t);return e.push(...i.filter(o=>gs(o)!==t)),e}const Vd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nu(i,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},Vd):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const d=(t.matcher||Gy)(e,i,t);if(!d)return Object.assign({},Vd);const p={};rr(d.posParams,(b,R)=>{p[R]=b.path});const E=d.consumed.length>0?Object.assign(Object.assign({},p),d.consumed[d.consumed.length-1].parameters):p;return{matched:!0,consumedSegments:d.consumed,remainingSegments:e.slice(d.consumed.length),parameters:E,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function Lf(i,t,e,o,l="corrected"){if(e.length>0&&function pv(i,t,e){return e.some(o=>jd(i,t,o)&&gs(o)!==Tt)}(i,e,o)){const p=new Rt(t,function fv(i,t,e,o){const l={};l[Tt]=o,o._sourceSegment=i,o._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&gs(d)!==Tt){const p=new Rt([],{});p._sourceSegment=i,p._segmentIndexShift=t.length,l[gs(d)]=p}return l}(i,t,o,new Rt(e,i.children)));return p._sourceSegment=i,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:[]}}if(0===e.length&&function Mm(i,t,e){return e.some(o=>jd(i,t,o))}(i,e,o)){const p=new Rt(i.segments,function fC(i,t,e,o,l,d){const p={};for(const E of o)if(jd(i,e,E)&&!l[gs(E)]){const b=new Rt([],{});b._sourceSegment=i,b._segmentIndexShift="legacy"===d?i.segments.length:t.length,p[gs(E)]=b}return Object.assign(Object.assign({},l),p)}(i,t,e,o,i.children,l));return p._sourceSegment=i,p._segmentIndexShift=t.length,{segmentGroup:p,slicedSegments:e}}const d=new Rt(i.segments,i.children);return d._sourceSegment=i,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function jd(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function gv(i,t,e,o){return!!(gs(i)===o||o!==Tt&&jd(t,e,i))&&("**"===i.path||nu(t,i,e).matched)}function mv(i,t,e){return 0===t.length&&!i.children[e]}class Pm{constructor(t){this.segmentGroup=t||null}}class Uf{constructor(t){this.urlTree=t}}function ru(i){return nl(new Pm(i))}function xm(i){return nl(new Uf(i))}class gC{constructor(t,e,o,l,d){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=t.get(g.h0i)}apply(){const t=Lf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Rt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Tt).pipe((0,St.U)(d=>this.createUrlTree(km(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(il(d=>{if(d instanceof Uf)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof Pm?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Tt).pipe((0,St.U)(l=>this.createUrlTree(km(l),t.queryParams,t.fragment))).pipe(il(l=>{throw l instanceof Pm?this.noMatchError(l):l}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const l=t.segments.length>0?new Rt([],{[Tt]:t}):t;return new Xl(l,e,o)}expandSegmentGroup(t,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,St.U)(d=>new Rt([],d))):this.expandSegment(t,o,e,o.segments,l,!0)}expandChildren(t,e,o){const l=[];for(const d of Object.keys(o.children))"primary"===d?l.unshift(d):l.push(d);return(0,Cn.D)(l).pipe(If(d=>{const p=o.children[d],E=hv(e,d);return this.expandSegmentGroup(t,E,p,d).pipe((0,St.U)(b=>({segment:b,outlet:d})))}),No((d,p)=>(d[p.outlet]=p.segment,d),{}),function BI(i,t){const e=arguments.length>=2;return o=>o.pipe(i?pc((l,d)=>i(l,d,o)):Qi.y,By(1),e?J0(t):Z_(()=>new sf))}())}expandSegment(t,e,o,l,d,p){return(0,Cn.D)(o).pipe(If(E=>this.expandSegmentAgainstRoute(t,e,o,E,l,d,p).pipe(il(R=>{if(R instanceof Pm)return et(null);throw R}))),gc(E=>!!E),il((E,b)=>{if(E instanceof sf||"EmptyError"===E.name)return mv(e,l,d)?et(new Rt([],{})):ru(e);throw E}))}expandSegmentAgainstRoute(t,e,o,l,d,p,E){return gv(l,e,d,p)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,d,p):E&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,p):ru(e):ru(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,p){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,l,p):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,p)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,l){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?xm(d):this.lineralizeSegments(o,d).pipe((0,Nr.z)(p=>{const E=new Rt(p,{});return this.expandSegment(t,E,e,p,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,p){const{matched:E,consumedSegments:b,remainingSegments:R,positionalParamSegments:U}=nu(e,l,d);if(!E)return ru(e);const F=this.applyRedirectCommands(b,l.redirectTo,U);return l.redirectTo.startsWith("/")?xm(F):this.lineralizeSegments(l,F).pipe((0,Nr.z)(Y=>this.expandSegment(t,e,o,Y.concat(R),p,!1)))}matchSegmentAgainstRoute(t,e,o,l,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?et(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,St.U)(F=>(o._loadedConfig=F,new Rt(l,{})))):et(new Rt(l,{}));const{matched:p,consumedSegments:E,remainingSegments:b}=nu(e,o,l);return p?this.getChildConfig(t,o,l).pipe((0,Nr.z)(U=>{const F=U.module,Y=U.routes,{segmentGroup:pe,slicedSegments:Me}=Lf(e,E,b,Y),at=new Rt(pe.segments,pe.children);if(0===Me.length&&at.hasChildren())return this.expandChildren(F,Y,at).pipe((0,St.U)(kr=>new Rt(E,kr)));if(0===Y.length&&0===Me.length)return et(new Rt(E,{}));const Mt=gs(o)===d;return this.expandSegment(F,at,Y,Me,Mt?Tt:d,!0).pipe((0,St.U)(Xt=>new Rt(E.concat(Xt.segments),Xt.children)))})):ru(e)}getChildConfig(t,e,o){return e.children?et(new Ff(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?et(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,Nr.z)(l=>l?this.configLoader.load(t.injector,e).pipe((0,St.U)(d=>(e._loadedConfig=d,d))):function Nm(i){return nl(Rd(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))}(e))):et(new Ff([],t))}runCanLoadGuards(t,e,o){const l=e.canLoad;return l&&0!==l.length?et(l.map(p=>{const E=t.get(p);let b;if(function lC(i){return i&&ia(i.canLoad)}(E))b=E.canLoad(e,o);else{if(!ia(E))throw new Error("Invalid CanLoad guard");b=E(e,o)}return Io(b)})).pipe(Ud(),(0,fs.b)(p=>{if(!sl(p))return;const E=Rd(`Redirecting to "${this.urlSerializer.serialize(p)}"`);throw E.url=p,E}),(0,St.U)(p=>!0===p)):et(!0)}lineralizeSegments(t,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return et(o);if(l.numberOfChildren>1||!l.children[Tt])return nl(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));l=l.children[Tt]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,l){const d=this.createSegmentGroup(t,e.root,o,l);return new Xl(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return rr(t,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const E=l.substring(1);o[d]=e[E]}else o[d]=l}),o}createSegmentGroup(t,e,o,l){const d=this.createSegments(t,e.segments,o,l);let p={};return rr(e.children,(E,b)=>{p[b]=this.createSegmentGroup(t,E,o,l)}),new Rt(d,p)}createSegments(t,e,o,l){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,l):this.findOrReturn(d,o))}findPosParam(t,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return l}findOrReturn(t,e){let o=0;for(const l of e){if(l.path===t.path)return e.splice(o),l;o++}return t}}function km(i){const t={};for(const o of Object.keys(i.children)){const d=km(i.children[o]);(d.segments.length>0||d.hasChildren())&&(t[o]=d)}return function mC(i){if(1===i.numberOfChildren&&i.children[Tt]){const t=i.children[Tt];return new Rt(i.segments.concat(t.segments),t.children)}return i}(new Rt(i.segments,t))}class Bf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Hd{constructor(t,e){this.component=t,this.route=e}}function yv(i,t,e){const o=i._root;return Dc(o,t?t._root:null,e,[o.value])}function $d(i,t,e){const o=function _C(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(i)}function Dc(i,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=tu(t);return i.children.forEach(p=>{(function Ev(i,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=i.value,p=t?t.value:null,E=e?e.getContext(i.value.outlet):null;if(p&&d.routeConfig===p.routeConfig){const b=function yC(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!eu(i.url,t.url);case"pathParamsOrQueryParamsChange":return!eu(i.url,t.url)||!Co(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iv(i,t)||!Co(i.queryParams,t.queryParams);default:return!iv(i,t)}}(p,d,d.routeConfig.runGuardsAndResolvers);b?l.canActivateChecks.push(new Bf(o)):(d.data=p.data,d._resolvedData=p._resolvedData),Dc(i,t,d.component?E?E.children:null:e,o,l),b&&E&&E.outlet&&E.outlet.isActivated&&l.canDeactivateChecks.push(new Hd(E.outlet.component,p))}else p&&Tc(t,E,l),l.canActivateChecks.push(new Bf(o)),Dc(i,null,d.component?E?E.children:null:e,o,l)})(p,d[p.value.outlet],e,o.concat([p.value]),l),delete d[p.value.outlet]}),rr(d,(p,E)=>Tc(p,e.getContext(E),l)),l}function Tc(i,t,e){const o=tu(i),l=i.value;rr(o,(d,p)=>{Tc(d,l.component?t?t.children.getContext(p):null:t,e)}),e.canDeactivateChecks.push(new Hd(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}class Fm{}function Cv(i){return new Yr.y(t=>t.error(i))}class wC{constructor(t,e,o,l,d,p){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=p}recognize(){const t=Lf(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Tt);if(null===e)return null;const o=new Nd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tt,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new ra(o,e),d=new rv(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(t){const e=t.value,o=tv(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const d of Object.keys(e.children)){const p=e.children[d],E=hv(t,d),b=this.processSegmentGroup(E,p,d);if(null===b)return null;o.push(...b)}const l=Um(o);return function bC(i){i.sort((t,e)=>t.value.outlet===Tt?-1:e.value.outlet===Tt?1:t.value.outlet.localeCompare(e.value.outlet))}(l),l}processSegment(t,e,o,l){for(const d of t){const p=this.processSegmentAgainstRoute(d,e,o,l);if(null!==p)return p}return mv(e,o,l)?[]:null}processSegmentAgainstRoute(t,e,o,l){if(t.redirectTo||!gv(t,e,o,l))return null;let d,p=[],E=[];if("**"===t.path){const pe=o.length>0?wf(o).parameters:{};d=new Nd(o,pe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vm(t),gs(t),t.component,t,Vf(e),DC(e)+o.length,bv(t))}else{const pe=nu(e,t,o);if(!pe.matched)return null;p=pe.consumedSegments,E=pe.remainingSegments,d=new Nd(p,pe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Vm(t),gs(t),t.component,t,Vf(e),DC(e)+p.length,bv(t))}const b=function Lm(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(t),{segmentGroup:R,slicedSegments:U}=Lf(e,p,E,b.filter(pe=>void 0===pe.redirectTo),this.relativeLinkResolution);if(0===U.length&&R.hasChildren()){const pe=this.processChildren(b,R);return null===pe?null:[new ra(d,pe)]}if(0===b.length&&0===U.length)return[new ra(d,[])];const F=gs(t)===l,Y=this.processSegment(b,R,U,F?Tt:l);return null===Y?null:[new ra(d,Y)]}}function wv(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Um(i){const t=[],e=new Set;for(const o of i){if(!wv(o)){t.push(o);continue}const l=t.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):t.push(o)}for(const o of e){const l=Um(o.children);t.push(new ra(o.value,l))}return t.filter(o=>!e.has(o))}function Vf(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function DC(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Vm(i){return i.data||{}}function bv(i){return i.resolve||{}}function Hf(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function Av(i){return rn(t=>{const e=i(t);return e?(0,Cn.D)(e).pipe((0,St.U)(()=>t)):et(t)})}class Sv extends class SC{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const $f=new g.OlP("ROUTES");class Rv{constructor(t,e,o,l){this.injector=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,St.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const p=d.create(t);return new Ff(Ky(p.injector.get($f,void 0,g.XFs.Self|g.XFs.Optional)).map(Rm),p)}),il(d=>{throw e._loader$=void 0,d}));return e._loader$=new LE(l,()=>new el.x).pipe(sm()),e._loader$}loadModuleFactory(t){return Io(t()).pipe((0,Nr.z)(e=>e instanceof g.YKP?et(e):(0,Cn.D)(this.compiler.compileModuleAsync(e))))}}class Pv{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function RC(i){throw i}function MC(i,t,e){return t.parse("/")}function Hm(i,t){return et(null)}const PC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xv={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let oi=(()=>{class i{constructor(e,o,l,d,p,E,b){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=d,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new el.x,this.errorHandler=RC,this.malformedUriErrorHandler=MC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hm,afterPreactivation:Hm},this.urlHandlingStrategy=new Pv,this.routeReuseStrategy=new Sv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=p.get(g.h0i),this.console=p.get(g.c2e);const F=p.get(g.R0b);this.isNgZoneEnabled=F instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function ZE(){return new Xl(new Rt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Rv(p,E,Y=>this.triggerEvent(new lm(Y)),Y=>this.triggerEvent(new jy(Y))),this.routerState=Pf(this.currentUrlTree,this.rootComponentType),this.transitions=new hs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(pc(l=>0!==l.id),(0,St.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),rn(l=>{let d=!1,p=!1;return et(l).pipe((0,fs.b)(E=>{this.currentNavigation={id:E.id,initialUrl:E.currentRawUrl,extractedUrl:E.extractedUrl,trigger:E.source,extras:E.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),rn(E=>{const b=this.browserUrlTree.toString(),R=!this.navigated||E.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||R)&&this.urlHandlingStrategy.shouldProcessUrl(E.rawUrl))return $m(E.source)&&(this.browserUrlTree=E.extractedUrl),et(E).pipe(rn(F=>{const Y=this.transitions.getValue();return o.next(new om(F.id,this.serializeUrl(F.extractedUrl),F.source,F.restoredState)),Y!==this.transitions.getValue()?Ql.E:Promise.resolve(F)}),function _v(i,t,e,o){return rn(l=>function pC(i,t,e,o,l){return new gC(i,t,e,o,l).apply()}(i,t,e,l.extractedUrl,o).pipe((0,St.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fs.b)(F=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:F.urlAfterRedirects})}),function Dv(i,t,e,o,l){return(0,Nr.z)(d=>function Iv(i,t,e,o,l="emptyOnly",d="legacy"){try{const p=new wC(i,t,e,o,l,d).recognize();return null===p?Cv(new Fm):et(p)}catch(p){return Cv(p)}}(i,t,d.urlAfterRedirects,e(d.urlAfterRedirects),o,l).pipe((0,St.U)(p=>Object.assign(Object.assign({},d),{targetSnapshot:p}))))}(this.rootComponentType,this.config,F=>this.serializeUrl(F),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fs.b)(F=>{if("eager"===this.urlUpdateStrategy){if(!F.extras.skipLocationChange){const pe=this.urlHandlingStrategy.merge(F.urlAfterRedirects,F.rawUrl);this.setBrowserUrl(pe,F)}this.browserUrlTree=F.urlAfterRedirects}const Y=new UE(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);o.next(Y)}));if(R&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Y,extractedUrl:pe,source:Me,restoredState:at,extras:Mt}=E,Rn=new om(Y,this.serializeUrl(pe),Me,at);o.next(Rn);const Xt=Pf(pe,this.rootComponentType).snapshot;return et(Object.assign(Object.assign({},E),{targetSnapshot:Xt,urlAfterRedirects:pe,extras:Object.assign(Object.assign({},Mt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=E.rawUrl,E.resolve(null),Ql.E}),Av(E=>{const{targetSnapshot:b,id:R,extractedUrl:U,rawUrl:F,extras:{skipLocationChange:Y,replaceUrl:pe}}=E;return this.hooks.beforePreactivation(b,{navigationId:R,appliedUrlTree:U,rawUrlTree:F,skipLocationChange:!!Y,replaceUrl:!!pe})}),(0,fs.b)(E=>{const b=new BE(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(b)}),(0,St.U)(E=>Object.assign(Object.assign({},E),{guards:yv(E.targetSnapshot,E.currentSnapshot,this.rootContexts)})),function vC(i,t){return(0,Nr.z)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:p}}=e;return 0===p.length&&0===d.length?et(Object.assign(Object.assign({},e),{guardsResult:!0})):function Wr(i,t,e,o){return(0,Cn.D)(i).pipe((0,Nr.z)(l=>function IC(i,t,e,o,l){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?et(d.map(E=>{const b=$d(E,t,l);let R;if(function dC(i){return i&&ia(i.canDeactivate)}(b))R=Io(b.canDeactivate(i,t,e,o));else{if(!ia(b))throw new Error("Invalid CanDeactivate guard");R=Io(b(i,t,e,o))}return R.pipe(gc())})).pipe(Ud()):et(!0)}(l.component,l.route,e,t,o)),gc(l=>!0!==l,!0))}(p,o,l,i).pipe((0,Nr.z)(E=>E&&function cv(i){return"boolean"==typeof i}(E)?function Ac(i,t,e,o){return(0,Cn.D)(t).pipe(If(l=>rm(function CC(i,t){return null!==i&&t&&t(new $E(i)),et(!0)}(l.route.parent,o),function EC(i,t){return null!==i&&t&&t(new WE(i)),et(!0)}(l.route,o),function Wd(i,t,e){const o=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(p=>function vv(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(p)).filter(p=>null!==p).map(p=>Ly(()=>et(p.guards.map(b=>{const R=$d(b,p.node,e);let U;if(function cC(i){return i&&ia(i.canActivateChild)}(R))U=Io(R.canActivateChild(o,i));else{if(!ia(R))throw new Error("Invalid CanActivateChild guard");U=Io(R(o,i))}return U.pipe(gc())})).pipe(Ud())));return et(d).pipe(Ud())}(i,l.path,e),function WI(i,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return et(!0);const l=o.map(d=>Ly(()=>{const p=$d(d,t,e);let E;if(function uC(i){return i&&ia(i.canActivate)}(p))E=Io(p.canActivate(t,i));else{if(!ia(p))throw new Error("Invalid CanActivate guard");E=Io(p(t,i))}return E.pipe(gc())}));return et(l).pipe(Ud())}(i,l.route,e))),gc(l=>!0!==l,!0))}(o,d,i,t):et(E)),(0,St.U)(E=>Object.assign(Object.assign({},e),{guardsResult:E})))})}(this.ngModule.injector,E=>this.triggerEvent(E)),(0,fs.b)(E=>{if(sl(E.guardsResult)){const R=Rd(`Redirecting to "${this.serializeUrl(E.guardsResult)}"`);throw R.url=E.guardsResult,R}const b=new VE(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot,!!E.guardsResult);this.triggerEvent(b)}),pc(E=>!!E.guardsResult||(this.restoreHistory(E),this.cancelNavigationTransition(E,""),!1)),Av(E=>{if(E.guards.canActivateChecks.length)return et(E).pipe((0,fs.b)(b=>{const R=new jE(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(R)}),rn(b=>{let R=!1;return et(b).pipe(function jf(i,t){return(0,Nr.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return et(e);let d=0;return(0,Cn.D)(l).pipe(If(p=>function Tv(i,t,e,o){return function TC(i,t,e,o){const l=Hf(i);if(0===l.length)return et({});const d={};return(0,Cn.D)(l).pipe((0,Nr.z)(p=>function jm(i,t,e,o){const l=$d(i,t,o);return Io(l.resolve?l.resolve(t,e):l(t,e))}(i[p],t,e,o).pipe((0,fs.b)(E=>{d[p]=E}))),By(1),(0,Nr.z)(()=>Hf(d).length===l.length?et(d):Ql.E))}(i._resolve,i,t,o).pipe((0,St.U)(d=>(i._resolvedData=d,i.data=Object.assign(Object.assign({},i.data),tv(i,e).resolve),null)))}(p.route,o,i,t)),(0,fs.b)(()=>d++),By(1),(0,Nr.z)(p=>d===l.length?et(e):Ql.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fs.b)({next:()=>R=!0,complete:()=>{R||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,fs.b)(b=>{const R=new HE(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(R)}))}),Av(E=>{const{targetSnapshot:b,id:R,extractedUrl:U,rawUrl:F,extras:{skipLocationChange:Y,replaceUrl:pe}}=E;return this.hooks.afterPreactivation(b,{navigationId:R,appliedUrlTree:U,rawUrlTree:F,skipLocationChange:!!Y,replaceUrl:!!pe})}),(0,St.U)(E=>{const b=function tC(i,t,e){const o=kd(i,t._root,e?e._root:void 0);return new ym(o,t)}(this.routeReuseStrategy,E.targetSnapshot,E.currentRouterState);return Object.assign(Object.assign({},E),{targetRouterState:b})}),(0,fs.b)(E=>{this.currentUrlTree=E.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl),this.routerState=E.targetRouterState,"deferred"===this.urlUpdateStrategy&&(E.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,E),this.browserUrlTree=E.urlAfterRedirects)}),((i,t,e)=>(0,St.U)(o=>(new Fd(t,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,E=>this.triggerEvent(E)),(0,fs.b)({next(){d=!0},complete(){d=!0}}),function Vy(i){return(0,nn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(i)}})}(()=>{var E;d||p||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null===(E=this.currentNavigation)||void 0===E?void 0:E.id)===l.id&&(this.currentNavigation=null)}),il(E=>{if(p=!0,function zE(i){return i&&i[Wy]}(E)){const b=sl(E.url);b||(this.navigated=!0,this.restoreHistory(l,!0));const R=new am(l.id,this.serializeUrl(l.extractedUrl),E.message);o.next(R),b?setTimeout(()=>{const U=this.urlHandlingStrategy.merge(E.url,this.rawUrlTree),F={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$m(l.source)};this.scheduleNavigation(U,"imperative",null,F,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const b=new Sd(l.id,this.serializeUrl(l.extractedUrl),E);o.next(b);try{l.resolve(this.errorHandler(E))}catch(R){l.reject(R)}}return Ql.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var l;const d={replaceUrl:!0},p=(null===(l=e.state)||void 0===l?void 0:l.navigationId)?e.state:null;if(p){const b=Object.assign({},p);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(d.state=b)}const E=this.parseUrl(e.url);this.scheduleNavigation(E,o,p,d)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){dv(e),this.config=e.map(Rm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:d,fragment:p,queryParamsHandling:E,preserveFragment:b}=o,R=l||this.routerState.root,U=b?this.currentUrlTree.fragment:p;let F=null;switch(E){case"merge":F=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=d||null}return null!==F&&(F=this.removeEmptyProps(F)),function wc(i,t,e,o,l){if(0===e.length)return Im(t.root,t.root,t.root,o,l);const d=function $I(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new wm(!0,0,i);let t=0,e=!1;const o=i.reduce((l,d,p)=>{if("object"==typeof d&&null!=d){if(d.outlets){const E={};return rr(d.outlets,(b,R)=>{E[R]="string"==typeof b?b.split("/"):b}),[...l,{outlets:E}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===p?(d.split("/").forEach((E,b)=>{0==b&&"."===E||(0==b&&""===E?e=!0:".."===E?t++:""!=E&&l.push(E))}),l):[...l,d]},[]);return new wm(e,t,o)}(e);if(d.toRoot())return Im(t.root,t.root,new Rt([],{}),o,l);const p=function bm(i,t,e){if(i.isAbsolute)return new Nf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new Nf(d,d===t.root,0)}const o=Cm(i.commands[0])?0:1;return function rC(i,t,e){let o=i,l=t,d=e;for(;d>l;){if(d-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new Nf(o,!1,l-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(d,t,i),E=p.processChildren?kf(p.segmentGroup,p.index,d.commands):ov(p.segmentGroup,p.index,d.commands);return Im(t.root,p.segmentGroup,E,o,l)}(R,this.currentUrlTree,e,F,null!=U?U:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=sl(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function Ov(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?Object.assign({},PC):!1===o?Object.assign({},xv):o,sl(e))return Yy(this.currentUrlTree,e,l);const d=this.parseUrl(e);return Yy(this.currentUrlTree,d,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const d=e[l];return null!=d&&(o[l]=d),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ad(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,l,d,p){var E,b;if(this.disposed)return Promise.resolve(!1);let R,U,F;p?(R=p.resolve,U=p.reject,F=p.promise):F=new Promise((Me,at)=>{R=Me,U=at});const Y=++this.navigationId;let pe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),pe=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(E=this.browserPageId)&&void 0!==E?E:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):pe=0,this.setTransition({id:Y,targetPageId:pe,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:R,reject:U,promise:F,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),F.catch(Me=>Promise.reject(Me))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(e,o=!1){var l,d;if("computed"===this.canceledNavigationResolution){const p=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===p?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===p&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(p)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new am(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){g.$Z()},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function $m(i){return"imperative"!==i}let Wm=(()=>{class i{constructor(e,o,l,d,p){this.router=e,this.route=o,this.tabIndexAttribute=l,this.renderer=d,this.el=p,this.commands=null,this.onChanges=new el.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const o=this.renderer,l=this.el.nativeElement;null!==e?o.setAttribute(l,"tabindex",e):o.removeAttribute(l,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Gd(this.skipLocationChange),replaceUrl:Gd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gd(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(g.Y36(oi),g.Y36(wo),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},i.\u0275dir=g.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&g.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),i})(),Wf=(()=>{class i{constructor(e,o,l){this.router=e,this.route=o,this.locationStrategy=l,this.commands=null,this.href=null,this.onChanges=new el.x,this.subscription=e.events.subscribe(d=>{d instanceof Ad&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,l,d,p){if(0!==e||o||l||d||p||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const E={skipLocationChange:Gd(this.skipLocationChange),replaceUrl:Gd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,E),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gd(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(g.Y36(oi),g.Y36(wo),g.Y36(ce))},i.\u0275dir=g.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&g.NdJ("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&g.uIk("target",o.target)("href",o.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),i})();function Gd(i){return""===i||!!i}let Gm=(()=>{class i{constructor(e,o,l,d,p,E){this.router=e,this.element=o,this.renderer=l,this.cdr=d,this.link=p,this.linkWithHref=E,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new g.vpe,this.routerEventsSubscription=e.events.subscribe(b=>{b instanceof Ad&&this.update()})}ngAfterContentInit(){et(this.links.changes,this.linksWithHrefs.changes,et(null)).pipe((0,rl.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const o=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(l=>!!l).map(l=>l.onChanges);this.linkInputChangesSubscription=(0,Cn.D)(o).pipe((0,rl.J)()).subscribe(l=>{this.isActive!==this.isLinkActive(this.router)(l)&&this.update()})}set routerLinkActive(e){const o=Array.isArray(e)?e:e.split(" ");this.classes=o.filter(l=>!!l)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(o=>{e?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),this.isActiveChange.emit(e))})}isLinkActive(e){const o=function GI(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return l=>!!l.urlTree&&e.isActive(l.urlTree,o)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return i.\u0275fac=function(e){return new(e||i)(g.Y36(oi),g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(g.sBO),g.Y36(Wm,8),g.Y36(Wf,8))},i.\u0275dir=g.lG2({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(e,o,l){if(1&e&&(g.Suo(l,Wm,5),g.Suo(l,Wf,5)),2&e){let d;g.iGM(d=g.CRH())&&(o.links=d),g.iGM(d=g.CRH())&&(o.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[g.TTD]}),i})();class xC{}class OC{preload(t,e){return et(null)}}let NC=(()=>{class i{constructor(e,o,l,d){this.router=e,this.injector=l,this.preloadingStrategy=d,this.loader=new Rv(l,o,b=>e.triggerEvent(new lm(b)),b=>e.triggerEvent(new jy(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(pc(e=>e instanceof Ad),If(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(g.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const p=d._loadedConfig;l.push(this.processRoutes(p.module,p.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(e,d)):d.children&&l.push(this.processRoutes(e,d.children));return(0,Cn.D)(l).pipe((0,rl.J)(),(0,St.U)(d=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?et(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,Nr.z)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(oi),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(xC))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})(),Nv=(()=>{class i{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof om?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ad&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof $y&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new $y(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){g.$Z()},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();const Sc=new g.OlP("ROUTER_CONFIGURATION"),zd=new g.OlP("ROUTER_FORROOT_GUARD"),ZI=[ge,{provide:Df,useClass:hm},{provide:oi,useFactory:function Uv(i,t,e,o,l,d,p={},E,b){const R=new oi(null,i,t,e,o,l,Ky(d));return E&&(R.urlHandlingStrategy=E),b&&(R.routeReuseStrategy=b),function Bv(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(t.canceledNavigationResolution=i.canceledNavigationResolution)}(p,R),p.enableTracing&&R.events.subscribe(U=>{var F,Y;null===(F=console.group)||void 0===F||F.call(console,`Router Event: ${U.constructor.name}`),console.log(U.toString()),console.log(U),null===(Y=console.groupEnd)||void 0===Y||Y.call(console)}),R},deps:[Df,sa,ge,g.zs3,g.Sil,$f,Sc,[class Mv{},new g.FiY],[class AC{},new g.FiY]]},sa,{provide:wo,useFactory:function Vv(i){return i.routerState.root},deps:[oi]},NC,OC,class zI{preload(t,e){return e().pipe(il(()=>et(null)))}},{provide:Sc,useValue:{enableTracing:!1}}];function kv(){return new g.PXZ("Router",oi)}let Gf=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[ZI,zf(e),{provide:zd,useFactory:KI,deps:[[oi,new g.FiY,new g.tp0]]},{provide:Sc,useValue:o||{}},{provide:ce,useFactory:Lv,deps:[ue,[new g.tBr(je),new g.FiY],Sc]},{provide:Nv,useFactory:Fv,deps:[oi,ga,Sc]},{provide:xC,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:OC},{provide:g.PXZ,multi:!0,useFactory:kv},[jv,{provide:g.ip1,multi:!0,useFactory:Hv,deps:[jv]},{provide:Zf,useFactory:kC,deps:[jv]},{provide:g.tb,multi:!0,useExisting:Zf}]]}}static forChild(e){return{ngModule:i,providers:[zf(e)]}}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(zd,8),g.LFG(oi,8))},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({}),i})();function Fv(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Nv(i,t,e)}function Lv(i,t,e={}){return e.useHash?new Ee(i,t):new Le(i,t)}function KI(i){return"guarded"}function zf(i){return[{provide:g.deG,multi:!0,useValue:i},{provide:$f,multi:!0,useValue:i}]}let jv=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new el.x}appInitializer(){return this.injector.get(j,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(E=>o=E),d=this.injector.get(oi),p=this.injector.get(Sc);return"disabled"===p.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===p.initialNavigation||"enabledBlocking"===p.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?et(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(Sc),l=this.injector.get(NC),d=this.injector.get(Nv),p=this.injector.get(oi),E=this.injector.get(g.z2F);e===E.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&p.initialNavigation(),l.setUpPreloading(),d.init(),p.resetRootComponentType(E.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(g.LFG(g.zs3))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac}),i})();function Hv(i){return i.appInitializer.bind(i)}function kC(i){return i.bootstrapListener.bind(i)}const Zf=new g.OlP("Router Initializer");function qI(i,t){if(1&i&&(g.TgZ(0,"div",10),g._UZ(1,"div",11),g.TgZ(2,"div",12)(3,"div",13)(4,"div",14),g._uU(5),g.qZA(),g.TgZ(6,"div",15),g._uU(7),g.qZA()(),g.TgZ(8,"div",16),g._uU(9),g.qZA()(),g.TgZ(10,"div",17),g._uU(11),g.qZA()()),2&i){const e=t.$implicit;g.xp6(5),g.Oqu(e.address),g.xp6(2),g.Oqu(e.city),g.xp6(2),g.hij("$",e.price,""),g.xp6(2),g.lnq(" ",e.beds," Beds | ",e.baths," Baths | ",e.size,"sqft ")}}let YI=(()=>{class i{constructor(e){this.db=e,this.data=[]}ngOnInit(){this.db.list("Listings").valueChanges().subscribe(o=>{this.data=o,console.log(o)})}}return i.\u0275fac=function(e){return new(e||i)(g.Y36(Dd))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-rent"]],decls:12,vars:1,consts:[[1,"filterBar"],["type","text","placeholder","Location",1,"filterField"],["type","text","placeholder","Max Price",1,"filterField"],["type","text","placeholder","Beds",1,"filterField"],["type","text","placeholder","Baths",1,"filterField"],[1,"searchButton"],[1,"sortButton"],[1,"listings"],[1,"list"],["class","property",4,"ngFor","ngForOf"],[1,"property"],[1,"photos"],[1,"topDetails"],[1,"location"],[1,"adress"],[1,"city"],[1,"price"],[1,"bottomDetails"]],template:function(e,o){1&e&&(g.TgZ(0,"div",0),g._UZ(1,"input",1)(2,"input",2)(3,"input",3)(4,"input",4),g.TgZ(5,"button",5),g._uU(6,"Search"),g.qZA()(),g.TgZ(7,"span",6),g._uU(8,"Sort"),g.qZA(),g.TgZ(9,"div",7)(10,"div",8),g.YNc(11,qI,12,6,"div",9),g.qZA()()),2&e&&(g.xp6(11),g.Q6J("ngForOf",o.data))},directives:[On],styles:[".filterBar[_ngcontent-%COMP%]{width:700px;height:60px;display:inline-flex;background:#1d3557;border:2px solid black;border-radius:50px;align-items:center;margin-top:30px;margin-left:30px}.searchButton[_ngcontent-%COMP%]{width:50%;height:70%;color:#1d3557;background:#f1faee;font-family:Roboto;border-radius:30px;text-align:center;font-weight:bolder;font-size:large;margin-left:30px;margin-right:15px;cursor:pointer;border:none}.filterField[_ngcontent-%COMP%]{width:50%;height:30px;font-weight:700;text-align:center;margin-left:15px;border-radius:6px;border:none}.sortButton[_ngcontent-%COMP%]{width:90px;color:#fff;display:inline-block;font-size:24px;background-color:gray;text-align:center;margin:30px;border-radius:30px;border:none;cursor:pointer;justify-content:end}.listings[_ngcontent-%COMP%]{width:100%;height:54rem;display:flex;align-items:center;justify-content:center}.list[_ngcontent-%COMP%]{display:block;flex-wrap:wrap;width:90%;height:90%}.property[_ngcontent-%COMP%]{width:30%;height:50%;background-color:wheat;border:1px solid black;margin:15px;display:inline-block;border-radius:30px;box-shadow:inset -5px -5px 10px #0000007a,inset 5px 5px 10px #ffffff7a}.property[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]{width:100%;height:50%;border-bottom:1px solid black;background-color:gray;border-top-right-radius:30px;border-top-left-radius:30px}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]{display:block}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:inline-block;padding-top:5px;width:10rem}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .adress[_ngcontent-%COMP%]{display:block;text-align:end;font-size:larger;font-weight:700}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{text-align:end;display:block;font-size:small}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{display:inline-block;float:right;margin:15px;text-align:end;vertical-align:top;font-weight:bolder;font-size:large}.property[_ngcontent-%COMP%]   .bottomDetails[_ngcontent-%COMP%]{height:2rem;position:sticky;padding-left:15px;top:100%}"]}),i})();function LC(i,t){if(1&i&&(g.TgZ(0,"div",10),g._UZ(1,"div",11),g.TgZ(2,"div",12)(3,"div",13)(4,"div",14),g._uU(5),g.qZA(),g.TgZ(6,"div",15),g._uU(7),g.qZA()(),g.TgZ(8,"div",16),g._uU(9),g.qZA()(),g.TgZ(10,"div",17),g._uU(11),g.qZA()()),2&i){const e=t.$implicit;g.xp6(5),g.Oqu(e.address),g.xp6(2),g.Oqu(e.city),g.xp6(2),g.hij("$",e.price,""),g.xp6(2),g.lnq(" ",e.beds," Beds | ",e.baths," Baths | ",e.size,"sqft ")}}let UC=(()=>{class i{constructor(e){this.db=e,this.data=[]}ngOnInit(){this.db.list("Listings").valueChanges().subscribe(o=>{this.data=o,console.log(o)})}}return i.\u0275fac=function(e){return new(e||i)(g.Y36(Dd))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-buy"]],decls:12,vars:1,consts:[[1,"filterBar"],["type","text","placeholder","Location",1,"filterField"],["type","text","placeholder","Max Price",1,"filterField"],["type","text","placeholder","Beds",1,"filterField"],["type","text","placeholder","Baths",1,"filterField"],[1,"searchButton"],[1,"sortButton"],[1,"listings"],[1,"list"],["class","property",4,"ngFor","ngForOf"],[1,"property"],[1,"photos"],[1,"topDetails"],[1,"location"],[1,"adress"],[1,"city"],[1,"price"],[1,"bottomDetails"]],template:function(e,o){1&e&&(g.TgZ(0,"div",0),g._UZ(1,"input",1)(2,"input",2)(3,"input",3)(4,"input",4),g.TgZ(5,"button",5),g._uU(6,"Search"),g.qZA()(),g.TgZ(7,"span",6),g._uU(8,"Sort"),g.qZA(),g.TgZ(9,"div",7)(10,"div",8),g.YNc(11,LC,12,6,"div",9),g.qZA()()),2&e&&(g.xp6(11),g.Q6J("ngForOf",o.data))},directives:[On],styles:[".filterBar[_ngcontent-%COMP%]{width:700px;height:60px;display:inline-flex;background:#1d3557;border:2px solid black;border-radius:50px;align-items:center;margin-top:30px;margin-left:30px}.searchButton[_ngcontent-%COMP%]{width:50%;height:70%;color:#1d3557;background:#f1faee;font-family:Roboto;border-radius:30px;text-align:center;font-weight:bolder;font-size:large;margin-left:30px;margin-right:15px;cursor:pointer;border:none}.filterField[_ngcontent-%COMP%]{width:50%;height:30px;font-weight:700;text-align:center;margin-left:15px;border-radius:6px;border:none}.sortButton[_ngcontent-%COMP%]{width:90px;color:#fff;display:inline-block;font-size:24px;background-color:gray;text-align:center;margin:30px;border-radius:30px;border:none;cursor:pointer;justify-content:end}.listings[_ngcontent-%COMP%]{width:100%;height:54rem;display:flex;align-items:center;justify-content:center}.list[_ngcontent-%COMP%]{display:block;flex-wrap:wrap;width:90%;height:90%}.property[_ngcontent-%COMP%]{width:30%;height:50%;background-color:wheat;border:1px solid black;margin:15px;display:inline-block;border-radius:30px;box-shadow:inset -5px -5px 10px #0000007a,inset 5px 5px 10px #ffffff7a}.property[_ngcontent-%COMP%]   .photos[_ngcontent-%COMP%]{width:100%;height:50%;border-bottom:1px solid black;background-color:gray;border-top-right-radius:30px;border-top-left-radius:30px}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]{display:block}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:inline-block;padding-top:5px;width:10rem}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .adress[_ngcontent-%COMP%]{display:block;text-align:end;font-size:larger;font-weight:700}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{text-align:end;display:block;font-size:small}.property[_ngcontent-%COMP%]   .topDetails[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{display:inline-block;float:right;margin:15px;text-align:end;vertical-align:top;font-weight:bolder;font-size:large}.property[_ngcontent-%COMP%]   .bottomDetails[_ngcontent-%COMP%]{height:2rem;position:sticky;padding-left:15px;top:100%}"]}),i})();const BC=["address"],QI=["city"],VC=["postalCode"],zm=["beds"],jC=["baths"],Gs=["size"],HC=["price"];function Zm(i,t){if(1&i){const e=g.EpF();g.TgZ(0,"div",5)(1,"div",6)(2,"label",7),g._uU(3,"Street Address:"),g._UZ(4,"br")(5,"input",8,9),g.qZA(),g.TgZ(7,"label",10),g._uU(8,"City:"),g._UZ(9,"br")(10,"input",8,11),g.qZA(),g.TgZ(12,"label",12),g._uU(13,"Postal Code:"),g._UZ(14,"br")(15,"input",8,13),g.qZA(),g.TgZ(17,"label",14),g._uU(18,"Number of Beds:"),g._UZ(19,"br")(20,"input",15,16),g.qZA(),g.TgZ(22,"label",17),g._uU(23,"Number of Baths:"),g._UZ(24,"br")(25,"input",15,18),g.qZA(),g.TgZ(27,"label",19),g._uU(28,"Size (sqft):"),g._UZ(29,"br")(30,"input",15,20),g.qZA(),g.TgZ(32,"label",21),g._uU(33,"Price:"),g._UZ(34,"br")(35,"input",15,22),g.qZA(),g.TgZ(37,"div",23)(38,"button",24),g.NdJ("click",function(){return g.CHM(e),g.oxw().isCreatingListing=!1}),g._uU(39,"Cancel"),g.qZA(),g.TgZ(40,"button",25),g.NdJ("click",function(){return g.CHM(e),g.oxw().postListing()}),g._uU(41,"Submit"),g.qZA()()()()}}const Wv=[{path:"home",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-home"]],decls:26,vars:0,consts:[[1,"mainText"],[1,"subText"],[1,"quickSearch"],[1,"title"],[1,"searchOptions"],[1,"topField"],[1,"innerField"],[1,"mainField"],[1,"bottomSearch"]],template:function(e,o){1&e&&(g.TgZ(0,"span",0),g._uU(1," BUY. RENT. SELL.\n"),g.qZA(),g.TgZ(2,"span",1),g._uU(3," Wether you are a young adult looking to rent your first home, a working professional in the market to buy your first home, or are looking to sell your current home, HomeHunter provides top quality listings and wants to help you sell your own house.\n"),g.qZA(),g.TgZ(4,"div",2)(5,"span",3),g._uU(6," Quick Search "),g.qZA(),g.TgZ(7,"div",4)(8,"div",5)(9,"span",6),g._uU(10,"Location"),g.qZA()(),g.TgZ(11,"div",7)(12,"span",6),g._uU(13,"Type"),g.qZA()(),g.TgZ(14,"div",7)(15,"span",6),g._uU(16,"Max Price"),g.qZA()(),g.TgZ(17,"div",7)(18,"span",6),g._uU(19,"Bedrooms"),g.qZA()(),g.TgZ(20,"div",7)(21,"span",6),g._uU(22,"Bathrooms"),g.qZA()(),g.TgZ(23,"div",8)(24,"span",6),g._uU(25,"Search"),g.qZA()()()())},styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.mainText[_ngcontent-%COMP%]{width:756px;color:#000;position:absolute;top:368px;left:582px;font-size:96px;text-align:center}.subText[_ngcontent-%COMP%]{margin-top:100px;width:614px;color:#000;position:absolute;top:479px;left:653px;font-size:24px;text-align:center}.quickSearch[_ngcontent-%COMP%]{width:255px;height:525px;position:absolute;top:400px;left:1020px;overflow:hidden;background-color:#000;border-radius:30px}.title[_ngcontent-%COMP%]{width:215px;color:#f1faee;position:absolute;top:8px;left:20px;font-family:Roboto;font-weight:700;font-size:36px;opacity:1;text-align:left}.searchOptions[_ngcontent-%COMP%]{width:200px;height:467px;margin:15px;opacity:1;position:absolute;top:50px;left:28px;overflow:hidden;display:flex;flex-direction:column}.topField[_ngcontent-%COMP%]{width:200px;height:59px;opacity:1;display:block;overflow:hidden;background:#f1faee;border:4px solid #1d3557;border-top-left-radius:30px;border-top-right-radius:30px}.innerField[_ngcontent-%COMP%]{width:136px;color:#1d3557;font-family:Roboto;font-weight:Light Italic;font-size:24px;opacity:1;text-align:center;display:block}.mainField[_ngcontent-%COMP%]{width:200px;height:59px;opacity:1;display:block;overflow:hidden;background:#f1faee;border:4px solid #1d3557}.bottomSearch[_ngcontent-%COMP%]{width:200px;height:59px;opacity:1;position:absolute;top:389px;left:0px;overflow:hidden}"]}),i})()},{path:"rent",component:YI},{path:"buy",component:UC},{path:"sell",component:(()=>{class i{constructor(e){this.db=e,this.isCreatingListing=!1}ngOnInit(){}postListing(){var e={address:this.addressElem.nativeElement.value,city:this.cityElem.nativeElement.value,postalCode:this.postalElem.nativeElement.value,beds:this.bedsElem.nativeElement.value,baths:this.bathsElem.nativeElement.value,size:this.sizeElem.nativeElement.value,price:this.priceElem.nativeElement.value};try{this.db.database.ref("Listings").push(e),alert("Listing Posted!")}catch(o){alert("Error Submitting Listing, Please try again")}this.addressElem.nativeElement.value=null,this.cityElem.nativeElement.value=null,this.postalElem.nativeElement.value=null,this.bedsElem.nativeElement.value=null,this.bathsElem.nativeElement.value=null,this.sizeElem.nativeElement.value=null,this.priceElem.nativeElement.value=null,this.isCreatingListing=!1}}return i.\u0275fac=function(e){return new(e||i)(g.Y36(Dd))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-sell"]],viewQuery:function(e,o){if(1&e&&(g.Gf(BC,5),g.Gf(QI,5),g.Gf(VC,5),g.Gf(zm,5),g.Gf(jC,5),g.Gf(Gs,5),g.Gf(HC,5)),2&e){let l;g.iGM(l=g.CRH())&&(o.addressElem=l.first),g.iGM(l=g.CRH())&&(o.cityElem=l.first),g.iGM(l=g.CRH())&&(o.postalElem=l.first),g.iGM(l=g.CRH())&&(o.bedsElem=l.first),g.iGM(l=g.CRH())&&(o.bathsElem=l.first),g.iGM(l=g.CRH())&&(o.sizeElem=l.first),g.iGM(l=g.CRH())&&(o.priceElem=l.first)}},decls:9,vars:1,consts:[[1,"subText"],[1,"mainText"],[1,"sellButton",3,"click"],[1,"resourcesButton"],["class","newListingOverlay",4,"ngIf"],[1,"newListingOverlay"],[1,"listingForm"],["for","adress"],["type","text"],["address",""],["for","province"],["city",""],["for","postalCode"],["postalCode",""],["for","beds"],["type","number"],["beds",""],["for","baths"],["baths",""],["for","size"],["size",""],["for","price"],["price",""],[1,"buttons"],[1,"cancel",3,"click"],[1,"submit",3,"click"]],template:function(e,o){1&e&&(g.TgZ(0,"span",0),g._uU(1," No matter your real estate needs, HomeHunter\u2019s got you covered\n"),g.qZA(),g.TgZ(2,"span",1),g._uU(3," SELL YOUR HOME WITH EASE\n"),g.qZA(),g.TgZ(4,"button",2),g.NdJ("click",function(){return o.isCreatingListing=!0}),g._uU(5," Sell a property "),g.qZA(),g.TgZ(6,"button",3),g._uU(7," Resources\n"),g.qZA(),g.YNc(8,Zm,42,0,"div",4)),2&e&&(g.xp6(8),g.Q6J("ngIf",o.isCreatingListing))},directives:[Ir],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.subText[_ngcontent-%COMP%]{width:656px;color:#457b9d;position:absolute;top:500px;left:165px;font-size:48px;text-align:center;margin-top:60px}.mainText[_ngcontent-%COMP%]{width:786px;color:#1d3557;position:absolute;top:200px;left:100px;font-weight:700;font-size:90px;opacity:1;text-align:center}.sellButton[_ngcontent-%COMP%]{width:390px;height:105px;background:#457b9d;margin:30px;position:absolute;top:769px;left:100px;border-radius:50px;box-shadow:10px 10px 20px #00000040;box-shadow:inset -10px -10px 20px #000000a8,inset 10px 10px 20px #d8d8d8b6;text-align:center;color:#f1faee;font-size:30px;border:none;cursor:pointer}.resourcesButton[_ngcontent-%COMP%]{width:300px;height:105px;background:#457b9d;margin:30px;position:absolute;top:769px;left:586px;border-radius:50px;box-shadow:10px 10px 20px #00000040;box-shadow:inset -10px -10px 20px #000000a8,inset 10px 10px 20px #d8d8d8b6;text-align:center;color:#f1faee;font-size:30px;border:none;cursor:pointer}.newListingOverlay[_ngcontent-%COMP%]{display:flex;position:fixed;top:0%;left:0%;right:0%;height:100%;width:100%;background-color:#80808086;justify-content:center;align-items:center}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]{width:50%;height:70%;background-color:#fff;padding:30px;padding-bottom:0%!important}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;width:30%;margin:15px;font-weight:700;text-align:center}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:2.5rem}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;position:sticky;top:100%;width:100%;align-items:center;justify-content:center}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:2rem;border:none;border-radius:10px;margin:15px;color:#fff;font-size:large;font-weight:700;cursor:pointer}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{background-color:red}.newListingOverlay[_ngcontent-%COMP%]   .listingForm[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .submit[_ngcontent-%COMP%]{background-color:green}"]}),i})()},{path:"learn",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-learn"]],decls:2,vars:0,template:function(e,o){1&e&&(g.TgZ(0,"p"),g._uU(1,"learn works!"),g.qZA())},styles:[""]}),i})()}];let Gv=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({imports:[[Gf.forRoot(Wv)],Gf]}),i})(),$C=(()=>{class i{constructor(e){this.title="homehunter"}}return i.\u0275fac=function(e){return new(e||i)(g.Y36(Dd))},i.\u0275cmp=g.Xpm({type:i,selectors:[["app-root"]],decls:21,vars:0,consts:[[1,"container"],["href","#","routerLinkActive","router-link-active","routerLink","/home",1,"logo"],["href","#","routerLinkActive","router-link-active","routerLink","/rent"],["href","#","routerLinkActive","router-link-active","routerLink","/buy"],["href","#","routerLinkActive","router-link-active","routerLink","/sell"],["href","#","routerLinkActive","router-link-active","routerLink","/learn"]],template:function(e,o){1&e&&(g.TgZ(0,"header")(1,"div",0)(2,"a",1),g._uU(3,"HomeHunter"),g.qZA(),g.TgZ(4,"nav")(5,"ul")(6,"li")(7,"a",2),g._uU(8,"Rent"),g.qZA()(),g.TgZ(9,"li")(10,"a",3),g._uU(11,"Buy"),g.qZA()(),g.TgZ(12,"li")(13,"a",4),g._uU(14,"Sell"),g.qZA()(),g.TgZ(15,"li")(16,"a",5),g._uU(17,"Learn"),g.qZA()()()()()(),g._UZ(18,"body"),g.TgZ(19,"div",0),g._UZ(20,"router-outlet"),g.qZA())},directives:[Wf,Gm,Tm],styles:[""]}),i})();const Km_firebase={projectId:"homehunter-cosc3p94",appId:"1:713223580883:web:52fb46fd3530c01989b826",databaseURL:"https://homehunter-cosc3p94-default-rtdb.firebaseio.com",storageBucket:"homehunter-cosc3p94.appspot.com",apiKey:"AIzaSyBfmSrOUgl2EiP-zSL3zpvyRxyPkJqBHqo",authDomain:"homehunter-cosc3p94.firebaseapp.com",messagingSenderId:"713223580883",measurementId:"G-E56XXYXNGG"};let GC=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=g.oAB({type:i,bootstrap:[$C]}),i.\u0275inj=g.cJS({providers:[],imports:[[xo,_i.hO.initializeApp(Km_firebase),My,Gv]]}),i})();(0,g.G48)(),_l().bootstrapModule(GC).catch(i=>console.error(i))},5867:(ze,ve,P)=>{P.d(ve,{C6:()=>g.getApps,Mq:()=>g.getApp});var g=P(9681);(0,g.registerVersion)("firebase","9.6.9","app")},127:(ze,ve,P)=>{P.d(ve,{Z:()=>g.Z});var g=P(3942);g.Z.registerVersion("firebase","9.6.9","app-compat")},2092:(ze,ve,P)=>{P.r(ve);var g=P(5861),K=P(3942),x=P(2090),se=P(9681),J=P(655),de=P(1877),ie=P(4859);const Te=function Fe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Re=function we(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ce=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),je=new de.Yd("@firebase/auth");function Le(m,...c){je.logLevel<=de.in.ERROR&&je.error(`Auth (${se.SDK_VERSION}): ${m}`,...c)}function Ee(m,...c){throw Oe(m,...c)}function ge(m,...c){return Oe(m,...c)}function me(m,c,f){const y=Object.assign(Object.assign({},Re()),{[c]:f});return new x.LL("auth","Firebase",y).create(c,{appName:m.name})}function Ne(m,c,f){if(!(c instanceof f))throw f.name!==c.constructor.name&&Ee(m,"argument-error"),me(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(m,...c){if("string"!=typeof m){const f=c[0],y=[...c.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(f,...y)}return ce.create(m,...c)}function ee(m,c,...f){if(!m)throw Oe(c,...f)}function G(m){const c="INTERNAL ASSERTION FAILED: "+m;throw Le(c),new Error(c)}function te(m,c){m||G(c)}const he=new Map;function ne(m){te(m instanceof Function,"Expected a class definition");let c=he.get(m);return c?(te(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,he.set(m,c),c)}function lt(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function Nt(){return"http:"===fn()||"https:"===fn()}function fn(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ht{constructor(c,f){this.shortDelay=c,this.longDelay=f,te(f>c,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function Ze(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $t(m,c){te(m.emulator,"Emulator should always be set here");const{url:f}=m.emulator;return c?`${f}${c.startsWith("/")?c.slice(1):c}`:f}class Fr{static initialize(c,f,y){this.fetchImpl=c,f&&(this.headersImpl=f),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void G("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void G("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void G("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Gr=new Ht(3e4,6e4);function kt(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function It(m,c,f,y){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,g.Z)(function*(m,c,f,y,D={}){return ir(m,D,(0,g.Z)(function*(){let M={},W={};y&&("GET"===c?W=y:M={body:JSON.stringify(y)});const re=(0,x.xO)(Object.assign({key:m.config.apiKey},W)).slice(1),Pe=yield m._getAdditionalHeaders();return Pe["Content-Type"]="application/json",m.languageCode&&(Pe["X-Firebase-Locale"]=m.languageCode),Fr.fetch()(er(m,m.config.apiHost,f,re),Object.assign({method:c,headers:Pe,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function ir(m,c,f){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,g.Z)(function*(m,c,f){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},Lt),c);try{const D=new ai(m),M=yield Promise.race([f(),D.promise]);D.clearNetworkTimeout();const W=yield M.json();if("needConfirmation"in W)throw Zr(m,"account-exists-with-different-credential",W);if(M.ok&&!("errorMessage"in W))return W;{const re=M.ok?W.errorMessage:W.error.message,[Pe,He]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw Zr(m,"credential-already-in-use",W);if("EMAIL_EXISTS"===Pe)throw Zr(m,"email-already-in-use",W);const nt=y[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(He)throw me(m,nt,He);Ee(m,nt)}}catch(D){if(D instanceof x.ZR)throw D;Ee(m,"network-request-failed")}})).apply(this,arguments)}function Xn(m,c,f,y){return zr.apply(this,arguments)}function zr(){return(zr=(0,g.Z)(function*(m,c,f,y,D={}){const M=yield It(m,c,f,y,D);return"mfaPendingCredential"in M&&Ee(m,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function er(m,c,f,y){const D=`${c}${f}?${y}`;return m.config.emulator?$t(m.config,D):`${m.config.apiScheme}://${D}`}class ai{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((f,y)=>{this.timer=setTimeout(()=>y(ge(this.auth,"network-request-failed")),Gr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zr(m,c,f){const y={appName:m.name};f.email&&(y.email=f.email),f.phoneNumber&&(y.phoneNumber=f.phoneNumber);const D=ge(m,c,y);return D.customData._tokenResponse=f,D}function sr(){return(sr=(0,g.Z)(function*(m,c){return It(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function Mn(m,c){return bn.apply(this,arguments)}function bn(){return(bn=(0,g.Z)(function*(m,c){return It(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Er(m,c){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,g.Z)(function*(m,c){return It(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function Zt(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch(c){}}function Zs(){return(Zs=(0,g.Z)(function*(m,c=!1){const f=(0,x.m9)(m),y=yield f.getIdToken(c),D=Ge(y);ee(D&&D.exp&&D.auth_time&&D.iat,f.auth,"internal-error");const M="object"==typeof D.firebase?D.firebase:void 0,W=null==M?void 0:M.sign_in_provider;return{claims:D,token:y,authTime:Zt(wt(D.auth_time)),issuedAtTime:Zt(wt(D.iat)),expirationTime:Zt(wt(D.exp)),signInProvider:W||null,signInSecondFactor:(null==M?void 0:M.sign_in_second_factor)||null}})).apply(this,arguments)}function wt(m){return 1e3*Number(m)}function Ge(m){const[c,f,y]=m.split(".");if(void 0===c||void 0===f||void 0===y)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,x.tV)(f);return D?JSON.parse(D):(Le("Failed to decode base64 JWT payload"),null)}catch(D){return Le("Caught error parsing JWT payload as JSON",D),null}}function Ln(m,c){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,g.Z)(function*(m,c,f=!1){if(f)return c;try{return yield c}catch(y){throw y instanceof x.ZR&&bt(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}function bt({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class ms{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var f;if(c){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const D=(null!==(f=this.user.stsTokenManager.expirationTime)&&void 0!==f?f:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(c=!1){var f=this;if(!this.isRunning)return;const y=this.getInterval(c);this.timerId=setTimeout((0,g.Z)(function*(){yield f.iteration()}),y)}iteration(){var c=this;return(0,g.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(f){return void("auth/network-request-failed"===f.code&&c.schedule(!0))}c.schedule()})()}}class Hn{constructor(c,f){this.createdAt=c,this.lastLoginAt=f,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zt(this.lastLoginAt),this.creationTime=Zt(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(m){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,g.Z)(function*(m){var c;const f=m.auth,y=yield m.getIdToken(),D=yield Ln(m,Er(f,{idToken:y}));ee(null==D?void 0:D.users.length,f,"internal-error");const M=D.users[0];m._notifyReloadListener(M);const W=(null===(c=M.providerUserInfo)||void 0===c?void 0:c.length)?Ce(M.providerUserInfo):[],re=Ue(m.providerData,W),nt=!!m.isAnonymous&&!(m.email&&M.passwordHash||(null==re?void 0:re.length)),Ke={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:re,metadata:new Hn(M.createdAt,M.lastLoginAt),isAnonymous:nt};Object.assign(m,Ke)})).apply(this,arguments)}function yt(){return(yt=(0,g.Z)(function*(m){const c=(0,x.m9)(m);yield Un(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Ue(m,c){return[...m.filter(y=>!c.some(D=>D.providerId===y.providerId)),...c]}function Ce(m){return m.map(c=>{var{providerId:f}=c,y=(0,J._T)(c,["providerId"]);return{providerId:f,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function Qe(){return(Qe=(0,g.Z)(function*(m,c){const f=yield ir(m,{},(0,g.Z)(function*(){const y=(0,x.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:D,apiKey:M}=m.config,W=er(m,D,"/v1/token",`key=${M}`),re=yield m._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",Fr.fetch()(W,{method:"POST",headers:re,body:y})}));return{accessToken:f.access_token,expiresIn:f.expires_in,refreshToken:f.refresh_token}})).apply(this,arguments)}class Et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){ee(c.idToken,"internal-error"),ee(void 0!==c.idToken,"internal-error"),ee(void 0!==c.refreshToken,"internal-error");const f="expiresIn"in c&&void 0!==c.expiresIn?Number(c.expiresIn):function st(m){const c=Ge(m);return ee(c,"internal-error"),ee(void 0!==c.exp,"internal-error"),ee(void 0!==c.iat,"internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,f)}getToken(c,f=!1){var y=this;return(0,g.Z)(function*(){return ee(!y.accessToken||y.refreshToken,c,"user-token-expired"),f||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(c,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,f){var y=this;return(0,g.Z)(function*(){const{accessToken:D,refreshToken:M,expiresIn:W}=yield function Ve(m,c){return Qe.apply(this,arguments)}(c,f);y.updateTokensAndExpiration(D,M,Number(W))})()}updateTokensAndExpiration(c,f,y){this.refreshToken=f||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(c,f){const{refreshToken:y,accessToken:D,expirationTime:M}=f,W=new Et;return y&&(ee("string"==typeof y,"internal-error",{appName:c}),W.refreshToken=y),D&&(ee("string"==typeof D,"internal-error",{appName:c}),W.accessToken=D),M&&(ee("number"==typeof M,"internal-error",{appName:c}),W.expirationTime=M),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new Et,this.toJSON())}_performRefresh(){return G("not implemented")}}function gt(m,c){ee("string"==typeof m||void 0===m,"internal-error",{appName:c})}class B{constructor(c){var{uid:f,auth:y,stsTokenManager:D}=c,M=(0,J._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ms(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=f,this.auth=y,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Hn(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(c){var f=this;return(0,g.Z)(function*(){const y=yield Ln(f,f.stsTokenManager.getToken(f.auth,c));return ee(y,f.auth,"internal-error"),f.accessToken!==y&&(f.accessToken=y,yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)),y})()}getIdTokenResult(c){return function li(m){return Zs.apply(this,arguments)}(this,c)}reload(){return function $n(m){return yt.apply(this,arguments)}(this)}_assign(c){this!==c&&(ee(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(f=>Object.assign({},f)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new B(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,f=!1){var y=this;return(0,g.Z)(function*(){let D=!1;c.idToken&&c.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(c),D=!0),f&&(yield Un(y)),yield y.auth._persistUserIfCurrent(y),D&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var c=this;return(0,g.Z)(function*(){const f=yield c.getIdToken();return yield Ln(c,function qe(m,c){return sr.apply(this,arguments)}(c.auth,{idToken:f})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,f){var y,D,M,W,re,Pe,He,nt;const Ke=null!==(y=f.displayName)&&void 0!==y?y:void 0,xt=null!==(D=f.email)&&void 0!==D?D:void 0,Pr=null!==(M=f.phoneNumber)&&void 0!==M?M:void 0,Ko=null!==(W=f.photoURL)&&void 0!==W?W:void 0,Ga=null!==(re=f.tenantId)&&void 0!==re?re:void 0,po=null!==(Pe=f._redirectEventId)&&void 0!==Pe?Pe:void 0,qo=null!==(He=f.createdAt)&&void 0!==He?He:void 0,Yo=null!==(nt=f.lastLoginAt)&&void 0!==nt?nt:void 0,{uid:Hr,emailVerified:Si,isAnonymous:qc,providerData:Yc,stsTokenManager:go}=f;ee(Hr&&go,c,"internal-error");const cp=Et.fromJSON(this.name,go);ee("string"==typeof Hr,c,"internal-error"),gt(Ke,c.name),gt(xt,c.name),ee("boolean"==typeof Si,c,"internal-error"),ee("boolean"==typeof qc,c,"internal-error"),gt(Pr,c.name),gt(Ko,c.name),gt(Ga,c.name),gt(po,c.name),gt(qo,c.name),gt(Yo,c.name);const Qc=new B({uid:Hr,auth:c,email:xt,emailVerified:Si,displayName:Ke,isAnonymous:qc,photoURL:Ko,phoneNumber:Pr,tenantId:Ga,stsTokenManager:cp,createdAt:qo,lastLoginAt:Yo});return Yc&&Array.isArray(Yc)&&(Qc.providerData=Yc.map($u=>Object.assign({},$u))),po&&(Qc._redirectEventId=po),Qc}static _fromIdTokenResponse(c,f,y=!1){return(0,g.Z)(function*(){const D=new Et;D.updateFromServerResponse(f);const M=new B({uid:f.localId,auth:c,stsTokenManager:D,isAnonymous:y});return yield Un(M),M})()}}const $=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(f,y){var D=this;return(0,g.Z)(function*(){D.storage[f]=y})()}_get(f){var y=this;return(0,g.Z)(function*(){const D=y.storage[f];return void 0===D?null:D})()}_remove(f){var y=this;return(0,g.Z)(function*(){delete y.storage[f]})()}_addListener(f,y){}_removeListener(f,y){}}return m.type="NONE",m})();function le(m,c,f){return`firebase:${m}:${c}:${f}`}class q{constructor(c,f,y){this.persistence=c,this.auth=f,this.userKey=y;const{config:D,name:M}=this.auth;this.fullUserKey=le(this.userKey,D.apiKey,M),this.fullPersistenceKey=le("persistence",D.apiKey,M),this.boundEventHandler=f._onStorageEvent.bind(f),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,g.Z)(function*(){const f=yield c.persistence._get(c.fullUserKey);return f?B._fromJSON(c.auth,f):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var f=this;return(0,g.Z)(function*(){if(f.persistence===c)return;const y=yield f.getCurrentUser();return yield f.removeCurrentUser(),f.persistence=c,y?f.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,f,y="authUser"){return(0,g.Z)(function*(){if(!f.length)return new q(ne($),c,y);const D=(yield Promise.all(f.map(function(){var He=(0,g.Z)(function*(nt){if(yield nt._isAvailable())return nt});return function(nt){return He.apply(this,arguments)}}()))).filter(He=>He);let M=D[0]||ne($);const W=le(y,c.config.apiKey,c.name);let re=null;for(const He of f)try{const nt=yield He._get(W);if(nt){const Ke=B._fromJSON(c,nt);He!==M&&(re=Ke),M=He;break}}catch(nt){}const Pe=D.filter(He=>He._shouldAllowMigration);return M._shouldAllowMigration&&Pe.length?(M=Pe[0],re&&(yield M._set(W,re.toJSON())),yield Promise.all(f.map(function(){var He=(0,g.Z)(function*(nt){if(nt!==M)try{yield nt._remove(W)}catch(Ke){}});return function(nt){return He.apply(this,arguments)}}())),new q(M,c,y)):new q(M,c,y)})()}}function xe(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(At(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(tt(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(ft(c))return"Blackberry";if(Gt(c))return"Webos";if(Pt(c))return"Safari";if((c.includes("chrome/")||Wn(c))&&!c.includes("edge/"))return"Chrome";if(cn(c))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function tt(m=(0,x.z$)()){return/firefox\//i.test(m)}function Pt(m=(0,x.z$)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Wn(m=(0,x.z$)()){return/crios\//i.test(m)}function At(m=(0,x.z$)()){return/iemobile/i.test(m)}function cn(m=(0,x.z$)()){return/android/i.test(m)}function ft(m=(0,x.z$)()){return/blackberry/i.test(m)}function Gt(m=(0,x.z$)()){return/webos/i.test(m)}function xn(m=(0,x.z$)()){return/iphone|ipad|ipod/i.test(m)}function ui(m=(0,x.z$)()){return xn(m)||cn(m)||Gt(m)||ft(m)||/windows phone/i.test(m)||At(m)}function Do(m,c=[]){let f;switch(m){case"Browser":f=xe((0,x.z$)());break;case"Worker":f=`${xe((0,x.z$)())}-${m}`;break;default:f=m}const y=c.length?c.join(","):"FirebaseCore-web";return`${f}/JsCore/${se.SDK_VERSION}/${y}`}class Cr{constructor(c,f,y){this.app=c,this.heartbeatServiceProvider=f,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pt(this),this.idTokenSubscription=new pt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ce,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(c,f){var y=this;return f&&(this._popupRedirectResolver=ne(f)),this._initializationPromise=this.queue((0,g.Z)(function*(){var D,M;if(!y._deleted&&(y.persistenceManager=yield q.create(y,c),!y._deleted)){if(null===(D=y._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(W){}yield y.initializeCurrentUser(f),y.lastNotifiedUid=(null===(M=y.currentUser)||void 0===M?void 0:M.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,g.Z)(function*(){if(c._deleted)return;const f=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||f){if(c.currentUser&&f&&c.currentUser.uid===f.uid)return c._currentUser._assign(f),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(f)}})()}initializeCurrentUser(c){var f=this;return(0,g.Z)(function*(){var y;let D=yield f.assertedPersistence.getCurrentUser();if(c&&f.config.authDomain){yield f.getOrInitRedirectPersistenceManager();const M=null===(y=f.redirectUser)||void 0===y?void 0:y._redirectEventId,W=null==D?void 0:D._redirectEventId,re=yield f.tryRedirectSignIn(c);(!M||M===W)&&(null==re?void 0:re.user)&&(D=re.user)}return D?D._redirectEventId?(ee(f._popupRedirectResolver,f,"argument-error"),yield f.getOrInitRedirectPersistenceManager(),f.redirectUser&&f.redirectUser._redirectEventId===D._redirectEventId?f.directlySetCurrentUser(D):f.reloadAndSetCurrentUserOrClear(D)):f.reloadAndSetCurrentUserOrClear(D):f.directlySetCurrentUser(null)})()}tryRedirectSignIn(c){var f=this;return(0,g.Z)(function*(){let y=null;try{y=yield f._popupRedirectResolver._completeRedirectFn(f,c,!0)}catch(D){yield f._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(c){var f=this;return(0,g.Z)(function*(){try{yield Un(c)}catch(y){if("auth/network-request-failed"!==y.code)return f.directlySetCurrentUser(null)}return f.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function Xe(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,g.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var f=this;return(0,g.Z)(function*(){const y=c?(0,x.m9)(c):null;return y&&ee(y.auth.config.apiKey===f.config.apiKey,f,"invalid-user-token"),f._updateCurrentUser(y&&y._clone(f))})()}_updateCurrentUser(c){var f=this;return(0,g.Z)(function*(){if(!f._deleted)return c&&ee(f.tenantId===c.tenantId,f,"tenant-id-mismatch"),f.queue((0,g.Z)(function*(){yield f.directlySetCurrentUser(c),f.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,g.Z)(function*(){return(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null)})()}setPersistence(c){var f=this;return this.queue((0,g.Z)(function*(){yield f.assertedPersistence.setPersistence(ne(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new x.LL("auth","Firebase",c())}onAuthStateChanged(c,f,y){return this.registerStateListener(this.authStateSubscription,c,f,y)}onIdTokenChanged(c,f,y){return this.registerStateListener(this.idTokenSubscription,c,f,y)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,f){var y=this;return(0,g.Z)(function*(){const D=yield y.getOrInitRedirectPersistenceManager(f);return null===c?D.removeCurrentUser():D.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var f=this;return(0,g.Z)(function*(){if(!f.redirectPersistenceManager){const y=c&&ne(c)||f._popupRedirectResolver;ee(y,f,"argument-error"),f.redirectPersistenceManager=yield q.create(f,[ne(y._redirectPersistence)],"redirectUser"),f.redirectUser=yield f.redirectPersistenceManager.getCurrentUser()}return f.redirectPersistenceManager})()}_redirectUserForId(c){var f=this;return(0,g.Z)(function*(){var y,D;return f._isInitialized&&(yield f.queue((0,g.Z)(function*(){}))),(null===(y=f._currentUser)||void 0===y?void 0:y._redirectEventId)===c?f._currentUser:(null===(D=f.redirectUser)||void 0===D?void 0:D._redirectEventId)===c?f.redirectUser:null})()}_persistUserIfCurrent(c){var f=this;return(0,g.Z)(function*(){if(c===f.currentUser)return f.queue((0,g.Z)(function*(){return f.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,f;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(f=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==f?f:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,f,y,D){if(this._deleted)return()=>{};const M="function"==typeof f?f:f.next.bind(f),W=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(W,this,"internal-error"),W.then(()=>M(this.currentUser)),"function"==typeof f?c.addObserver(f,y,D):c.addObserver(f)}directlySetCurrentUser(c){var f=this;return(0,g.Z)(function*(){f.currentUser&&f.currentUser!==c&&(f._currentUser._stopProactiveRefresh(),c&&f.isProactiveRefreshEnabled&&c._startProactiveRefresh()),f.currentUser=c,c?yield f.assertedPersistence.setCurrentUser(c):yield f.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=Do(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,g.Z)(function*(){var f;const y={"X-Client-Version":c.clientVersion};c.app.options.appId&&(y["X-Firebase-gmpid"]=c.app.options.appId);const D=yield null===(f=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===f?void 0:f.getHeartbeatsHeader();return D&&(y["X-Firebase-Client"]=D),y})()}}function Ae(m){return(0,x.m9)(m)}class pt{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,x.ne)(f=>this.observer=f)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Bn(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function yn(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class Ut{constructor(c,f){this.providerId=c,this.signInMethod=f}toJSON(){return G("not implemented")}_getIdTokenResponse(c){return G("not implemented")}_linkToIdToken(c,f){return G("not implemented")}_getReauthenticationResolver(c){return G("not implemented")}}function pn(m,c){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,g.Z)(function*(m,c){return It(m,"POST","/v1/accounts:resetPassword",kt(m,c))})).apply(this,arguments)}function dt(m,c){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,g.Z)(function*(m,c){return It(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function ys(m,c){return To.apply(this,arguments)}function To(){return(To=(0,g.Z)(function*(m,c){return It(m,"POST","/v1/accounts:update",kt(m,c))})).apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithPassword",kt(m,c))})).apply(this,arguments)}function ci(m,c){return di.apply(this,arguments)}function di(){return(di=(0,g.Z)(function*(m,c){return It(m,"POST","/v1/accounts:sendOobCode",kt(m,c))})).apply(this,arguments)}function Ir(m,c){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,g.Z)(function*(m,c){return ci(m,c)})).apply(this,arguments)}function aa(m,c){return la.apply(this,arguments)}function la(){return(la=(0,g.Z)(function*(m,c){return ci(m,c)})).apply(this,arguments)}function Lr(m,c){return wr.apply(this,arguments)}function wr(){return(wr=(0,g.Z)(function*(m,c){return ci(m,c)})).apply(this,arguments)}function iu(m,c){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,g.Z)(function*(m,c){return ci(m,c)})).apply(this,arguments)}function or(){return(or=(0,g.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithEmailLink",kt(m,c))})).apply(this,arguments)}function su(){return(su=(0,g.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithEmailLink",kt(m,c))})).apply(this,arguments)}class ca extends Ut{constructor(c,f,y,D=null){super("password",y),this._email=c,this._password=f,this._tenantId=D}static _fromEmailAndPassword(c,f){return new ca(c,f,"password")}static _fromEmailAndCode(c,f,y=null){return new ca(c,f,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c;if((null==f?void 0:f.email)&&(null==f?void 0:f.password)){if("password"===f.signInMethod)return this._fromEmailAndPassword(f.email,f.password);if("emailLink"===f.signInMethod)return this._fromEmailAndCode(f.email,f.password,f.tenantId)}return null}_getIdTokenResponse(c){var f=this;return(0,g.Z)(function*(){switch(f.signInMethod){case"password":return function Li(m,c){return On.apply(this,arguments)}(c,{returnSecureToken:!0,email:f._email,password:f._password});case"emailLink":return function ua(m,c){return or.apply(this,arguments)}(c,{email:f._email,oobCode:f._password});default:Ee(c,"internal-error")}})()}_linkToIdToken(c,f){var y=this;return(0,g.Z)(function*(){switch(y.signInMethod){case"password":return dt(c,{idToken:f,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Rc(m,c){return su.apply(this,arguments)}(c,{idToken:f,email:y._email,oobCode:y._password});default:Ee(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function vn(m,c){return ou.apply(this,arguments)}function ou(){return(ou=(0,g.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithIdp",kt(m,c))})).apply(this,arguments)}class hi extends Ut{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const f=new hi(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(f.idToken=c.idToken),c.accessToken&&(f.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(f.nonce=c.nonce),c.pendingToken&&(f.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(f.accessToken=c.oauthToken,f.secret=c.oauthTokenSecret):Ee("argument-error"),f}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:D}=f,M=(0,J._T)(f,["providerId","signInMethod"]);if(!y||!D)return null;const W=new hi(y,D);return W.idToken=M.idToken||void 0,W.accessToken=M.accessToken||void 0,W.secret=M.secret,W.nonce=M.nonce,W.pendingToken=M.pendingToken||null,W}_getIdTokenResponse(c){return vn(c,this.buildRequest())}_linkToIdToken(c,f){const y=this.buildRequest();return y.idToken=f,vn(c,y)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,vn(c,f)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const f={};this.idToken&&(f.id_token=this.idToken),this.accessToken&&(f.access_token=this.accessToken),this.secret&&(f.oauth_token_secret=this.secret),f.providerId=this.providerId,this.nonce&&!this.pendingToken&&(f.nonce=this.nonce),c.postBody=(0,x.xO)(f)}return c}}function Yd(m,c){return au.apply(this,arguments)}function au(){return(au=(0,g.Z)(function*(m,c){return It(m,"POST","/v1/accounts:sendVerificationCode",kt(m,c))})).apply(this,arguments)}function Bi(){return(Bi=(0,g.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,c))})).apply(this,arguments)}function lu(){return(lu=(0,g.Z)(function*(m,c){const f=yield Xn(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,c));if(f.temporaryProof)throw Zr(m,"account-exists-with-different-credential",f);return f})).apply(this,arguments)}const Jd={USER_NOT_FOUND:"user-not-found"};function uu(){return(uu=(0,g.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Jd)})).apply(this,arguments)}class qs extends Ut{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,f){return new qs({verificationId:c,verificationCode:f})}static _fromTokenResponse(c,f){return new qs({phoneNumber:c,temporaryProof:f})}_getIdTokenResponse(c){return function al(m,c){return Bi.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,f){return function Qd(m,c){return lu.apply(this,arguments)}(c,Object.assign({idToken:f},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Xd(m,c){return uu.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:f,verificationId:y,verificationCode:D}=this.params;return c&&f?{temporaryProof:c,phoneNumber:f}:{sessionInfo:y,code:D}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:f,verificationCode:y,phoneNumber:D,temporaryProof:M}=c;return y||f||D||M?new qs({verificationId:f,verificationCode:y,phoneNumber:D,temporaryProof:M}):null}}class vs{constructor(c){var f,y,D,M,W,re;const Pe=(0,x.zd)((0,x.pd)(c)),He=null!==(f=Pe.apiKey)&&void 0!==f?f:null,nt=null!==(y=Pe.oobCode)&&void 0!==y?y:null,Ke=function Kf(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Pe.mode)&&void 0!==D?D:null);ee(He&&nt&&Ke,"argument-error"),this.apiKey=He,this.operation=Ke,this.code=nt,this.continueUrl=null!==(M=Pe.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(W=Pe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(re=Pe.tenantId)&&void 0!==re?re:null}static parseLink(c){const f=function da(m){const c=(0,x.zd)((0,x.pd)(m)).link,f=c?(0,x.zd)((0,x.pd)(c)).deep_link_id:null,y=(0,x.zd)((0,x.pd)(m)).deep_link_id;return(y?(0,x.zd)((0,x.pd)(y)).link:null)||y||f||c||m}(c);try{return new vs(f)}catch(y){return null}}}let ll=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(f,y){return ca._fromEmailAndPassword(f,y)}static credentialWithLink(f,y){const D=vs.parseLink(y);return ee(D,"argument-error"),ca._fromEmailAndCode(f,D.code,D.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class Vi{constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class ar extends Vi{constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class Ys extends ar{static credentialFromJSON(c){const f="string"==typeof c?JSON.parse(c):c;return ee("providerId"in f&&"signInMethod"in f,"argument-error"),hi._fromParams(f)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return ee(c.idToken||c.accessToken,"argument-error"),hi._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return Ys.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return Ys.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:f,oauthAccessToken:y,oauthTokenSecret:D,pendingToken:M,nonce:W,providerId:re}=c;if(!y&&!D&&!f&&!M||!re)return null;try{return new Ys(re)._credential({idToken:f,accessToken:y,nonce:W,pendingToken:M})}catch(Pe){return null}}}let Es=(()=>{class m extends ar{constructor(){super("facebook.com")}static credential(f){return hi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(y){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Ao=(()=>{class m extends ar{constructor(){super("google.com"),this.addScope("profile")}static credential(f,y){return hi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:f,accessToken:y})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:y,oauthAccessToken:D}=f;if(!y&&!D)return null;try{return m.credential(y,D)}catch(M){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),cu=(()=>{class m extends ar{constructor(){super("github.com")}static credential(f){return hi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:f})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f||!("oauthAccessToken"in f)||!f.oauthAccessToken)return null;try{return m.credential(f.oauthAccessToken)}catch(y){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Qs extends Ut{constructor(c,f){super(c,c),this.pendingToken=f}_getIdTokenResponse(c){return vn(c,this.buildRequest())}_linkToIdToken(c,f){const y=this.buildRequest();return y.idToken=f,vn(c,y)}_getReauthenticationResolver(c){const f=this.buildRequest();return f.autoCreate=!1,vn(c,f)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const f="string"==typeof c?JSON.parse(c):c,{providerId:y,signInMethod:D,pendingToken:M}=f;return y&&D&&M&&y===D?new Qs(y,M):null}static _create(c,f){return new Qs(c,f)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class br extends Vi{constructor(c){ee(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return br.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return br.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const f=Qs.fromJSON(c);return ee(f,"argument-error"),f}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:f,providerId:y}=c;if(!f||!y)return null;try{return Qs._create(y,f)}catch(D){return null}}}let ha=(()=>{class m extends ar{constructor(){super("twitter.com")}static credential(f,y){return hi._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:f,oauthTokenSecret:y})}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthAccessToken:y,oauthTokenSecret:D}=f;if(!y||!D)return null;try{return m.credential(y,D)}catch(M){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function fa(m,c){return lr.apply(this,arguments)}function lr(){return(lr=(0,g.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signUp",kt(m,c))})).apply(this,arguments)}class Gn{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,f,y,D=!1){return(0,g.Z)(function*(){const M=yield B._fromIdTokenResponse(c,y,D),W=Pc(y);return new Gn({user:M,providerId:W,_tokenResponse:y,operationType:f})})()}static _forOperation(c,f,y){return(0,g.Z)(function*(){yield c._updateTokensIfNecessary(y,!0);const D=Pc(y);return new Gn({user:c,providerId:D,_tokenResponse:y,operationType:f})})()}}function Pc(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function du(){return(du=(0,g.Z)(function*(m){var c;const f=Ae(m);if(yield f._initializationPromise,null===(c=f.currentUser)||void 0===c?void 0:c.isAnonymous)return new Gn({user:f.currentUser,providerId:null,operationType:"signIn"});const y=yield fa(f,{returnSecureToken:!0}),D=yield Gn._fromIdTokenResponse(f,"signIn",y,!0);return yield f._updateCurrentUser(D.user),D})).apply(this,arguments)}class ga extends x.ZR{constructor(c,f,y,D){var M;super(f.code,f.message),this.operationType=y,this.user=D,Object.setPrototypeOf(this,ga.prototype),this.customData={appName:c.name,tenantId:null!==(M=c.tenantId)&&void 0!==M?M:void 0,_serverResponse:f.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(c,f,y,D){return new ga(c,f,y,D)}}function ma(m,c,f,y){return("reauthenticate"===c?f._getReauthenticationResolver(m):f._getIdTokenResponse(m)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?ga._fromErrorAndOperation(m,M,c,y):M})}function fi(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function ul(){return(ul=(0,g.Z)(function*(m,c){const f=(0,x.m9)(m);yield Hi(!0,f,c);const{providerUserInfo:y}=yield Mn(f.auth,{idToken:yield f.getIdToken(),deleteProvider:[c]}),D=fi(y||[]);return f.providerData=f.providerData.filter(M=>D.has(M.providerId)),D.has("phone")||(f.phoneNumber=null),yield f.auth._persistUserIfCurrent(f),f})).apply(this,arguments)}function Kt(m,c){return Js.apply(this,arguments)}function Js(){return(Js=(0,g.Z)(function*(m,c,f=!1){const y=yield Ln(m,c._linkToIdToken(m.auth,yield m.getIdToken()),f);return Gn._forOperation(m,"link",y)})).apply(this,arguments)}function Hi(m,c,f){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,g.Z)(function*(m,c,f){yield Un(c);const D=!1===m?"provider-already-linked":"no-such-provider";ee(fi(c.providerData).has(f)===m,c.auth,D)})).apply(this,arguments)}function hu(m,c){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,g.Z)(function*(m,c,f=!1){const{auth:y}=m,D="reauthenticate";try{const M=yield Ln(m,ma(y,D,c,m),f);ee(M.idToken,y,"internal-error");const W=Ge(M.idToken);ee(W,y,"internal-error");const{sub:re}=W;return ee(m.uid===re,y,"user-mismatch"),Gn._forOperation(m,D,M)}catch(M){throw"auth/user-not-found"===(null==M?void 0:M.code)&&Ee(y,"user-mismatch"),M}})).apply(this,arguments)}function Is(m,c){return zn.apply(this,arguments)}function zn(){return(zn=(0,g.Z)(function*(m,c,f=!1){const y="signIn",D=yield ma(m,y,c),M=yield Gn._fromIdTokenResponse(m,y,D);return f||(yield m._updateCurrentUser(M.user)),M})).apply(this,arguments)}function gn(m,c){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,g.Z)(function*(m,c){return Is(Ae(m),c)})).apply(this,arguments)}function Ur(m,c){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,g.Z)(function*(m,c){const f=(0,x.m9)(m);return yield Hi(!1,f,c.providerId),Kt(f,c)})).apply(this,arguments)}function $i(m,c){return pi.apply(this,arguments)}function pi(){return(pi=(0,g.Z)(function*(m,c){return hu((0,x.m9)(m),c)})).apply(this,arguments)}function _a(m,c){return ur.apply(this,arguments)}function ur(){return(ur=(0,g.Z)(function*(m,c){return Xn(m,"POST","/v1/accounts:signInWithCustomToken",kt(m,c))})).apply(this,arguments)}function Gi(){return(Gi=(0,g.Z)(function*(m,c){const f=Ae(m),y=yield _a(f,{token:c,returnSecureToken:!0}),D=yield Gn._fromIdTokenResponse(f,"signIn",y);return yield f._updateCurrentUser(D.user),D})).apply(this,arguments)}class Je{constructor(c,f){this.factorId=c,this.uid=f.mfaEnrollmentId,this.enrollmentTime=new Date(f.enrolledAt).toUTCString(),this.displayName=f.displayName}static _fromServerResponse(c,f){return"phoneInfo"in f?ya._fromServerResponse(c,f):Ee(c,"internal-error")}}class ya extends Je{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,f){return new ya(f)}}function Mo(m,c,f){var y;ee((null===(y=f.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),ee(void 0===f.dynamicLinkDomain||f.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=f.url,c.dynamicLinkDomain=f.dynamicLinkDomain,c.canHandleCodeInApp=f.handleCodeInApp,f.iOS&&(ee(f.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=f.iOS.bundleId),f.android&&(ee(f.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=f.android.installApp,c.androidMinimumVersionCode=f.android.minimumVersion,c.androidPackageName=f.android.packageName)}function Ea(){return(Ea=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m),D={requestType:"PASSWORD_RESET",email:c};f&&Mo(y,D,f),yield aa(y,D)})).apply(this,arguments)}function cl(){return(cl=(0,g.Z)(function*(m,c,f){yield pn((0,x.m9)(m),{oobCode:c,newPassword:f})})).apply(this,arguments)}function ye(){return(ye=(0,g.Z)(function*(m,c){yield ys((0,x.m9)(m),{oobCode:c})})).apply(this,arguments)}function mt(m,c){return hl.apply(this,arguments)}function hl(){return(hl=(0,g.Z)(function*(m,c){const f=(0,x.m9)(m),y=yield pn(f,{oobCode:c}),D=y.requestType;switch(ee(D,f,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(y.newEmail,f,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(y.mfaInfo,f,"internal-error");default:ee(y.email,f,"internal-error")}let M=null;return y.mfaInfo&&(M=Je._fromServerResponse(Ae(f),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:M},operation:D}})).apply(this,arguments)}function Xs(){return(Xs=(0,g.Z)(function*(m,c){const{data:f}=yield mt((0,x.m9)(m),c);return f.email})).apply(this,arguments)}function cr(){return(cr=(0,g.Z)(function*(m,c,f){const y=Ae(m),D=yield fa(y,{returnSecureToken:!0,email:c,password:f}),M=yield Gn._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(M.user),M})).apply(this,arguments)}function fu(){return(fu=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m),D={requestType:"EMAIL_SIGNIN",email:c};ee(f.handleCodeInApp,y,"argument-error"),f&&Mo(y,D,f),yield Lr(y,D)})).apply(this,arguments)}function zi(){return(zi=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m),D=ll.credentialWithLink(c,f||lt());return ee(D._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),gn(y,D)})).apply(this,arguments)}function Vn(m,c){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,g.Z)(function*(m,c){return It(m,"POST","/v1/accounts:createAuthUri",kt(m,c))})).apply(this,arguments)}function Zi(){return(Zi=(0,g.Z)(function*(m,c){const y={identifier:c,continueUri:Nt()?lt():"http://localhost"},{signinMethods:D}=yield Vn((0,x.m9)(m),y);return D||[]})).apply(this,arguments)}function ml(){return(ml=(0,g.Z)(function*(m,c){const f=(0,x.m9)(m),D={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&Mo(f.auth,D,c);const{email:M}=yield Ir(f.auth,D);M!==m.email&&(yield m.reload())})).apply(this,arguments)}function Da(){return(Da=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};f&&Mo(y.auth,M,f);const{email:W}=yield iu(y.auth,M);W!==m.email&&(yield m.reload())})).apply(this,arguments)}function _l(m,c){return Po.apply(this,arguments)}function Po(){return(Po=(0,g.Z)(function*(m,c){return It(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function yl(){return(yl=(0,g.Z)(function*(m,{displayName:c,photoURL:f}){if(void 0===c&&void 0===f)return;const y=(0,x.m9)(m),M={idToken:yield y.getIdToken(),displayName:c,photoUrl:f,returnSecureToken:!0},W=yield Ln(y,_l(y.auth,M));y.displayName=W.displayName||null,y.photoURL=W.photoUrl||null;const re=y.providerData.find(({providerId:Pe})=>"password"===Pe);re&&(re.displayName=y.displayName,re.photoURL=y.photoURL),yield y._updateTokensIfNecessary(W)})).apply(this,arguments)}function El(m,c,f){return ws.apply(this,arguments)}function ws(){return(ws=(0,g.Z)(function*(m,c,f){const{auth:y}=m,M={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(M.email=c),f&&(M.password=f);const W=yield Ln(m,dt(y,M));yield m._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class bs{constructor(c,f,y={}){this.isNewUser=c,this.providerId=f,this.profile=y}}class mu extends bs{constructor(c,f,y,D){super(c,f,y),this.username=D}}class _u extends bs{constructor(c,f){super(c,"facebook.com",f)}}class Ds extends mu{constructor(c,f){super(c,"github.com",f,"string"==typeof(null==f?void 0:f.login)?null==f?void 0:f.login:null)}}class Ki extends bs{constructor(c,f){super(c,"google.com",f)}}class Cl extends mu{constructor(c,f,y){super(c,"twitter.com",f,y)}}function Kn(m){const{user:c,_tokenResponse:f}=m;return c.isAnonymous&&!f?{providerId:null,isNewUser:!1,profile:null}:function gu(m){var c,f;if(!m)return null;const{providerId:y}=m,D=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},M=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&(null==m?void 0:m.idToken)){const W=null===(f=null===(c=Ge(m.idToken))||void 0===c?void 0:c.firebase)||void 0===f?void 0:f.sign_in_provider;if(W)return new bs(M,"anonymous"!==W&&"custom"!==W?W:null)}if(!y)return null;switch(y){case"facebook.com":return new _u(M,D);case"github.com":return new Ds(M,D);case"google.com":return new Ki(M,D);case"twitter.com":return new Cl(M,D,m.screenName||null);case"custom":case"anonymous":return new bs(M,null);default:return new bs(M,y,D)}}(f)}class gi{constructor(c,f){this.type=c,this.credential=f}static _fromIdtoken(c){return new gi("enroll",c)}static _fromMfaPendingCredential(c){return new gi("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var f,y;if(null==c?void 0:c.multiFactorSession){if(null===(f=c.multiFactorSession)||void 0===f?void 0:f.pendingCredential)return gi._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null===(y=c.multiFactorSession)||void 0===y?void 0:y.idToken)return gi._fromIdtoken(c.multiFactorSession.idToken)}return null}}class Oo{constructor(c,f,y){this.session=c,this.hints=f,this.signInResolver=y}static _fromError(c,f){const y=Ae(c),D=f.customData._serverResponse,M=(D.mfaInfo||[]).map(re=>Je._fromServerResponse(y,re));ee(D.mfaPendingCredential,y,"internal-error");const W=gi._fromMfaPendingCredential(D.mfaPendingCredential);return new Oo(W,M,function(){var re=(0,g.Z)(function*(Pe){const He=yield Pe._process(y,W);delete D.mfaInfo,delete D.mfaPendingCredential;const nt=Object.assign(Object.assign({},D),{idToken:He.idToken,refreshToken:He.refreshToken});switch(f.operationType){case"signIn":const Ke=yield Gn._fromIdTokenResponse(y,f.operationType,nt);return yield y._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return ee(f.user,y,"internal-error"),Gn._forOperation(f.user,f.operationType,nt);default:Ee(y,"internal-error")}});return function(Pe){return re.apply(this,arguments)}}())}resolveSignIn(c){var f=this;return(0,g.Z)(function*(){return f.signInResolver(c)})()}}function En(m,c){return It(m,"POST","/v2/accounts/mfaEnrollment:start",kt(m,c))}class mi{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(f=>{f.mfaInfo&&(this.enrolledFactors=f.mfaInfo.map(y=>Je._fromServerResponse(c.auth,y)))})}static _fromUser(c){return new mi(c)}getSession(){var c=this;return(0,g.Z)(function*(){return gi._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,f){var y=this;return(0,g.Z)(function*(){const D=c,M=yield y.getSession(),W=yield Ln(y.user,D._process(y.user.auth,M,f));return yield y.user._updateTokensIfNecessary(W),y.user.reload()})()}unenroll(c){var f=this;return(0,g.Z)(function*(){const y="string"==typeof c?c:c.uid,D=yield f.user.getIdToken(),M=yield Ln(f.user,function th(m,c){return It(m,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(m,c))}(f.user.auth,{idToken:D,mfaEnrollmentId:y}));f.enrolledFactors=f.enrolledFactors.filter(({uid:W})=>W!==y),yield f.user._updateTokensIfNecessary(M);try{yield f.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const to=new WeakMap,bl="__sak";class Ts{constructor(c,f){this.storageRetriever=c,this.type=f}_isAvailable(){try{return this.storage?(this.storage.setItem(bl,"1"),this.storage.removeItem(bl),Promise.resolve(!0)):Promise.resolve(!1)}catch(c){return Promise.resolve(!1)}}_set(c,f){return this.storage.setItem(c,JSON.stringify(f)),Promise.resolve()}_get(c){const f=this.storage.getItem(c);return Promise.resolve(f?JSON.parse(f):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const qn=(()=>{class m extends Ts{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(f,y)=>this.onStorageEvent(f,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Eu(){const m=(0,x.z$)();return Pt(m)||xn(m)}()&&function Dn(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=ui(),this._shouldAllowMigration=!0}forAllChangedKeys(f){for(const y of Object.keys(this.listeners)){const D=this.storage.getItem(y),M=this.localCache[y];D!==M&&f(y,M,D)}}onStorageEvent(f,y=!1){if(!f.key)return void this.forAllChangedKeys((re,Pe,He)=>{this.notifyListeners(re,He)});const D=f.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(D);if(f.newValue!==re)null!==f.newValue?this.storage.setItem(D,f.newValue):this.storage.removeItem(D);else if(this.localCache[D]===f.newValue&&!y)return}const M=()=>{const re=this.storage.getItem(D);!y&&this.localCache[D]===re||this.notifyListeners(D,re)},W=this.storage.getItem(D);!function bo(){return(0,x.w1)()&&10===document.documentMode}()||W===f.newValue||f.newValue===f.oldValue?M():setTimeout(M,10)}notifyListeners(f,y){this.localCache[f]=y;const D=this.listeners[f];if(D)for(const M of Array.from(D))M(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((f,y,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:f,oldValue:y,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(f,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[f]||(this.listeners[f]=new Set,this.localCache[f]=this.storage.getItem(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(f,y){var D=()=>super._set,M=this;return(0,g.Z)(function*(){yield D().call(M,f,y),M.localCache[f]=JSON.stringify(y)})()}_get(f){var y=()=>super._get,D=this;return(0,g.Z)(function*(){const M=yield y().call(D,f);return D.localCache[f]=JSON.stringify(M),M})()}_remove(f){var y=()=>super._remove,D=this;return(0,g.Z)(function*(){yield y().call(D,f),delete D.localCache[f]})()}}return m.type="LOCAL",m})(),tr=(()=>{class m extends Ts{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(f,y){}_removeListener(f,y){}}return m.type="SESSION",m})();let et=(()=>{class m{constructor(f){this.eventTarget=f,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(f){const y=this.receivers.find(M=>M.isListeningto(f));if(y)return y;const D=new m(f);return this.receivers.push(D),D}isListeningto(f){return this.eventTarget===f}handleEvent(f){var y=this;return(0,g.Z)(function*(){const D=f,{eventId:M,eventType:W,data:re}=D.data,Pe=y.handlersMap[W];if(!(null==Pe?void 0:Pe.size))return;D.ports[0].postMessage({status:"ack",eventId:M,eventType:W});const He=Array.from(Pe).map(function(){var Ke=(0,g.Z)(function*(xt){return xt(D.origin,re)});return function(xt){return Ke.apply(this,arguments)}}()),nt=yield function Cn(m){return Promise.all(m.map(function(){var c=(0,g.Z)(function*(f){try{return{fulfilled:!0,value:yield f}}catch(y){return{fulfilled:!1,reason:y}}});return function(f){return c.apply(this,arguments)}}()))}(He);D.ports[0].postMessage({status:"done",eventId:M,eventType:W,response:nt})})()}_subscribe(f,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[f]||(this.handlersMap[f]=new Set),this.handlersMap[f].add(y)}_unsubscribe(f,y){this.handlersMap[f]&&y&&this.handlersMap[f].delete(y),(!y||0===this.handlersMap[f].size)&&delete this.handlersMap[f],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Yi(m="",c=10){let f="";for(let y=0;y<c;y++)f+=Math.floor(10*Math.random());return m+f}class St{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,f,y=50){var D=this;return(0,g.Z)(function*(){const M="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let W,re;return new Promise((Pe,He)=>{const nt=Yi("",20);M.port1.start();const Ke=setTimeout(()=>{He(new Error("unsupported_event"))},y);re={messageChannel:M,onMessage(xt){const Pr=xt;if(Pr.data.eventId===nt)switch(Pr.data.status){case"ack":clearTimeout(Ke),W=setTimeout(()=>{He(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Pe(Pr.data.response);break;default:clearTimeout(Ke),clearTimeout(W),He(new Error("invalid_response"))}}},D.handlers.add(re),M.port1.addEventListener("message",re.onMessage),D.target.postMessage({eventType:c,eventId:nt,data:f},[M.port2])}).finally(()=>{re&&D.removeMessageHandler(re)})})()}}function Wt(){return window}function nn(){return void 0!==Wt().WorkerGlobalScope&&"function"==typeof Wt().importScripts}function rn(){return(rn=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Qi="firebaseLocalStorageDb",no="firebaseLocalStorage",ro="fbase_key";class yi{constructor(c){this.request=c}toPromise(){return new Promise((c,f)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{f(this.request.error)})})}}function io(m,c){return m.transaction([no],c?"readwrite":"readonly").objectStore(no)}function so(){const m=indexedDB.open(Qi,1);return new Promise((c,f)=>{m.addEventListener("error",()=>{f(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore(no,{keyPath:ro})}catch(D){f(D)}}),m.addEventListener("success",(0,g.Z)(function*(){const y=m.result;y.objectStoreNames.contains(no)?c(y):(y.close(),yield function sn(){const m=indexedDB.deleteDatabase(Qi);return new yi(m).toPromise()}(),c(yield so()))}))})}function Dl(m,c,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,g.Z)(function*(m,c,f){const y=io(m,!0).put({[ro]:c,value:f});return new yi(y).toPromise()})).apply(this,arguments)}function Vr(){return(Vr=(0,g.Z)(function*(m,c){const f=io(m,!1).get(c),y=yield new yi(f).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function O(m,c){const f=io(m,!0).delete(c);return new yi(f).toPromise()}const Tr=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var f=this;return(0,g.Z)(function*(){return f.db||(f.db=yield so()),f.db})()}_withRetries(f){var y=this;return(0,g.Z)(function*(){let D=0;for(;;)try{const M=yield y._openDb();return yield f(M)}catch(M){if(D++>3)throw M;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var f=this;return(0,g.Z)(function*(){return nn()?f.initializeReceiver():f.initializeSender()})()}initializeReceiver(){var f=this;return(0,g.Z)(function*(){f.receiver=et._getInstance(function No(){return nn()?self:null}()),f.receiver._subscribe("keyChanged",function(){var y=(0,g.Z)(function*(D,M){return{keyProcessed:(yield f._poll()).includes(M.key)}});return function(D,M){return y.apply(this,arguments)}}()),f.receiver._subscribe("ping",function(){var y=(0,g.Z)(function*(D,M){return["keyChanged"]});return function(D,M){return y.apply(this,arguments)}}())})()}initializeSender(){var f=this;return(0,g.Z)(function*(){var y,D;if(f.activeServiceWorker=yield function Tn(){return rn.apply(this,arguments)}(),!f.activeServiceWorker)return;f.sender=new St(f.activeServiceWorker);const M=yield f.sender._send("ping",{},800);!M||(null===(y=M[0])||void 0===y?void 0:y.fulfilled)&&(null===(D=M[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(f.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(f){var y=this;return(0,g.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function rh(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:f},y.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const f=yield so();return yield Dl(f,bl,"1"),yield O(f,bl),!0}catch(f){}return!1})()}_withPendingWrite(f){var y=this;return(0,g.Z)(function*(){y.pendingWrites++;try{yield f()}finally{y.pendingWrites--}})()}_set(f,y){var D=this;return(0,g.Z)(function*(){return D._withPendingWrite((0,g.Z)(function*(){return yield D._withRetries(M=>Dl(M,f,y)),D.localCache[f]=y,D.notifyServiceWorker(f)}))})()}_get(f){var y=this;return(0,g.Z)(function*(){const D=yield y._withRetries(M=>function vi(m,c){return Vr.apply(this,arguments)}(M,f));return y.localCache[f]=D,D})()}_remove(f){var y=this;return(0,g.Z)(function*(){return y._withPendingWrite((0,g.Z)(function*(){return yield y._withRetries(D=>O(D,f)),delete y.localCache[f],y.notifyServiceWorker(f)}))})()}_poll(){var f=this;return(0,g.Z)(function*(){const y=yield f._withRetries(W=>{const re=io(W,!1).getAll();return new yi(re).toPromise()});if(!y)return[];if(0!==f.pendingWrites)return[];const D=[],M=new Set;for(const{fbase_key:W,value:re}of y)M.add(W),JSON.stringify(f.localCache[W])!==JSON.stringify(re)&&(f.notifyListeners(W,re),D.push(W));for(const W of Object.keys(f.localCache))f.localCache[W]&&!M.has(W)&&(f.notifyListeners(W,null),D.push(W));return D})()}notifyListeners(f,y){this.localCache[f]=y;const D=this.listeners[f];if(D)for(const M of Array.from(D))M(y)}startPolling(){var f=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return f._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(f,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[f]||(this.listeners[f]=new Set,this._get(f)),this.listeners[f].add(y)}_removeListener(f,y){this.listeners[f]&&(this.listeners[f].delete(y),0===this.listeners[f].size&&delete this.listeners[f]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Cu(m,c){return It(m,"POST","/v2/accounts/mfaSignIn:start",kt(m,c))}function jr(){return(jr=(0,g.Z)(function*(m){return(yield It(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ji(m){return new Promise((c,f)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=c,y.onerror=D=>{const M=ge("internal-error");M.customData=D,f(M)},y.type="text/javascript",y.charset="UTF-8",function As(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(y)})}function Ei(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Yn=1e12;class Rs{constructor(c){this.auth=c,this.counter=Yn,this._widgets=new Map}render(c,f){const y=this.counter;return this._widgets.set(y,new Ma(c,this.auth.name,f||{})),this.counter++,y}reset(c){var f;const y=c||Yn;null===(f=this._widgets.get(y))||void 0===f||f.delete(),this._widgets.delete(y)}getResponse(c){var f;return(null===(f=this._widgets.get(c||Yn))||void 0===f?void 0:f.getResponse())||""}execute(c){var f=this;return(0,g.Z)(function*(){var y;return null===(y=f._widgets.get(c||Yn))||void 0===y||y.execute(),""})()}}class Ma{constructor(c,f,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof c?document.getElementById(c):c;ee(D,"argument-error",{appName:f}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ms(m){const c=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)c.push(f.charAt(Math.floor(Math.random()*f.length)));return c.join("")}(50);const{callback:c,"expired-callback":f}=this.params;if(c)try{c(this.responseToken)}catch(y){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,f)try{f()}catch(y){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hn=Ei("rcb"),Pa=new Ht(3e4,6e4);class Ii{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wt().grecaptcha}load(c,f=""){return ee(function hr(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(f),c,"argument-error"),this.shouldResolveImmediately(f)?Promise.resolve(Wt().grecaptcha):new Promise((y,D)=>{const M=Wt().setTimeout(()=>{D(ge(c,"network-request-failed"))},Pa.get());Wt()[hn]=()=>{Wt().clearTimeout(M),delete Wt()[hn];const re=Wt().grecaptcha;if(!re)return void D(ge(c,"internal-error"));const Pe=re.render;re.render=(He,nt)=>{const Ke=Pe(He,nt);return this.counter++,Ke},this.hostLanguage=f,y(re)},Ji(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:hn,render:"explicit",hl:f})}`).catch(()=>{clearTimeout(M),D(ge(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!Wt().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ih{load(c){return(0,g.Z)(function*(){return new Rs(c)})()}clearedOneInstance(){}}const ko="recaptcha",Fc={theme:"light",type:"image"};class Xi{constructor(c,f=Object.assign({},Fc),y){this.parameters=f,this.type=ko,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ae(y),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof c?document.getElementById(c):c;ee(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ih:new Ii,this.validateStartingState()}verify(){var c=this;return(0,g.Z)(function*(){c.assertNotDestroyed();const f=yield c.render(),y=c.getAssertedRecaptcha();return y.getResponse(f)||new Promise(M=>{const W=re=>{!re||(c.tokenChangeListeners.delete(W),M(re))};c.tokenChangeListeners.add(W),c.isInvisible&&y.execute(f)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return f=>{if(this.tokenChangeListeners.forEach(y=>y(f)),"function"==typeof c)c(f);else if("string"==typeof c){const y=Wt()[c];"function"==typeof y&&y(f)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,g.Z)(function*(){if(yield c.init(),!c.widgetId){let f=c.container;if(!c.isInvisible){const y=document.createElement("div");f.appendChild(y),f=y}c.widgetId=c.getAssertedRecaptcha().render(f,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,g.Z)(function*(){ee(Nt()&&!nn(),c.auth,"internal-error"),yield function wi(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const f=yield function Iu(m){return jr.apply(this,arguments)}(c.auth);ee(f,c.auth,"internal-error"),c.parameters.sitekey=f})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fr{constructor(c,f){this.verificationId=c,this.onConfirmation=f}confirm(c){const f=qs._fromVerification(this.verificationId,c);return this.onConfirmation(f)}}function qt(){return(qt=(0,g.Z)(function*(m,c,f){const y=Ae(m),D=yield Qn(y,c,(0,x.m9)(f));return new fr(D,M=>gn(y,M))})).apply(this,arguments)}function Ps(){return(Ps=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m);yield Hi(!1,y,"phone");const D=yield Qn(y.auth,c,(0,x.m9)(f));return new fr(D,M=>Ur(y,M))})).apply(this,arguments)}function xa(){return(xa=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m),D=yield Qn(y.auth,c,(0,x.m9)(f));return new fr(D,M=>$i(y,M))})).apply(this,arguments)}function Qn(m,c,f){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,g.Z)(function*(m,c,f){var y;const D=yield f.verify();try{let M;if(ee("string"==typeof D,m,"argument-error"),ee(f.type===ko,m,"argument-error"),M="string"==typeof c?{phoneNumber:c}:c,"session"in M){const W=M.session;if("phoneNumber"in M)return ee("enroll"===W.type,m,"internal-error"),(yield En(m,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{ee("signin"===W.type,m,"internal-error");const re=(null===(y=M.multiFactorHint)||void 0===y?void 0:y.uid)||M.multiFactorUid;return ee(re,m,"missing-multi-factor-info"),(yield Cu(m,{mfaPendingCredential:W.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Yd(m,{phoneNumber:M.phoneNumber,recaptchaToken:D});return W}}finally{f._reset()}})).apply(this,arguments)}function es(){return(es=(0,g.Z)(function*(m,c){yield Kt((0,x.m9)(m),c)})).apply(this,arguments)}let Sr=(()=>{class m{constructor(f){this.providerId=m.PROVIDER_ID,this.auth=Ae(f)}verifyPhoneNumber(f,y){return Qn(this.auth,f,(0,x.m9)(y))}static credential(f,y){return qs._fromVerification(f,y)}static credentialFromResult(f){return m.credentialFromTaggedObject(f)}static credentialFromError(f){return m.credentialFromTaggedObject(f.customData||{})}static credentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{phoneNumber:y,temporaryProof:D}=f;return y&&D?qs._fromTokenResponse(y,D):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Rr(m,c){return c?ne(c):(ee(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class ts extends Ut{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return vn(c,this._buildIdpRequest())}_linkToIdToken(c,f){return vn(c,this._buildIdpRequest(f))}_getReauthenticationResolver(c){return vn(c,this._buildIdpRequest())}_buildIdpRequest(c){const f={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(f.idToken=c),f}}function ns(m){return Is(m.auth,new ts(m),m.bypassAuthState)}function bu(m){const{auth:c,user:f}=m;return ee(f,c,"internal-error"),hu(f,new ts(m),m.bypassAuthState)}function ao(m){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,g.Z)(function*(m){const{auth:c,user:f}=m;return ee(f,c,"internal-error"),Kt(f,new ts(m),m.bypassAuthState)})).apply(this,arguments)}class pr{constructor(c,f,y,D,M=!1){this.auth=c,this.resolver=y,this.user=D,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(f)?f:[f]}execute(){var c=this;return new Promise(function(){var f=(0,g.Z)(function*(y,D){c.pendingPromise={resolve:y,reject:D};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(M){c.reject(M)}});return function(y,D){return f.apply(this,arguments)}}())}onAuthEvent(c){var f=this;return(0,g.Z)(function*(){const{urlResponse:y,sessionId:D,postBody:M,tenantId:W,error:re,type:Pe}=c;if(re)return void f.reject(re);const He={auth:f.auth,requestUri:y,sessionId:D,tenantId:W||void 0,postBody:M||void 0,user:f.user,bypassAuthState:f.bypassAuthState};try{f.resolve(yield f.getIdpTask(Pe)(He))}catch(nt){f.reject(nt)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return ns;case"linkViaPopup":case"linkViaRedirect":return ao;case"reauthViaPopup":case"reauthViaRedirect":return bu;default:Ee(this.auth,"internal-error")}}resolve(c){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lo=new Ht(2e3,1e4);function Al(){return(Al=(0,g.Z)(function*(m,c,f){const y=Ae(m);Ne(m,c,Vi);const D=Rr(y,f);return new Qr(y,"signInViaPopup",c,D).executeNotNull()})).apply(this,arguments)}function Lo(){return(Lo=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Vi);const D=Rr(y.auth,f);return new Qr(y.auth,"reauthViaPopup",c,D,y).executeNotNull()})).apply(this,arguments)}function Oa(){return(Oa=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Vi);const D=Rr(y.auth,f);return new Qr(y.auth,"linkViaPopup",c,D,y).executeNotNull()})).apply(this,arguments)}let Qr=(()=>{class m extends pr{constructor(f,y,D,M,W){super(f,y,M,W),this.provider=D,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var f=this;return(0,g.Z)(function*(){const y=yield f.execute();return ee(y,f.auth,"internal-error"),y})()}onExecution(){var f=this;return(0,g.Z)(function*(){te(1===f.filter.length,"Popup operations only handle one event");const y=Yi();f.authWindow=yield f.resolver._openPopup(f.auth,f.provider,f.filter[0],y),f.authWindow.associatedEvent=y,f.resolver._originValidation(f.auth).catch(D=>{f.reject(D)}),f.resolver._isIframeWebStorageSupported(f.auth,D=>{D||f.reject(ge(f.auth,"web-storage-unsupported"))}),f.pollUserCancellation()})()}get eventId(){var f;return(null===(f=this.authWindow)||void 0===f?void 0:f.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const f=()=>{var y,D;this.pollId=(null===(D=null===(y=this.authWindow)||void 0===y?void 0:y.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(f,lo.get())};f()}}return m.currentPopupAction=null,m})();const gr=new Map;class Sl extends pr{constructor(c,f,y=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],f,void 0,y),this.eventId=null}execute(){var c=()=>super.execute,f=this;return(0,g.Z)(function*(){let y=gr.get(f.auth._key());if(!y){try{const M=(yield function Na(m,c){return Uo.apply(this,arguments)}(f.resolver,f.auth))?yield c().call(f):null;y=()=>Promise.resolve(M)}catch(D){y=()=>Promise.reject(D)}gr.set(f.auth._key(),y)}return f.bypassAuthState||gr.set(f.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(c){var f=()=>super.onAuthEvent,y=this;return(0,g.Z)(function*(){if("signInViaRedirect"===c.type)return f().call(y,c);if("unknown"!==c.type){if(c.eventId){const D=yield y.auth._redirectUserForId(c.eventId);if(D)return y.user=D,f().call(y,c);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Uo(){return(Uo=(0,g.Z)(function*(m,c){const f=w(c),y=I(m);if(!(yield y._isAvailable()))return!1;const D="true"===(yield y._get(f));return yield y._remove(f),D})).apply(this,arguments)}function xs(m,c){return uo.apply(this,arguments)}function uo(){return(uo=(0,g.Z)(function*(m,c){return I(m)._set(w(c),"true")})).apply(this,arguments)}function I(m){return ne(m._redirectPersistence)}function w(m){return le("pendingRedirect",m.config.apiKey,m.name)}function z(){return(z=(0,g.Z)(function*(m,c,f){const y=Ae(m);Ne(m,c,Vi);const D=Rr(y,f);return yield xs(D,y),D._openRedirect(y,c,"signInViaRedirect")})).apply(this,arguments)}function Be(){return(Be=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Vi);const D=Rr(y.auth,f);yield xs(D,y.auth);const M=yield ka(y);return D._openRedirect(y.auth,c,"reauthViaRedirect",M)})).apply(this,arguments)}function Dt(){return(Dt=(0,g.Z)(function*(m,c,f){const y=(0,x.m9)(m);Ne(y.auth,c,Vi);const D=Rr(y.auth,f);yield Hi(!1,y,c.providerId),yield xs(D,y.auth);const M=yield ka(y);return D._openRedirect(y.auth,c,"linkViaRedirect",M)})).apply(this,arguments)}function An(){return(An=(0,g.Z)(function*(m,c){return yield Ae(m)._initializationPromise,mn(m,c,!1)})).apply(this,arguments)}function mn(m,c){return co.apply(this,arguments)}function co(){return(co=(0,g.Z)(function*(m,c,f=!1){const y=Ae(m),D=Rr(y,c),W=yield new Sl(y,D,f).execute();return W&&!f&&(delete W.user._redirectEventId,yield y._persistUserIfCurrent(W.user),yield y._setRedirectUser(null,c)),W})).apply(this,arguments)}function ka(m){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,g.Z)(function*(m){const c=Yi(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class Di{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let f=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(c,y)&&(f=!0,this.sendToConsumer(c,y),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function ah(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oh(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,f||(this.queuedRedirectEvent=c,f=!0)),f}sendToConsumer(c,f){var y;if(c.error&&!oh(c)){const D=(null===(y=c.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";f.onError(ge(this.auth,D))}else f.onAuthEvent(c)}isEventForConsumer(c,f){const y=null===f.eventId||!!c.eventId&&c.eventId===f.eventId;return f.filter.includes(c.type)&&y}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Os(c))}saveEventToCache(c){this.cachedEventUids.add(Os(c)),this.lastProcessedEventTime=Date.now()}}function Os(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function oh({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===(null==c?void 0:c.code)}function Ns(m){return ho.apply(this,arguments)}function ho(){return(ho=(0,g.Z)(function*(m,c={}){return It(m,"GET","/v1/projects",c)})).apply(this,arguments)}const lh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yf=/^https?/;function Xr(){return(Xr=(0,g.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield Ns(m);for(const f of c)try{if(Bo(f))return}catch(y){}Ee(m,"unauthorized-domain")})).apply(this,arguments)}function Bo(m){const c=lt(),{protocol:f,hostname:y}=new URL(c);if(m.startsWith("chrome-extension://")){const W=new URL(m);return""===W.hostname&&""===y?"chrome-extension:"===f&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===f&&W.hostname===y}if(!Yf.test(f))return!1;if(lh.test(m))return y===m;const D=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(y)}const Qf=new Ht(3e4,6e4);function Jf(){const m=Wt().___jsl;if(null==m?void 0:m.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let f=0;f<m.CP.length;f++)m.CP[f]=null}let Tu=null;function ch(m){return Tu=Tu||function uh(m){return new Promise((c,f)=>{var y,D,M;function W(){Jf(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Jf(),f(ge(m,"network-request-failed"))},timeout:Qf.get()})}if(null===(D=null===(y=Wt().gapi)||void 0===y?void 0:y.iframes)||void 0===D?void 0:D.Iframe)c(gapi.iframes.getContext());else{if(!(null===(M=Wt().gapi)||void 0===M?void 0:M.load)){const re=Ei("iframefcb");return Wt()[re]=()=>{gapi.load?W():f(ge(m,"network-request-failed"))},Ji(`https://apis.google.com/js/api.js?onload=${re}`).catch(Pe=>f(Pe))}W()}}).catch(c=>{throw Tu=null,c})}(m),Tu}const dh=new Ht(5e3,15e3),Au={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Su=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vo(m){const c=m.config;ee(c.authDomain,m,"auth-domain-config-required");const f=c.emulator?$t(c,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,y={apiKey:c.apiKey,appName:m.name,v:se.SDK_VERSION},D=Su.get(m.config.apiHost);D&&(y.eid=D);const M=m._getFrameworks();return M.length&&(y.fw=M.join(",")),`${f}?${(0,x.xO)(y).slice(1)}`}function Ru(){return Ru=(0,g.Z)(function*(m){const c=yield ch(m),f=Wt().gapi;return ee(f,m,"internal-error"),c.open({where:document.body,url:Vo(m),messageHandlersFilter:f.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Au,dontclear:!0},y=>new Promise(function(){var D=(0,g.Z)(function*(M,W){yield y.restyle({setHideOnLeave:!1});const re=ge(m,"network-request-failed"),Pe=Wt().setTimeout(()=>{W(re)},dh.get());function He(){Wt().clearTimeout(Pe),M(y)}y.ping(He).then(He,()=>{W(re)})});return function(M,W){return D.apply(this,arguments)}}()))}),Ru.apply(this,arguments)}const Qm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pu{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function is(m,c,f,y,D,M){ee(m.config.authDomain,m,"auth-domain-config-required"),ee(m.config.apiKey,m,"invalid-api-key");const W={apiKey:m.config.apiKey,appName:m.name,authType:f,redirectUrl:y,v:se.SDK_VERSION,eventId:D};if(c instanceof Vi){c.setDefaultLanguage(m.languageCode),W.providerId=c.providerId||"",(0,x.xb)(c.getCustomParameters())||(W.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Pe,He]of Object.entries(M||{}))W[Pe]=He}if(c instanceof ar){const Pe=c.getScopes().filter(He=>""!==He);Pe.length>0&&(W.scopes=Pe.join(","))}m.tenantId&&(W.tid=m.tenantId);const re=W;for(const Pe of Object.keys(re))void 0===re[Pe]&&delete re[Pe];return`${function Yt({config:m}){return m.emulator?$t(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,x.xO)(re).slice(1)}`}const ei="webStorageSupport";class on extends class ep{constructor(c){this.factorId=c}_process(c,f,y){switch(f.type){case"enroll":return this._finalizeEnroll(c,f.credential,y);case"signin":return this._finalizeSignIn(c,f.credential);default:return G("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new on(c)}_finalizeEnroll(c,f,y){return function yu(m,c){return It(m,"POST","/v2/accounts/mfaEnrollment:finalize",kt(m,c))}(c,{idToken:f,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,f){return function Ra(m,c){return It(m,"POST","/v2/accounts/mfaSignIn:finalize",kt(m,c))}(c,{mfaPendingCredential:f,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ct=(()=>{class m{constructor(){}static assertion(f){return on._fromCredential(f)}}return m.FACTOR_ID="phone",m})();var mr="@firebase/auth",tp="0.19.10";class xu{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var f=this;return(0,g.Z)(function*(){return f.assertAuthConfigured(),yield f.auth._initializationPromise,f.auth.currentUser?{accessToken:yield f.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const f=this.auth.onIdTokenChanged(y=>{var D;c((null===(D=y)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,f),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const f=this.internalListeners.get(c);!f||(this.internalListeners.delete(c),f(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jo(){return window}function fo(){return(fo=(0,g.Z)(function*(m,c,f){var y;const{BuildInfo:D}=jo();te(c.sessionId,"AuthEvent did not contain a session ID");const M=yield Xm(c.sessionId),W={};return xn()?W.ibi=D.packageName:cn()?W.apn=D.packageName:Ee(m,"operation-not-supported-in-this-environment"),D.displayName&&(W.appDisplayName=D.displayName),W.sessionId=M,is(m,f,c.type,void 0,null!==(y=c.eventId)&&void 0!==y?y:void 0,W)})).apply(this,arguments)}function ni(){return(ni=(0,g.Z)(function*(m){const{BuildInfo:c}=jo(),f={};xn()?f.iosBundleId=c.packageName:cn()?f.androidPackageName=c.packageName:Ee(m,"operation-not-supported-in-this-environment"),yield Ns(m,f)})).apply(this,arguments)}function Ou(){return(Ou=(0,g.Z)(function*(m,c,f){const{cordova:y}=jo();let D=()=>{};try{yield new Promise((M,W)=>{let re=null;function Pe(){var Ke;M();const xt=null===(Ke=y.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof xt&&xt(),"function"==typeof(null==f?void 0:f.close)&&f.close()}function He(){re||(re=window.setTimeout(()=>{W(ge(m,"redirect-cancelled-by-user"))},2e3))}function nt(){"visible"===(null==document?void 0:document.visibilityState)&&He()}c.addPassiveListener(Pe),document.addEventListener("resume",He,!1),cn()&&document.addEventListener("visibilitychange",nt,!1),D=()=>{c.removePassiveListener(Pe),document.removeEventListener("resume",He,!1),document.removeEventListener("visibilitychange",nt,!1),re&&window.clearTimeout(re)}})}finally{D()}})).apply(this,arguments)}function Xm(m){return jc.apply(this,arguments)}function jc(){return(jc=(0,g.Z)(function*(m){const c=Ua(m),f=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(f)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ua(m){if(te(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const c=new ArrayBuffer(m.length),f=new Uint8Array(c);for(let y=0;y<m.length;y++)f[y]=m.charCodeAt(y);return f}!function np(m){(0,se._registerComponent)(new ie.wA("auth",(c,{options:f})=>{const y=c.getProvider("app").getImmediate(),D=c.getProvider("heartbeat"),{apiKey:M,authDomain:W}=y.options;return((re,Pe)=>{ee(M&&!M.includes(":"),"invalid-api-key",{appName:re.name}),ee(!(null==W?void 0:W.includes(":")),"argument-error",{appName:re.name});const He={apiKey:M,authDomain:W,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Do(m)},nt=new Cr(re,Pe,He);return function oe(m,c){const f=(null==c?void 0:c.persistence)||[],y=(Array.isArray(f)?f:[f]).map(ne);(null==c?void 0:c.errorMap)&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(y,null==c?void 0:c.popupRedirectResolver)}(nt,f),nt})(y,D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,f,y)=>{c.getProvider("auth-internal").initialize()})),(0,se._registerComponent)(new ie.wA("auth-internal",c=>{const f=Ae(c.getProvider("auth").getImmediate());return new xu(f)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,se.registerVersion)(mr,tp,function ti(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,se.registerVersion)(mr,tp,"esm2017")}("Browser");class Ba extends Di{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(f=>f(c)),super.onEvent(c)}initialized(){var c=this;return(0,g.Z)(function*(){yield c.initPromise})()}}function ss(m){return $o.apply(this,arguments)}function $o(){return($o=(0,g.Z)(function*(m){const c=yield nr()._get(Hc(m));return c&&(yield nr()._remove(Hc(m))),c})).apply(this,arguments)}function sp(){const m=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let f=0;f<20;f++){const y=Math.floor(Math.random()*c.length);m.push(c.charAt(y))}return m.join("")}function nr(){return ne(qn)}function Hc(m){return le("authEvent",m.config.apiKey,m.name)}function ku(m){if(!(null==m?void 0:m.includes("?")))return{};const[c,...f]=m.split("?");return(0,x.zd)(f.join("?"))}function Wo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function Uu(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function yh(m=(0,x.z$)()){return!("file:"!==Uu()&&"ionic:"!==Uu()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function un(){try{const m=self.localStorage,c=Yi();if(m)return m.setItem(c,"1"),m.removeItem(c),!function os(m=(0,x.z$)()){return function $c(){return(0,x.w1)()&&11===(null==document?void 0:document.documentMode)}()||function vh(m=(0,x.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,x.hl)()}catch(m){return ks()&&(0,x.hl)()}return!1}function ks(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function ct(){return(function Qt(){return"http:"===Uu()||"https:"===Uu()}()||(0,x.ru)()||yh())&&!function ap(){return(0,x.b$)()||(0,x.UG)()}()&&un()&&!ks()}function Wc(){return yh()&&"undefined"!=typeof document}function Go(){return(Go=(0,g.Z)(function*(){return!!Wc()&&new Promise(m=>{const c=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),m(!0)})})})).apply(this,arguments)}const _r={LOCAL:"local",NONE:"none",SESSION:"session"},kl=ee,Fl="persistence";function $a(m){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,g.Z)(function*(m){yield m._initializationPromise;const c=Eh(),f=le(Fl,m.config.apiKey,m.name);c&&c.setItem(f,m._getPersistence())})).apply(this,arguments)}function Eh(){var m;try{return(null===(m=function an(){return"undefined"!=typeof window?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch(c){return null}}const Ch=ee;class Ai{constructor(){this.browserResolver=ne(class Ol{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tr,this._completeRedirectFn=mn}_openPopup(c,f,y,D){var M=this;return(0,g.Z)(function*(){var W;te(null===(W=M.eventManagers[c._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const re=is(c,f,y,lt(),D);return function Bc(m,c,f,y=500,D=600){const M=Math.max((window.screen.availHeight-D)/2,0).toString(),W=Math.max((window.screen.availWidth-y)/2,0).toString();let re="";const Pe=Object.assign(Object.assign({},Qm),{width:y.toString(),height:D.toString(),top:M,left:W}),He=(0,x.z$)().toLowerCase();f&&(re=Wn(He)?"_blank":f),tt(He)&&(c=c||"http://localhost",Pe.scrollbars="yes");const nt=Object.entries(Pe).reduce((xt,[Pr,Ko])=>`${xt}${Pr}=${Ko},`,"");if(function oa(m=(0,x.z$)()){var c;return xn(m)&&!!(null===(c=window.navigator)||void 0===c?void 0:c.standalone)}(He)&&"_self"!==re)return function jt(m,c){const f=document.createElement("a");f.href=m,f.target=c;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),f.dispatchEvent(y)}(c||"",re),new Pu(null);const Ke=window.open(c||"",re,nt);ee(Ke,m,"popup-blocked");try{Ke.focus()}catch(xt){}return new Pu(Ke)}(c,re,Yi())})()}_openRedirect(c,f,y,D){var M=this;return(0,g.Z)(function*(){return yield M._originValidation(c),function Aa(m){Wt().location.href=m}(is(c,f,y,lt(),D)),new Promise(()=>{})})()}_initialize(c){const f=c._key();if(this.eventManagers[f]){const{manager:D,promise:M}=this.eventManagers[f];return D?Promise.resolve(D):(te(M,"If manager is not set, promise should be"),M)}const y=this.initAndGetManager(c);return this.eventManagers[f]={promise:y},y.catch(()=>{delete this.eventManagers[f]}),y}initAndGetManager(c){var f=this;return(0,g.Z)(function*(){const y=yield function fh(m){return Ru.apply(this,arguments)}(c),D=new Di(c);return y.register("authEvent",M=>(ee(null==M?void 0:M.authEvent,c,"invalid-auth-event"),{status:D.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),f.eventManagers[c._key()]={manager:D},f.iframes[c._key()]=y,D})()}_isIframeWebStorageSupported(c,f){this.iframes[c._key()].send(ei,{type:ei},D=>{var M;const W=null===(M=null==D?void 0:D[0])||void 0===M?void 0:M[ei];void 0!==W&&f(!!W),Ee(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function Ml(m){return Xr.apply(this,arguments)}(c)),this.originValidationPromises[f]}get _shouldInitProactively(){return ui()||Pt()||xn()}}),this.cordovaResolver=ne(class gh{constructor(){this._redirectPersistence=tr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=mn}_initialize(c){var f=this;return(0,g.Z)(function*(){const y=c._key();let D=f.eventManagers.get(y);return D||(D=new Ba(c),f.eventManagers.set(y,D),f.attachCallbackListeners(c,D)),D})()}_openPopup(c){Ee(c,"operation-not-supported-in-this-environment")}_openRedirect(c,f,y,D){var M=this;return(0,g.Z)(function*(){!function ph(m){var c,f,y,D,M,W,re,Pe,He,nt;const Ke=jo();ee("function"==typeof(null===(c=null==Ke?void 0:Ke.universalLinks)||void 0===c?void 0:c.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(void 0!==(null===(f=null==Ke?void 0:Ke.BuildInfo)||void 0===f?void 0:f.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(M=null===(D=null===(y=null==Ke?void 0:Ke.cordova)||void 0===y?void 0:y.plugins)||void 0===D?void 0:D.browsertab)||void 0===M?void 0:M.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Pe=null===(re=null===(W=null==Ke?void 0:Ke.cordova)||void 0===W?void 0:W.plugins)||void 0===re?void 0:re.browsertab)||void 0===Pe?void 0:Pe.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(nt=null===(He=null==Ke?void 0:Ke.cordova)||void 0===He?void 0:He.InAppBrowser)||void 0===nt?void 0:nt.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const W=yield M._initialize(c);yield W.initialized(),W.resetRedirect(),function Rl(){gr.clear()}(),yield M._originValidation(c);const re=function Va(m,c,f=null){return{type:c,eventId:f,urlResponse:null,sessionId:sp(),postBody:null,tenantId:m.tenantId,error:ge(m,"no-auth-event")}}(c,y,D);yield function ip(m,c){return nr()._set(Hc(m),c)}(c,re);const Pe=yield function Ho(m,c,f){return fo.apply(this,arguments)}(c,re,f),He=yield function Nl(m){const{cordova:c}=jo();return new Promise(f=>{c.plugins.browsertab.isAvailable(y=>{let D=null;y?c.plugins.browsertab.openUrl(m):D=c.InAppBrowser.open(m,function _s(m=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),f(D)})})}(Pe);return function Vc(m,c,f){return Ou.apply(this,arguments)}(c,W,He)})()}_isIframeWebStorageSupported(c,f){throw new Error("Method not implemented.")}_originValidation(c){const f=c._key();return this.originValidationPromises[f]||(this.originValidationPromises[f]=function La(m){return ni.apply(this,arguments)}(c)),this.originValidationPromises[f]}attachCallbackListeners(c,f){const{universalLinks:y,handleOpenURL:D,BuildInfo:M}=jo(),W=setTimeout((0,g.Z)(function*(){yield ss(c),f.onEvent(Wo())}),500),re=function(){var nt=(0,g.Z)(function*(Ke){clearTimeout(W);const xt=yield ss(c);let Pr=null;xt&&(null==Ke?void 0:Ke.url)&&(Pr=function Ti(m,c){var f,y;const D=function ja(m){const c=ku(m),f=c.link?decodeURIComponent(c.link):void 0,y=ku(f).link,D=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return ku(D).link||D||y||f||m}(c);if(D.includes("/__/auth/callback")){const M=ku(D),W=M.firebaseError?function Nu(m){try{return JSON.parse(m)}catch(c){return null}}(decodeURIComponent(M.firebaseError)):null,re=null===(y=null===(f=null==W?void 0:W.code)||void 0===f?void 0:f.split("auth/"))||void 0===y?void 0:y[1],Pe=re?ge(re):null;return Pe?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:D,postBody:null}}return null}(xt,Ke.url)),f.onEvent(Pr||Wo())});return function(xt){return nt.apply(this,arguments)}}();void 0!==y&&"function"==typeof y.subscribe&&y.subscribe(null,re);const Pe=D,He=`${M.packageName.toLowerCase()}://`;jo().handleOpenURL=function(){var nt=(0,g.Z)(function*(Ke){if(Ke.toLowerCase().startsWith(He)&&re({url:Ke}),"function"==typeof Pe)try{Pe(Ke)}catch(xt){console.error(xt)}});return function(Ke){return nt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=tr,this._completeRedirectFn=mn}_initialize(c){var f=this;return(0,g.Z)(function*(){return yield f.selectUnderlyingResolver(),f.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,f,y,D){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(c,f,y,D)})()}_openRedirect(c,f,y,D){var M=this;return(0,g.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(c,f,y,D)})()}_isIframeWebStorageSupported(c,f){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,f)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return Wc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ch(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,g.Z)(function*(){if(c.underlyingResolver)return;const f=yield function Sn(){return Go.apply(this,arguments)}();c.underlyingResolver=f?c.cordovaResolver:c.browserResolver})()}}function zc(m){return m.unwrap()}function zo(m){return Ih(m)}function Ih(m){const{_tokenResponse:c}=m instanceof x.ZR?m.customData:m;if(!c)return null;if(!(m instanceof x.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Sr.credentialFromResult(m);const f=c.providerId;if(!f||"password"===f)return null;let y;switch(f){case"google.com":y=Ao;break;case"facebook.com":y=Es;break;case"github.com":y=cu;break;case"twitter.com":y=ha;break;default:const{oauthIdToken:D,oauthAccessToken:M,oauthTokenSecret:W,pendingToken:re,nonce:Pe}=c;return M||W||D||re?re?f.startsWith("saml.")?Qs._create(f,re):hi._fromParams({providerId:f,signInMethod:f,pendingToken:re,idToken:D,accessToken:M}):new Ys(f).credential({idToken:D,accessToken:M,rawNonce:Pe}):null}return m instanceof x.ZR?y.credentialFromError(m):y.credentialFromResult(m)}function kn(m,c){return c.catch(f=>{throw f instanceof x.ZR&&function Ll(m,c){var f;const y=null===(f=c.customData)||void 0===f?void 0:f._tokenResponse;if("auth/multi-factor-auth-required"===c.code)c.resolver=new Vu(m,function Ta(m,c){var f;const y=(0,x.m9)(m),D=c;return ee(c.customData.operationType,y,"argument-error"),ee(null===(f=D.customData._serverResponse)||void 0===f?void 0:f.mfaPendingCredential,y,"argument-error"),Oo._fromError(y,D)}(m,c));else if(y){const D=Ih(c),M=c;D&&(M.credential=D,M.tenantId=y.tenantId||void 0,M.email=y.email||void 0,M.phoneNumber=y.phoneNumber||void 0)}}(m,f),f}).then(f=>{const D=f.user;return{operationType:f.operationType,credential:zo(f),additionalUserInfo:Kn(f),user:Fs.getOrCreate(D)}})}function Zo(m,c){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,g.Z)(function*(m,c){const f=yield c;return{verificationId:f.verificationId,confirm:y=>kn(m,f.confirm(y))}})).apply(this,arguments)}class Vu{constructor(c,f){this.resolver=f,this.auth=function Wa(m){return m.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return kn(zc(this.auth),this.resolver.resolveSignIn(c))}}class Fs{constructor(c){this._delegate=c,this.multiFactor=function vu(m){const c=(0,x.m9)(m);return to.has(c)||to.set(c,mi._fromUser(c)),to.get(c)}(c)}static getOrCreate(c){return Fs.USER_MAP.has(c)||Fs.USER_MAP.set(c,new Fs(c)),Fs.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var f=this;return(0,g.Z)(function*(){return kn(f.auth,Ur(f._delegate,c))})()}linkWithPhoneNumber(c,f){var y=this;return(0,g.Z)(function*(){return Zo(y.auth,function Fo(m,c,f){return Ps.apply(this,arguments)}(y._delegate,c,f))})()}linkWithPopup(c){var f=this;return(0,g.Z)(function*(){return kn(f.auth,function Du(m,c,f){return Oa.apply(this,arguments)}(f._delegate,c,Ai))})()}linkWithRedirect(c){var f=this;return(0,g.Z)(function*(){return yield $a(Ae(f.auth)),function $e(m,c,f){return function ot(m,c,f){return Dt.apply(this,arguments)}(m,c,f)}(f._delegate,c,Ai)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var f=this;return(0,g.Z)(function*(){return kn(f.auth,$i(f._delegate,c))})()}reauthenticateWithPhoneNumber(c,f){return Zo(this.auth,function Nn(m,c,f){return xa.apply(this,arguments)}(this._delegate,c,f))}reauthenticateWithPopup(c){return kn(this.auth,function rs(m,c,f){return Lo.apply(this,arguments)}(this._delegate,c,Ai))}reauthenticateWithRedirect(c){var f=this;return(0,g.Z)(function*(){return yield $a(Ae(f.auth)),function X(m,c,f){return function be(m,c,f){return Be.apply(this,arguments)}(m,c,f)}(f._delegate,c,Ai)})()}sendEmailVerification(c){return function Br(m,c){return ml.apply(this,arguments)}(this._delegate,c)}unlink(c){var f=this;return(0,g.Z)(function*(){return yield function So(m,c){return ul.apply(this,arguments)}(f._delegate,c),f})()}updateEmail(c){return function vl(m,c){return El((0,x.m9)(m),c,null)}(this._delegate,c)}updatePassword(c){return function pu(m,c){return El((0,x.m9)(m),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function wu(m,c){return es.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function xo(m,c){return yl.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,f){return function ba(m,c,f){return Da.apply(this,arguments)}(this._delegate,c,f)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fs.USER_MAP=new WeakMap;const Ul=ee;let Kc=(()=>{class m{constructor(f,y){if(this.app=f,y.isInitialized())return this._delegate=y.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=f.options;Ul(D,"invalid-api-key",{appName:f.name}),Ul(D,"invalid-api-key",{appName:f.name});const M="undefined"!=typeof window?Ai:void 0;this._delegate=y.initialize({options:{persistence:lp(D,f.name),popupRedirectResolver:M}}),this._delegate._updateErrorMap(Te),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(f){this._delegate.languageCode=f}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(f){this._delegate.tenantId=f}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(f,y){!function zt(m,c,f){const y=Ae(m);ee(y._canInitEmulator,y,"emulator-config-failed"),ee(/^https?:\/\//.test(c),y,"invalid-emulator-scheme");const D=!!(null==f?void 0:f.disableWarnings),M=Bn(c),{host:W,port:re}=function ki(m){const c=Bn(m),f=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!f)return{host:"",port:null};const y=f[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(y);if(D){const M=D[1];return{host:M,port:yn(y.substr(M.length+1))}}{const[M,W]=y.split(":");return{host:M,port:yn(W)}}}(c);y.config.emulator={url:`${M}//${W}${null===re?"":`:${re}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:W,port:re,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function qr(){function m(){const c=document.createElement("p"),f=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",f.position="fixed",f.width="100%",f.backgroundColor="#ffffff",f.border=".1em solid #000000",f.color="#b50000",f.bottom="0px",f.left="0px",f.margin="0px",f.zIndex="10000",f.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,f,y)}applyActionCode(f){return function dl(m,c){return ye.apply(this,arguments)}(this._delegate,f)}checkActionCode(f){return mt(this._delegate,f)}confirmPasswordReset(f,y){return function Ca(m,c,f){return cl.apply(this,arguments)}(this._delegate,f,y)}createUserWithEmailAndPassword(f,y){var D=this;return(0,g.Z)(function*(){return kn(D._delegate,function eo(m,c,f){return cr.apply(this,arguments)}(D._delegate,f,y))})()}fetchProvidersForEmail(f){return this.fetchSignInMethodsForEmail(f)}fetchSignInMethodsForEmail(f){return function wa(m,c){return Zi.apply(this,arguments)}(this._delegate,f)}isSignInWithEmailLink(f){return function gl(m,c){const f=vs.parseLink(c);return"EMAIL_SIGNIN"===(null==f?void 0:f.operation)}(0,f)}getRedirectResult(){var f=this;return(0,g.Z)(function*(){Ul(ct(),f._delegate,"operation-not-supported-in-this-environment");const y=yield function ut(m,c){return An.apply(this,arguments)}(f._delegate,Ai);return y?kn(f._delegate,Promise.resolve(y)):{credential:null,user:null}})()}addFrameworkForLogging(f){!function mh(m,c){Ae(m)._logFramework(c)}(this._delegate,f)}onAuthStateChanged(f,y,D){const{next:M,error:W,complete:re}=ju(f,y,D);return this._delegate.onAuthStateChanged(M,W,re)}onIdTokenChanged(f,y,D){const{next:M,error:W,complete:re}=ju(f,y,D);return this._delegate.onIdTokenChanged(M,W,re)}sendSignInLinkToEmail(f,y){return function pl(m,c,f){return fu.apply(this,arguments)}(this._delegate,f,y)}sendPasswordResetEmail(f,y){return function va(m,c,f){return Ea.apply(this,arguments)}(this._delegate,f,y||void 0)}setPersistence(f){var y=this;return(0,g.Z)(function*(){let D;switch(function Ha(m,c){kl(Object.values(_r).includes(c),m,"invalid-persistence-type"),(0,x.b$)()?kl(c!==_r.SESSION,m,"unsupported-persistence-type"):(0,x.UG)()?kl(c===_r.NONE,m,"unsupported-persistence-type"):ks()?kl(c===_r.NONE||c===_r.LOCAL&&(0,x.hl)(),m,"unsupported-persistence-type"):kl(c===_r.NONE||un(),m,"unsupported-persistence-type")}(y._delegate,f),f){case _r.SESSION:D=tr;break;case _r.LOCAL:D=(yield ne(Tr)._isAvailable())?Tr:qn;break;case _r.NONE:D=$;break;default:return Ee("argument-error",{appName:y._delegate.name})}return y._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(f){return this.signInWithCredential(f)}signInAnonymously(){return kn(this._delegate,function pa(m){return du.apply(this,arguments)}(this._delegate))}signInWithCredential(f){return kn(this._delegate,gn(this._delegate,f))}signInWithCustomToken(f){return kn(this._delegate,function Wi(m,c){return Gi.apply(this,arguments)}(this._delegate,f))}signInWithEmailAndPassword(f,y){return kn(this._delegate,function fl(m,c,f){return gn((0,x.m9)(m),ll.credential(c,f))}(this._delegate,f,y))}signInWithEmailLink(f,y){return kn(this._delegate,function Ia(m,c,f){return zi.apply(this,arguments)}(this._delegate,f,y))}signInWithPhoneNumber(f,y){return Zo(this._delegate,function sh(m,c,f){return qt.apply(this,arguments)}(this._delegate,f,y))}signInWithPopup(f){var y=this;return(0,g.Z)(function*(){return Ul(ct(),y._delegate,"operation-not-supported-in-this-environment"),kn(y._delegate,function bi(m,c,f){return Al.apply(this,arguments)}(y._delegate,f,Ai))})()}signInWithRedirect(f){var y=this;return(0,g.Z)(function*(){return Ul(ct(),y._delegate,"operation-not-supported-in-this-environment"),yield $a(y._delegate),function S(m,c,f){return function k(m,c,f){return z.apply(this,arguments)}(m,c,f)}(y._delegate,f,Ai)})()}updateCurrentUser(f){return this._delegate.updateCurrentUser(f)}verifyPasswordResetCode(f){return function tn(m,c){return Xs.apply(this,arguments)}(this._delegate,f)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=_r,m})();function ju(m,c,f){let y=m;"function"!=typeof m&&({next:y,error:c,complete:f}=m);const D=y;return{next:W=>D(W&&Fs.getOrCreate(W)),error:c,complete:f}}function lp(m,c){const f=function Gc(m,c){const f=Eh();if(!f)return[];const y=le(Fl,m,c);switch(f.getItem(y)){case _r.NONE:return[$];case _r.LOCAL:return[Tr,tr];case _r.SESSION:return[tr];default:return[]}}(m,c);if("undefined"!=typeof self&&!f.includes(Tr)&&f.push(Tr),"undefined"!=typeof window)for(const y of[qn,tr])f.includes(y)||f.push(y);return f.includes($)||f.push($),f}class Bl{constructor(){this.providerId="phone",this._delegate=new Sr(zc(K.Z.auth()))}static credential(c,f){return Sr.credential(c,f)}verifyPhoneNumber(c,f){return this._delegate.verifyPhoneNumber(c,f)}unwrap(){return this._delegate}}Bl.PHONE_SIGN_IN_METHOD=Sr.PHONE_SIGN_IN_METHOD,Bl.PROVIDER_ID=Sr.PROVIDER_ID;const up=ee;class Hu{constructor(c,f,y=K.Z.app()){var D;up(null===(D=y.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:y.name}),this._delegate=new Xi(c,f,y.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function bh(m){m.INTERNAL.registerComponent(new ie.wA("auth-compat",c=>{const f=c.getProvider("app-compat").getImmediate(),y=c.getProvider("auth");return new Kc(f,y)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ll,FacebookAuthProvider:Es,GithubAuthProvider:cu,GoogleAuthProvider:Ao,OAuthProvider:Ys,SAMLAuthProvider:br,PhoneAuthProvider:Bl,PhoneMultiFactorGenerator:Ct,RecaptchaVerifier:Hu,TwitterAuthProvider:ha,Auth:Kc,AuthCredential:Ut,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.10")}(K.Z)},8306:(ze,ve,P)=>{P.d(ve,{y:()=>j});var g=P(930),K=P(727),x=P(8822),se=P(4671);var ie=P(2416),ue=P(576),ae=P(2806);let j=(()=>{class we{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const ce=new we;return ce.source=this,ce.operator=Re,ce}subscribe(Re,ce,_e){const je=function Fe(we){return we&&we instanceof g.Lv||function Q(we){return we&&(0,ue.m)(we.next)&&(0,ue.m)(we.error)&&(0,ue.m)(we.complete)}(we)&&(0,K.Nn)(we)}(Re)?Re:new g.Hp(Re,ce,_e);return(0,ae.x)(()=>{const{operator:Le,source:Ee}=this;je.add(Le?Le.call(je,Ee):Ee?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(Re){try{return this._subscribe(Re)}catch(ce){Re.error(ce)}}forEach(Re,ce){return new(ce=H(ce))((_e,je)=>{const Le=new g.Hp({next:Ee=>{try{Re(Ee)}catch(ge){je(ge),Le.unsubscribe()}},error:je,complete:_e});this.subscribe(Le)})}_subscribe(Re){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Re)}[x.L](){return this}pipe(...Re){return function de(we){return 0===we.length?se.y:1===we.length?we[0]:function(Re){return we.reduce((ce,_e)=>_e(ce),Re)}}(Re)(this)}toPromise(Re){return new(Re=H(Re))((ce,_e)=>{let je;this.subscribe(Le=>je=Le,Le=>_e(Le),()=>ce(je))})}}return we.create=Te=>new we(Te),we})();function H(we){var Te;return null!==(Te=null!=we?we:ie.v.Promise)&&void 0!==Te?Te:Promise}},7579:(ze,ve,P)=>{P.d(ve,{x:()=>ie});var g=P(8306),K=P(727);const se=(0,P(3888).d)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=P(8737),de=P(2806);let ie=(()=>{class ae extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Q=new ue(this,this);return Q.operator=H,Q}_throwIfClosed(){if(this.closed)throw new se}next(H){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(H)}})}error(H){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Q}=this;for(;Q.length;)Q.shift().error(H)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Q,isStopped:Fe,observers:we}=this;return Q||Fe?K.Lc:(this.currentObservers=null,we.push(H),new K.w0(()=>{this.currentObservers=null,(0,J.P)(we,H)}))}_checkFinalizedStatuses(H){const{hasError:Q,thrownError:Fe,isStopped:we}=this;Q?H.error(Fe):we&&H.complete()}asObservable(){const H=new g.y;return H.source=this,H}}return ae.create=(j,H)=>new ue(j,H),ae})();class ue extends ie{constructor(j,H){super(),this.destination=j,this.source=H}next(j){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Q||Q.call(H,j)}error(j){var H,Q;null===(Q=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Q||Q.call(H,j)}complete(){var j,H;null===(H=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===H||H.call(j)}_subscribe(j){var H,Q;return null!==(Q=null===(H=this.source)||void 0===H?void 0:H.subscribe(j))&&void 0!==Q?Q:K.Lc}}},930:(ze,ve,P)=>{P.d(ve,{Hp:()=>Re,Lv:()=>Q});var g=P(576),K=P(727),x=P(2416),se=P(7849),J=P(5032);const de=ae("C",void 0,void 0);function ae(Ee,ge,me){return{kind:Ee,value:ge,error:me}}var j=P(3410),H=P(2806);class Q extends K.w0{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,K.Nn)(ge)&&ge.add(this)):this.destination=Le}static create(ge,me,Ne){return new Re(ge,me,Ne)}next(ge){this.isStopped?je(function ue(Ee){return ae("N",Ee,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?je(function ie(Ee){return ae("E",void 0,Ee)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?je(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function we(Ee,ge){return Fe.call(Ee,ge)}class Te{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:me}=this;if(me.next)try{me.next(ge)}catch(Ne){ce(Ne)}}error(ge){const{partialObserver:me}=this;if(me.error)try{me.error(ge)}catch(Ne){ce(Ne)}else ce(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(me){ce(me)}}}class Re extends Q{constructor(ge,me,Ne){let Oe;if(super(),(0,g.m)(ge)||!ge)Oe={next:null!=ge?ge:void 0,error:null!=me?me:void 0,complete:null!=Ne?Ne:void 0};else{let ee;this&&x.v.useDeprecatedNextContext?(ee=Object.create(ge),ee.unsubscribe=()=>this.unsubscribe(),Oe={next:ge.next&&we(ge.next,ee),error:ge.error&&we(ge.error,ee),complete:ge.complete&&we(ge.complete,ee)}):Oe=ge}this.destination=new Te(Oe)}}function ce(Ee){x.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Ee):(0,se.h)(Ee)}function je(Ee,ge){const{onStoppedNotification:me}=x.v;me&&j.z.setTimeout(()=>me(Ee,ge))}const Le={closed:!0,next:J.Z,error:function _e(Ee){throw Ee},complete:J.Z}},727:(ze,ve,P)=>{P.d(ve,{Lc:()=>de,w0:()=>J,Nn:()=>ie});var g=P(576);const x=(0,P(3888).d)(ae=>function(H){ae(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Q,Fe)=>`${Fe+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var se=P(8737);class J{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const we of H)we.remove(this);else H.remove(this);const{initialTeardown:Q}=this;if((0,g.m)(Q))try{Q()}catch(we){j=we instanceof x?we.errors:[we]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const we of Fe)try{ue(we)}catch(Te){j=null!=j?j:[],Te instanceof x?j=[...j,...Te.errors]:j.push(Te)}}if(j)throw new x(j)}}add(j){var H;if(j&&j!==this)if(this.closed)ue(j);else{if(j instanceof J){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push(j)}}_hasParent(j){const{_parentage:H}=this;return H===j||Array.isArray(H)&&H.includes(j)}_addParent(j){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push(j),H):H?[H,j]:j}_removeParent(j){const{_parentage:H}=this;H===j?this._parentage=null:Array.isArray(H)&&(0,se.P)(H,j)}remove(j){const{_finalizers:H}=this;H&&(0,se.P)(H,j),j instanceof J&&j._removeParent(this)}}J.EMPTY=(()=>{const ae=new J;return ae.closed=!0,ae})();const de=J.EMPTY;function ie(ae){return ae instanceof J||ae&&"closed"in ae&&(0,g.m)(ae.remove)&&(0,g.m)(ae.add)&&(0,g.m)(ae.unsubscribe)}function ue(ae){(0,g.m)(ae)?ae():ae.unsubscribe()}},2416:(ze,ve,P)=>{P.d(ve,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ze,ve,P)=>{P.d(ve,{E:()=>K});const K=new(P(8306).y)(J=>J.complete())},8996:(ze,ve,P)=>{P.d(ve,{D:()=>ge});var g=P(8421),K=P(5363),x=P(9468),de=P(8306),ue=P(2202),ae=P(576),j=P(9672);function Q(me,Ne){if(!me)throw new Error("Iterable cannot be null");return new de.y(Oe=>{(0,j.f)(Oe,Ne,()=>{const ee=me[Symbol.asyncIterator]();(0,j.f)(Oe,Ne,()=>{ee.next().then(G=>{G.done?Oe.complete():Oe.next(G.value)})},0,!0)})})}var Fe=P(3670),we=P(8239),Te=P(1144),Re=P(6495),ce=P(2206),_e=P(4532),je=P(3260);function ge(me,Ne){return Ne?function Ee(me,Ne){if(null!=me){if((0,Fe.c)(me))return function se(me,Ne){return(0,g.Xf)(me).pipe((0,x.R)(Ne),(0,K.Q)(Ne))}(me,Ne);if((0,Te.z)(me))return function ie(me,Ne){return new de.y(Oe=>{let ee=0;return Ne.schedule(function(){ee===me.length?Oe.complete():(Oe.next(me[ee++]),Oe.closed||this.schedule())})})}(me,Ne);if((0,we.t)(me))return function J(me,Ne){return(0,g.Xf)(me).pipe((0,x.R)(Ne),(0,K.Q)(Ne))}(me,Ne);if((0,ce.D)(me))return Q(me,Ne);if((0,Re.T)(me))return function H(me,Ne){return new de.y(Oe=>{let ee;return(0,j.f)(Oe,Ne,()=>{ee=me[ue.h](),(0,j.f)(Oe,Ne,()=>{let G,te;try{({value:G,done:te}=ee.next())}catch(he){return void Oe.error(he)}te?Oe.complete():Oe.next(G)},0,!0)}),()=>(0,ae.m)(null==ee?void 0:ee.return)&&ee.return()})}(me,Ne);if((0,je.L)(me))return function Le(me,Ne){return Q((0,je.Q)(me),Ne)}(me,Ne)}throw(0,_e.z)(me)}(me,Ne):(0,g.Xf)(me)}},8421:(ze,ve,P)=>{P.d(ve,{Xf:()=>Fe});var g=P(655),K=P(1144),x=P(8239),se=P(8306),J=P(3670),de=P(2206),ie=P(4532),ue=P(6495),ae=P(3260),j=P(576),H=P(7849),Q=P(8822);function Fe(Ee){if(Ee instanceof se.y)return Ee;if(null!=Ee){if((0,J.c)(Ee))return function we(Ee){return new se.y(ge=>{const me=Ee[Q.L]();if((0,j.m)(me.subscribe))return me.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ee);if((0,K.z)(Ee))return function Te(Ee){return new se.y(ge=>{for(let me=0;me<Ee.length&&!ge.closed;me++)ge.next(Ee[me]);ge.complete()})}(Ee);if((0,x.t)(Ee))return function Re(Ee){return new se.y(ge=>{Ee.then(me=>{ge.closed||(ge.next(me),ge.complete())},me=>ge.error(me)).then(null,H.h)})}(Ee);if((0,de.D)(Ee))return _e(Ee);if((0,ue.T)(Ee))return function ce(Ee){return new se.y(ge=>{for(const me of Ee)if(ge.next(me),ge.closed)return;ge.complete()})}(Ee);if((0,ae.L)(Ee))return function je(Ee){return _e((0,ae.Q)(Ee))}(Ee)}throw(0,ie.z)(Ee)}function _e(Ee){return new se.y(ge=>{(function Le(Ee,ge){var me,Ne,Oe,ee;return(0,g.mG)(this,void 0,void 0,function*(){try{for(me=(0,g.KL)(Ee);!(Ne=yield me.next()).done;)if(ge.next(Ne.value),ge.closed)return}catch(G){Oe={error:G}}finally{try{Ne&&!Ne.done&&(ee=me.return)&&(yield ee.call(me))}finally{if(Oe)throw Oe.error}}ge.complete()})})(Ee,ge).catch(me=>ge.error(me))})}},6451:(ze,ve,P)=>{P.d(ve,{T:()=>de});var g=P(8189),K=P(8421),x=P(515),se=P(7669),J=P(8996);function de(...ie){const ue=(0,se.yG)(ie),ae=(0,se._6)(ie,1/0),j=ie;return j.length?1===j.length?(0,K.Xf)(j[0]):(0,g.J)(ae)((0,J.D)(j,ue)):x.E}},5403:(ze,ve,P)=>{P.d(ve,{x:()=>K});var g=P(930);function K(se,J,de,ie,ue){return new x(se,J,de,ie,ue)}class x extends g.Lv{constructor(J,de,ie,ue,ae,j){super(J),this.onFinalize=ae,this.shouldUnsubscribe=j,this._next=de?function(H){try{de(H)}catch(Q){J.error(Q)}}:super._next,this._error=ue?function(H){try{ue(H)}catch(Q){J.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(H){J.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4004:(ze,ve,P)=>{P.d(ve,{U:()=>x});var g=P(4482),K=P(5403);function x(se,J){return(0,g.e)((de,ie)=>{let ue=0;de.subscribe((0,K.x)(ie,ae=>{ie.next(se.call(J,ae,ue++))}))})}},8189:(ze,ve,P)=>{P.d(ve,{J:()=>x});var g=P(5577),K=P(4671);function x(se=1/0){return(0,g.z)(K.y,se)}},5577:(ze,ve,P)=>{P.d(ve,{z:()=>ue});var g=P(4004),K=P(8421),x=P(4482),se=P(9672),J=P(5403),ie=P(576);function ue(ae,j,H=1/0){return(0,ie.m)(j)?ue((Q,Fe)=>(0,g.U)((we,Te)=>j(Q,we,Fe,Te))((0,K.Xf)(ae(Q,Fe))),H):("number"==typeof j&&(H=j),(0,x.e)((Q,Fe)=>function de(ae,j,H,Q,Fe,we,Te,Re){const ce=[];let _e=0,je=0,Le=!1;const Ee=()=>{Le&&!ce.length&&!_e&&j.complete()},ge=Ne=>_e<Q?me(Ne):ce.push(Ne),me=Ne=>{we&&j.next(Ne),_e++;let Oe=!1;(0,K.Xf)(H(Ne,je++)).subscribe((0,J.x)(j,ee=>{null==Fe||Fe(ee),we?ge(ee):j.next(ee)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(_e--;ce.length&&_e<Q;){const ee=ce.shift();Te?(0,se.f)(j,Te,()=>me(ee)):me(ee)}Ee()}catch(ee){j.error(ee)}}))};return ae.subscribe((0,J.x)(j,ge,()=>{Le=!0,Ee()})),()=>{null==Re||Re()}}(Q,Fe,ae,H)))}},5363:(ze,ve,P)=>{P.d(ve,{Q:()=>se});var g=P(9672),K=P(4482),x=P(5403);function se(J,de=0){return(0,K.e)((ie,ue)=>{ie.subscribe((0,x.x)(ue,ae=>(0,g.f)(ue,J,()=>ue.next(ae),de),()=>(0,g.f)(ue,J,()=>ue.complete(),de),ae=>(0,g.f)(ue,J,()=>ue.error(ae),de)))})}},3099:(ze,ve,P)=>{P.d(ve,{B:()=>de});var g=P(8996),K=P(5698),x=P(7579),se=P(930),J=P(4482);function de(ue={}){const{connector:ae=(()=>new x.x),resetOnError:j=!0,resetOnComplete:H=!0,resetOnRefCountZero:Q=!0}=ue;return Fe=>{let we=null,Te=null,Re=null,ce=0,_e=!1,je=!1;const Le=()=>{null==Te||Te.unsubscribe(),Te=null},Ee=()=>{Le(),we=Re=null,_e=je=!1},ge=()=>{const me=we;Ee(),null==me||me.unsubscribe()};return(0,J.e)((me,Ne)=>{ce++,!je&&!_e&&Le();const Oe=Re=null!=Re?Re:ae();Ne.add(()=>{ce--,0===ce&&!je&&!_e&&(Te=ie(ge,Q))}),Oe.subscribe(Ne),we||(we=new se.Hp({next:ee=>Oe.next(ee),error:ee=>{je=!0,Le(),Te=ie(Ee,j,ee),Oe.error(ee)},complete:()=>{_e=!0,Le(),Te=ie(Ee,H),Oe.complete()}}),(0,g.D)(me).subscribe(we))})(Fe)}}function ie(ue,ae,...j){return!0===ae?(ue(),null):!1===ae?null:ae(...j).pipe((0,K.q)(1)).subscribe(()=>ue())}},9468:(ze,ve,P)=>{P.d(ve,{R:()=>K});var g=P(4482);function K(x,se=0){return(0,g.e)((J,de)=>{de.add(x.schedule(()=>J.subscribe(de),se))})}},5698:(ze,ve,P)=>{P.d(ve,{q:()=>se});var g=P(515),K=P(4482),x=P(5403);function se(J){return J<=0?()=>g.E:(0,K.e)((de,ie)=>{let ue=0;de.subscribe((0,x.x)(ie,ae=>{++ue<=J&&(ie.next(ae),J<=ue&&ie.complete())}))})}},8505:(ze,ve,P)=>{P.d(ve,{b:()=>J});var g=P(576),K=P(4482),x=P(5403),se=P(4671);function J(de,ie,ue){const ae=(0,g.m)(de)||ie||ue?{next:de,error:ie,complete:ue}:de;return ae?(0,K.e)((j,H)=>{var Q;null===(Q=ae.subscribe)||void 0===Q||Q.call(ae);let Fe=!0;j.subscribe((0,x.x)(H,we=>{var Te;null===(Te=ae.next)||void 0===Te||Te.call(ae,we),H.next(we)},()=>{var we;Fe=!1,null===(we=ae.complete)||void 0===we||we.call(ae),H.complete()},we=>{var Te;Fe=!1,null===(Te=ae.error)||void 0===Te||Te.call(ae,we),H.error(we)},()=>{var we,Te;Fe&&(null===(we=ae.unsubscribe)||void 0===we||we.call(ae)),null===(Te=ae.finalize)||void 0===Te||Te.call(ae)}))}):se.y}},4408:(ze,ve,P)=>{P.d(ve,{o:()=>J});var g=P(727);class K extends g.w0{constructor(ie,ue){super()}schedule(ie,ue=0){return this}}const x={setInterval(de,ie,...ue){const{delegate:ae}=x;return(null==ae?void 0:ae.setInterval)?ae.setInterval(de,ie,...ue):setInterval(de,ie,...ue)},clearInterval(de){const{delegate:ie}=x;return((null==ie?void 0:ie.clearInterval)||clearInterval)(de)},delegate:void 0};var se=P(8737);class J extends K{constructor(ie,ue){super(ie,ue),this.scheduler=ie,this.work=ue,this.pending=!1}schedule(ie,ue=0){if(this.closed)return this;this.state=ie;const ae=this.id,j=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(j,ae,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(j,this.id,ue),this}requestAsyncId(ie,ue,ae=0){return x.setInterval(ie.flush.bind(ie,this),ae)}recycleAsyncId(ie,ue,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return ue;x.clearInterval(ue)}execute(ie,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(ie,ue);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ue){let j,ae=!1;try{this.work(ie)}catch(H){ae=!0,j=H||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),j}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ue}=this,{actions:ae}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(ae,this),null!=ie&&(this.id=this.recycleAsyncId(ue,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(ze,ve,P)=>{P.d(ve,{v:()=>x});var g=P(6063);class K{constructor(J,de=K.now){this.schedulerActionCtor=J,this.now=de}schedule(J,de=0,ie){return new this.schedulerActionCtor(this,J).schedule(ie,de)}}K.now=g.l.now;class x extends K{constructor(J,de=K.now){super(J,de),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:de}=this;if(this._active)return void de.push(J);let ie;this._active=!0;do{if(ie=J.execute(J.state,J.delay))break}while(J=de.shift());if(this._active=!1,ie){for(;J=de.shift();)J.unsubscribe();throw ie}}}},4986:(ze,ve,P)=>{P.d(ve,{z:()=>x});var g=P(4408);const x=new(P(7565).v)(g.o)},6063:(ze,ve,P)=>{P.d(ve,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(ze,ve,P)=>{P.d(ve,{z:()=>g});const g={setTimeout(K,x,...se){const{delegate:J}=g;return(null==J?void 0:J.setTimeout)?J.setTimeout(K,x,...se):setTimeout(K,x,...se)},clearTimeout(K){const{delegate:x}=g;return((null==x?void 0:x.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(ze,ve,P)=>{P.d(ve,{h:()=>K});const K=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ze,ve,P)=>{P.d(ve,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ze,ve,P)=>{P.d(ve,{_6:()=>de,jO:()=>se,yG:()=>J});var g=P(576);function x(ie){return ie[ie.length-1]}function se(ie){return(0,g.m)(x(ie))?ie.pop():void 0}function J(ie){return function K(ie){return ie&&(0,g.m)(ie.schedule)}(x(ie))?ie.pop():void 0}function de(ie,ue){return"number"==typeof x(ie)?ie.pop():ue}},8737:(ze,ve,P)=>{function g(K,x){if(K){const se=K.indexOf(x);0<=se&&K.splice(se,1)}}P.d(ve,{P:()=>g})},3888:(ze,ve,P)=>{function g(K){const se=K(J=>{Error.call(J),J.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}P.d(ve,{d:()=>g})},2806:(ze,ve,P)=>{P.d(ve,{O:()=>se,x:()=>x});var g=P(2416);let K=null;function x(J){if(g.v.useDeprecatedSynchronousErrorHandling){const de=!K;if(de&&(K={errorThrown:!1,error:null}),J(),de){const{errorThrown:ie,error:ue}=K;if(K=null,ie)throw ue}}else J()}function se(J){g.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=J)}},9672:(ze,ve,P)=>{function g(K,x,se,J=0,de=!1){const ie=x.schedule(function(){se(),de?K.add(this.schedule(null,J)):this.unsubscribe()},J);if(K.add(ie),!de)return ie}P.d(ve,{f:()=>g})},4671:(ze,ve,P)=>{function g(K){return K}P.d(ve,{y:()=>g})},1144:(ze,ve,P)=>{P.d(ve,{z:()=>g});const g=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(ze,ve,P)=>{P.d(ve,{D:()=>K});var g=P(576);function K(x){return Symbol.asyncIterator&&(0,g.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(ze,ve,P)=>{function g(K){return"function"==typeof K}P.d(ve,{m:()=>g})},3670:(ze,ve,P)=>{P.d(ve,{c:()=>x});var g=P(8822),K=P(576);function x(se){return(0,K.m)(se[g.L])}},6495:(ze,ve,P)=>{P.d(ve,{T:()=>x});var g=P(2202),K=P(576);function x(se){return(0,K.m)(null==se?void 0:se[g.h])}},8239:(ze,ve,P)=>{P.d(ve,{t:()=>K});var g=P(576);function K(x){return(0,g.m)(null==x?void 0:x.then)}},3260:(ze,ve,P)=>{P.d(ve,{L:()=>se,Q:()=>x});var g=P(655),K=P(576);function x(J){return(0,g.FC)(this,arguments,function*(){const ie=J.getReader();try{for(;;){const{value:ue,done:ae}=yield(0,g.qq)(ie.read());if(ae)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ue)}}finally{ie.releaseLock()}})}function se(J){return(0,K.m)(null==J?void 0:J.getReader)}},4482:(ze,ve,P)=>{P.d(ve,{A:()=>K,e:()=>x});var g=P(576);function K(se){return(0,g.m)(null==se?void 0:se.lift)}function x(se){return J=>{if(K(J))return J.lift(function(de){try{return se(de,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ze,ve,P)=>{function g(){}P.d(ve,{Z:()=>g})},7849:(ze,ve,P)=>{P.d(ve,{h:()=>x});var g=P(2416),K=P(3410);function x(se){K.z.setTimeout(()=>{const{onUnhandledError:J}=g.v;if(!J)throw se;J(se)})}},4532:(ze,ve,P)=>{function g(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ve,{z:()=>g})},655:(ze,ve,P)=>{function se(G,te){var he={};for(var ne in G)Object.prototype.hasOwnProperty.call(G,ne)&&te.indexOf(ne)<0&&(he[ne]=G[ne]);if(null!=G&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(ne=Object.getOwnPropertySymbols(G);De<ne.length;De++)te.indexOf(ne[De])<0&&Object.prototype.propertyIsEnumerable.call(G,ne[De])&&(he[ne[De]]=G[ne[De]])}return he}function ue(G,te,he,ne){return new(he||(he=Promise))(function(oe,lt){function Nt(Xe){try{Ze(ne.next(Xe))}catch(Ht){lt(Ht)}}function fn(Xe){try{Ze(ne.throw(Xe))}catch(Ht){lt(Ht)}}function Ze(Xe){Xe.done?oe(Xe.value):function De(oe){return oe instanceof he?oe:new he(function(lt){lt(oe)})}(Xe.value).then(Nt,fn)}Ze((ne=ne.apply(G,te||[])).next())})}function ce(G){return this instanceof ce?(this.v=G,this):new ce(G)}function _e(G,te,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ne=he.apply(G,te||[]),oe=[];return De={},lt("next"),lt("throw"),lt("return"),De[Symbol.asyncIterator]=function(){return this},De;function lt($t){ne[$t]&&(De[$t]=function(Fr){return new Promise(function(Lt,Gr){oe.push([$t,Fr,Lt,Gr])>1||Nt($t,Fr)})})}function Nt($t,Fr){try{!function fn($t){$t.value instanceof ce?Promise.resolve($t.value.v).then(Ze,Xe):Ht(oe[0][2],$t)}(ne[$t](Fr))}catch(Lt){Ht(oe[0][3],Lt)}}function Ze($t){Nt("next",$t)}function Xe($t){Nt("throw",$t)}function Ht($t,Fr){$t(Fr),oe.shift(),oe.length&&Nt(oe[0][0],oe[0][1])}}function Le(G){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,te=G[Symbol.asyncIterator];return te?te.call(G):(G=function Q(G){var te="function"==typeof Symbol&&Symbol.iterator,he=te&&G[te],ne=0;if(he)return he.call(G);if(G&&"number"==typeof G.length)return{next:function(){return G&&ne>=G.length&&(G=void 0),{value:G&&G[ne++],done:!G}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(G),he={},ne("next"),ne("throw"),ne("return"),he[Symbol.asyncIterator]=function(){return this},he);function ne(oe){he[oe]=G[oe]&&function(lt){return new Promise(function(Nt,fn){!function De(oe,lt,Nt,fn){Promise.resolve(fn).then(function(Ze){oe({value:Ze,done:Nt})},lt)}(Nt,fn,(lt=G[oe](lt)).done,lt.value)})}}}P.d(ve,{FC:()=>_e,KL:()=>Le,_T:()=>se,mG:()=>ue,qq:()=>ce})},5e3:(ze,ve,P)=>{P.d(ve,{$8M:()=>Ei,$Z:()=>Jn,AFp:()=>Fv,AaK:()=>ue,CHM:()=>hl,CRH:()=>$d,CZH:()=>Gf,CqO:()=>ey,EJc:()=>FC,EpF:()=>Or,F4k:()=>bg,FYo:()=>Xy,FiY:()=>Mr,G48:()=>fw,Gf:()=>yv,GfV:()=>tu,JOm:()=>re,LFG:()=>$e,LSH:()=>Lu,Lbi:()=>Bv,NdJ:()=>yd,OlP:()=>ln,Oqu:()=>Hg,PXZ:()=>E,Q6J:()=>Pi,QGY:()=>_c,Qsj:()=>ev,R0b:()=>Gs,RDi:()=>fi,Rgc:()=>Bd,SBq:()=>Od,Sil:()=>UC,Suo:()=>vv,TTD:()=>Es,TgZ:()=>lf,VLi:()=>i,X6Q:()=>hw,XFs:()=>qe,Xpm:()=>gt,Y36:()=>_d,YKP:()=>sv,YNc:()=>$_,Yjl:()=>Wn,Yz7:()=>Lt,ZZ4:()=>YC,_UZ:()=>Cg,_Vd:()=>Rf,_c5:()=>Rw,_uU:()=>gE,aQg:()=>QC,c2e:()=>Hv,cJS:()=>kt,cg1:()=>nm,dDg:()=>Km,deG:()=>Ii,dqk:()=>bt,eFA:()=>R,g9A:()=>Uv,h0i:()=>Ic,hGG:()=>Mw,hij:()=>$g,iGM:()=>Hd,ifc:()=>wt,ip1:()=>kv,kL8:()=>Dy,lG2:()=>Pt,lnq:()=>bd,oAB:()=>q,oxw:()=>ny,q4F:()=>ym,qLn:()=>kn,qZA:()=>uf,sBO:()=>pw,sIi:()=>$r,s_b:()=>nu,soG:()=>Zf,tBr:()=>Jr,tb:()=>Vv,tp0:()=>Os,uIk:()=>F_,vHH:()=>Te,vpe:()=>Ws,wAp:()=>rt,xp6:()=>d_,z2F:()=>Rn,zSh:()=>ng,zs3:()=>us});var g=P(7579),K=P(727),x=P(8306),se=P(6451),J=P(3099);function de(n){for(let r in n)if(n[r]===de)return r;throw Error("Could not find renamed property on target object.")}function ue(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ue).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function ae(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const j=de({__forward_ref__:de});function H(n){return n.__forward_ref__=H,n.toString=function(){return ue(this())},n}function Q(n){return function Fe(n){return"function"==typeof n&&n.hasOwnProperty(j)&&n.__forward_ref__===H}(n)?n():n}class Te extends Error{constructor(r,s){super(function Re(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function ce(n){return"string"==typeof n?n:null==n?"":String(n)}function _e(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ce(n)}function ge(n,r){const s=r?` in ${r}`:"";throw new Te(-201,`No provider for ${_e(n)} found${s}`)}function Ze(n,r){null==n&&function Xe(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function It(n){return Fn(n,zr)||Fn(n,ai)}function Fn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Xn(n){return n&&(n.hasOwnProperty(er)||n.hasOwnProperty(Zr))?n[er]:null}const zr=de({\u0275prov:de}),er=de({\u0275inj:de}),ai=de({ngInjectableDef:de}),Zr=de({ngInjectorDef:de});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let sr;function bn(n){const r=sr;return sr=n,r}function Er(n,r,s){const a=It(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&qe.Optional?null:void 0!==r?r:void ge(ue(n),"Injector")}function Zt(n){return{toString:n}.toString()}var Pn=(()=>((Pn=Pn||{})[Pn.OnPush=0]="OnPush",Pn[Pn.Default=1]="Default",Pn))(),wt=(()=>{return(n=wt||(wt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",wt;var n})();const Ge="undefined"!=typeof globalThis&&globalThis,st="undefined"!=typeof window&&window,Ln="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bt=Ge||"undefined"!=typeof global&&global||st||Ln,Un={},Ye=[],$n=de({\u0275cmp:de}),yt=de({\u0275dir:de}),Ue=de({\u0275pipe:de}),Ce=de({\u0275mod:de}),Ve=de({\u0275fac:de}),Qe=de({__NG_ELEMENT_ID__:de});let Et=0;function gt(n){return Zt(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Pn.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Ye,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||wt.Emulated,id:"c",styles:n.styles||Ye,_:null,setInput:null,schemas:n.schemas||null,tView:null},u=n.directives,h=n.features,_=n.pipes;return a.id+=Et++,a.inputs=tt(n.inputs,s),a.outputs=tt(n.outputs),h&&h.forEach(v=>v(a)),a.directiveDefs=u?()=>("function"==typeof u?u():u).map(L):null,a.pipeDefs=_?()=>("function"==typeof _?_():_).map($):null,a})}function L(n){return At(n)||function cn(n){return n[yt]||null}(n)}function $(n){return function ft(n){return n[Ue]||null}(n)}const le={};function q(n){return Zt(()=>{const r={type:n.type,bootstrap:n.bootstrap||Ye,declarations:n.declarations||Ye,imports:n.imports||Ye,exports:n.exports||Ye,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(le[n.id]=n.type),r})}function tt(n,r){if(null==n)return Un;const s={};for(const a in n)if(n.hasOwnProperty(a)){let u=n[a],h=u;Array.isArray(u)&&(h=u[1],u=u[0]),s[u]=a,r&&(r[u]=h)}return s}const Pt=gt;function Wn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function At(n){return n[$n]||null}function Gt(n,r){const s=n[Ce]||null;if(!s&&!0===r)throw new Error(`Type ${ue(n)} does not have '\u0275mod' property.`);return s}function Lr(n){return Array.isArray(n)&&"object"==typeof n[1]}function wr(n){return Array.isArray(n)&&!0===n[1]}function iu(n){return 0!=(8&n.flags)}function Ui(n){return 2==(2&n.flags)}function ua(n){return 1==(1&n.flags)}function or(n){return null!==n.template}function Rc(n){return 0!=(512&n[2])}function ar(n,r){return n.hasOwnProperty(Ve)?n[Ve]:null}class Ys{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function Es(){return Ao}function Ao(n){return n.type.prototype.ngOnChanges&&(n.setInput=eh),cu}function cu(){const n=ji(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Un)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function eh(n,r,s,a){const u=ji(n)||function br(n,r){return n[Qs]=r}(n,{previous:Un,current:null}),h=u.current||(u.current={}),_=u.previous,v=this.declaredInputs[s],C=_[v];h[v]=new Ys(C&&C.currentValue,r,_===Un),n[a]=r}Es.ngInherit=!0;const Qs="__ngSimpleChanges__";function ji(n){return n[Qs]||null}let ma;function fi(n){ma=n}function Kt(n){return!!n.listen}const Js={createRenderer:(n,r)=>function So(){return void 0!==ma?ma:"undefined"!=typeof document?document:void 0}()};function Vt(n){for(;Array.isArray(n);)n=n[0];return n}function zn(n,r){return Vt(r[n.index])}function Ro(n,r){return n.data[r]}function Zn(n,r){const s=r[n];return Lr(s)?s:s[0]}function $i(n){return 4==(4&n[2])}function pi(n){return 128==(128&n[2])}function ur(n,r){return null==r?null:n[r]}function Wi(n){n[18]=0}function Gi(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Je={lFrame:bs(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ca(){return Je.bindingsEnabled}function ye(){return Je.lFrame.lView}function mt(){return Je.lFrame.tView}function hl(n){return Je.lFrame.contextLView=n,n[8]}function tn(){let n=Xs();for(;null!==n&&64===n.type;)n=n.parent;return n}function Xs(){return Je.lFrame.currentTNode}function cr(n,r){const s=Je.lFrame;s.currentTNode=n,s.isParent=r}function fl(){return Je.lFrame.isParent}function Ia(){return Je.isInCheckNoChangesMode}function zi(n){Je.isInCheckNoChangesMode=n}function Zi(){return Je.lFrame.bindingIndex++}function Da(n,r){const s=Je.lFrame;s.bindingIndex=s.bindingRootIndex=n,Po(r)}function Po(n){Je.lFrame.currentDirectiveIndex=n}function yl(){return Je.lFrame.currentQueryIndex}function vl(n){Je.lFrame.currentQueryIndex=n}function pu(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function El(n,r,s){if(s&qe.SkipSelf){let u=r,h=n;for(;!(u=u.parent,null!==u||s&qe.Host||(u=pu(h),null===u||(h=h[15],10&u.type))););if(null===u)return!1;r=u,n=h}const a=Je.lFrame=gu();return a.currentTNode=r,a.lView=n,!0}function ws(n){const r=gu(),s=n[1];Je.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function gu(){const n=Je.lFrame,r=null===n?null:n.child;return null===r?bs(n):r}function bs(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function mu(){const n=Je.lFrame;return Je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _u=mu;function Ds(){const n=mu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Kn(){return Je.lFrame.selectedIndex}function qi(n){Je.lFrame.selectedIndex=n}function dn(){const n=Je.lFrame;return Ro(n.tView,n.selectedIndex)}function gi(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:C,ngAfterViewChecked:T,ngOnDestroy:A}=h;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),v&&((n.contentHooks||(n.contentHooks=[])).push(s,v),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,v)),C&&(n.viewHooks||(n.viewHooks=[])).push(-s,C),T&&((n.viewHooks||(n.viewHooks=[])).push(s,T),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,T)),null!=A&&(n.destroyHooks||(n.destroyHooks=[])).push(s,A)}}function Oo(n,r,s){yu(n,r,3,s)}function Ta(n,r,s,a){(3&n[2])===s&&yu(n,r,s,a)}function En(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function yu(n,r,s,a){const h=null!=a?a:-1,_=r.length-1;let v=0;for(let C=void 0!==a?65535&n[18]:0;C<_;C++)if("number"==typeof r[C+1]){if(v=r[C],null!=a&&v>=a)break}else r[C]<0&&(n[18]+=65536),(v<h||-1==h)&&(th(n,s,r,C),n[18]=(4294901760&n[18])+C+2),C++}function th(n,r,s,a){const u=s[a]<0,h=s[a+1],v=n[u?-s[a]:s[a]];if(u){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class to{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Yr(n,r,s){const a=Kt(n);let u=0;for(;u<s.length;){const h=s[u];if("number"==typeof h){if(0!==h)break;u++;const _=s[u++],v=s[u++],C=s[u++];a?n.setAttribute(r,v,C,_):r.setAttributeNS(_,v,C)}else{const _=h,v=s[++u];Cn(_)?a&&n.setProperty(r,_,v):a?n.setAttribute(r,_,v):r.setAttribute(_,v),u++}}return u}function tr(n){return 3===n||4===n||6===n}function Cn(n){return 64===n.charCodeAt(0)}function et(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const u=r[a];"number"==typeof u?s=u:0===s||Yi(n,s,u,null,-1===s||2===s?r[++a]:null)}}return n}function Yi(n,r,s,a,u){let h=0,_=n.length;if(-1===r)_=-1;else for(;h<n.length;){const v=n[h++];if("number"==typeof v){if(v===r){_=-1;break}if(v>r){_=h-1;break}}}for(;h<n.length;){const v=n[h];if("number"==typeof v)break;if(v===s){if(null===a)return void(null!==u&&(n[h+1]=u));if(a===n[h+1])return void(n[h+2]=u)}h++,null!==a&&h++,null!==u&&h++}-1!==_&&(n.splice(_,0,r),h=_+1),n.splice(h++,0,s),null!==a&&n.splice(h++,0,a),null!==u&&n.splice(h++,0,u)}function St(n){return-1!==n}function Wt(n){return 32767&n}function nn(n,r){let s=function Aa(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let Tn=!0;function rn(n){const r=Tn;return Tn=n,r}let Nc=0;function ro(n,r){const s=io(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,yi(a.data,n),yi(r,null),yi(a.blueprint,null));const u=sn(n,r),h=n.injectorIndex;if(St(u)){const _=Wt(u),v=nn(u,r),C=v[1].data;for(let T=0;T<8;T++)r[h+T]=v[_+T]|C[_+T]}return r[h+8]=u,h}function yi(n,r){n.push(0,0,0,0,0,0,0,0,r)}function io(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function sn(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,u=r;for(;null!==u;){const h=u[1],_=h.type;if(a=2===_?h.declTNode:1===_?u[6]:null,null===a)return-1;if(s++,u=u[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function so(n,r,s){!function no(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Qe)&&(a=s[Qe]),null==a&&(a=s[Qe]=Nc++);const u=255&a;r.data[n+(u>>5)]|=1<<u}(n,r,s)}function dr(n,r,s){if(s&qe.Optional)return n;ge(r,"NodeInjector")}function vi(n,r,s,a){if(s&qe.Optional&&void 0===a&&(a=null),0==(s&(qe.Self|qe.Host))){const u=n[9],h=bn(void 0);try{return u?u.get(r,a,s&qe.Optional):Er(r,a,s&qe.Optional)}finally{bn(h)}}return dr(a,r,s)}function Vr(n,r,s,a=qe.Default,u){if(null!==n){const h=function Cu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Qe)?n[Qe]:void 0;return"number"==typeof r?r>=0?255&r:oo:r}(s);if("function"==typeof h){if(!El(r,n,a))return a&qe.Host?dr(u,s,a):vi(r,s,a,u);try{const _=h(a);if(null!=_||a&qe.Optional)return _;ge(s)}finally{_u()}}else if("number"==typeof h){let _=null,v=io(n,r),C=-1,T=a&qe.Host?r[16][6]:null;for((-1===v||a&qe.SkipSelf)&&(C=-1===v?sn(n,r):r[v+8],-1!==C&&Iu(a,!1)?(_=r[1],v=Wt(C),r=nn(C,r)):v=-1);-1!==v;){const A=r[1];if(Ra(h,v,A.data)){const N=kc(v,r,s,_,a,T);if(N!==O)return N}C=r[v+8],-1!==C&&Iu(a,r[1].data[v+8]===T)&&Ra(h,v,r)?(_=A,v=Wt(C),r=nn(C,r)):v=-1}}}return vi(r,s,a,u)}const O={};function oo(){return new jr(tn(),ye())}function kc(n,r,s,a,u,h){const _=r[1],v=_.data[n+8],A=Sa(v,_,s,null==a?Ui(v)&&Tn:a!=_&&0!=(3&v.type),u&qe.Host&&h===v);return null!==A?Tr(r,_,A,v):O}function Sa(n,r,s,a,u){const h=n.providerIndexes,_=r.data,v=1048575&h,C=n.directiveStart,A=h>>20,V=u?v+A:n.directiveEnd;for(let Z=a?v:v+A;Z<V;Z++){const fe=_[Z];if(Z<C&&s===fe||Z>=C&&fe.type===s)return Z}if(u){const Z=_[C];if(Z&&or(Z)&&Z.type===s)return C}return null}function Tr(n,r,s,a){let u=n[s];const h=r.data;if(function vu(n){return n instanceof to}(u)){const _=u;_.resolving&&function je(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Te(-200,`Circular dependency in DI detected for ${n}${s}`)}(_e(h[s]));const v=rn(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?bn(_.injectImpl):null;El(n,a,qe.Default);try{u=n[s]=_.factory(void 0,h,n,a),r.firstCreatePass&&s>=a.directiveStart&&function wl(n,r,s){const{ngOnChanges:a,ngOnInit:u,ngDoCheck:h}=r.type.prototype;if(a){const _=Ao(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}u&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,u),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==C&&bn(C),rn(v),_.resolving=!1,_u()}}return u}function Ra(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Iu(n,r){return!(n&qe.Self||n&qe.Host&&r)}class jr{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Vr(this._tNode,this._lView,r,a,s)}}function Ei(n){return function Dl(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let u=0;for(;u<a;){const h=s[u];if(tr(h))break;if(0===h)u+=2;else if("number"==typeof h)for(u++;u<a&&"string"==typeof s[u];)u++;else{if(h===r)return s[u+1];u+=2}}}return null}(tn(),n)}const Ss="__parameters__";function Ms(n,r,s){return Zt(()=>{const a=function Ma(n){return function(...s){if(n){const a=n(...s);for(const u in a)this[u]=a[u]}}}(r);function u(...h){if(this instanceof u)return a.apply(this,h),this;const _=new u(...h);return v.annotation=_,v;function v(C,T,A){const N=C.hasOwnProperty(Ss)?C[Ss]:Object.defineProperty(C,Ss,{value:[]})[Ss];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(_),C}}return s&&(u.prototype=Object.create(s.prototype)),u.prototype.ngMetadataName=n,u.annotationCls=u,u})}class ln{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Lt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ii=new ln("AnalyzeForEntryComponents");function Qn(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),Qn(a,r)):r!==n&&r.push(a)}return r}function Ar(n,r){n.forEach(s=>Array.isArray(s)?Ar(s,r):r(s))}function wu(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function es(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}const xs={},uo="__NG_DI_FLAG__",Rl="ngTempTokenPath",w=/\n/gm,k="__source",z=de({provide:String,useValue:de});let X;function be(n){const r=X;return X=n,r}function Be(n,r=qe.Default){if(void 0===X)throw new Te(203,"");return null===X?Er(n,void 0,r):X.get(n,r&qe.Optional?null:void 0,r)}function $e(n,r=qe.Default){return(function Mn(){return sr}()||Be)(Q(n),r)}const Dt=$e;function ut(n){const r=[];for(let s=0;s<n.length;s++){const a=Q(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Te(900,"");let u,h=qe.Default;for(let _=0;_<a.length;_++){const v=a[_],C=mn(v);"number"==typeof C?-1===C?u=v.token:h|=C:u=v}r.push($e(u,h))}else r.push($e(a))}return r}function An(n,r){return n[uo]=r,n.prototype[uo]=r,n}function mn(n){return n[uo]}const Jr=An(Ms("Inject",n=>({token:n})),-1),Mr=An(Ms("Optional"),8),Os=An(Ms("SkipSelf"),4);class Bc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const jo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ho=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var In=(()=>((In=In||{})[In.NONE=0]="NONE",In[In.HTML=1]="HTML",In[In.STYLE=2]="STYLE",In[In.SCRIPT=3]="SCRIPT",In[In.URL=4]="URL",In[In.RESOURCE_URL=5]="RESOURCE_URL",In))();function Lu(n){const r=function os(){const n=ye();return n&&n[12]}();return r?r.sanitize(In.URL,n)||"":function Ol(n,r){const s=function Fa(n){return n instanceof Bc&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?function ei(n){return n instanceof Bc?n.changingThisBreaksApplicationSecurity:n}(n):function fo(n){return(n=String(n)).match(jo)||n.match(Ho)?n:"unsafe:"+n}(ce(n))}const Wc="__ngContext__";function Sn(n,r){n[Wc]=r}function an(n){const r=function Go(n){return n[Wc]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function zo(n){return n.ngOriginalError}function Ih(n,...r){n.error(...r)}class kn{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function Ll(n){return n&&n.ngErrorLogger||Ih}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&zo(r);for(;s&&zo(s);)s=zo(s);return s||null}}const Hu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bt))();function f(n){return n instanceof Function?n():n}var re=(()=>((re=re||{})[re.Important=1]="Important",re[re.DashCase=2]="DashCase",re))();function He(n,r){return undefined(n,r)}function xt(n){const r=n[3];return wr(r)?r[3]:r}function Ga(n){return qo(n[13])}function po(n){return qo(n[4])}function qo(n){for(;null!==n&&!wr(n);)n=n[4];return n}function Hr(n,r,s,a,u){if(null!=a){let h,_=!1;wr(a)?h=a:Lr(a)&&(_=!0,a=a[0]);const v=Vt(a);0===n&&null!==s?null==u?Za(r,s,v):Qo(r,s,v,u||null,!0):1===n&&null!==s?Qo(r,s,v,u||null,!0):2===n?function mp(n,r,s){const a=Wu(n,r);a&&function Ka(n,r,s,a){Kt(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,v,_):3===n&&r.destroyNode(v),null!=h&&function qv(n,r,s,a,u){const h=s[7];h!==Vt(s)&&Hr(r,n,a,h,u);for(let v=10;v<s.length;v++){const C=s[v];nd(C[1],C,n,r,a,h)}}(r,n,h,s,u)}}function go(n,r,s){if(Kt(n))return n.createElement(r,s);{const a=null!==s?function ga(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function za(n,r){const s=n[9],a=s.indexOf(r),u=r[3];1024&r[2]&&(r[2]&=-1025,Gi(u,-1)),s.splice(a,1)}function Xc(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const u=a[17];null!==u&&u!==n&&za(u,a),r>0&&(n[s-1][4]=a[4]);const h=es(n,10+r);!function cp(n,r){nd(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const _=h[19];null!==_&&_.detachView(h[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function t_(n,r){if(!(256&r[2])){const s=r[11];Kt(s)&&s.destroyNode&&nd(n,r,s,3,null,null),function Jc(n){let r=n[13];if(!r)return Jt(n[1],n);for(;r;){let s=null;if(Lr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)Lr(r)&&Jt(r[1],r),r=r[3];null===r&&(r=n),Lr(r)&&Jt(r[1],r),s=r&&r[4]}r=s}}(r)}}function Jt(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function ed(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const u=r[s[a]];if(!(u instanceof to)){const h=s[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const v=u[h[_]],C=h[_+1];try{C.call(v)}finally{}}else try{h.call(u)}finally{}}}}(n,r),function Ls(n,r){const s=n.cleanup,a=r[7];let u=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const _=s[h+1],v="function"==typeof _?_(r):Vt(r[_]),C=a[u=s[h+2]],T=s[h+3];"boolean"==typeof T?v.removeEventListener(s[h],C,T):T>=0?a[u=T]():a[u=-T].unsubscribe(),h+=2}else{const _=a[u=s[h+1]];s[h].call(_)}if(null!==a){for(let h=u+1;h<a.length;h++)a[h]();r[7]=null}}(n,r),1===r[1].type&&Kt(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&wr(r[3])){s!==r[3]&&za(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function Th(n,r,s){return function dp(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const u=n.data[a.directiveStart].encapsulation;if(u===wt.None||u===wt.Emulated)return null}return zn(a,s)}(n,r.parent,s)}function Qo(n,r,s,a,u){Kt(n)?n.insertBefore(r,s,a,u):r.insertBefore(s,a,u)}function Za(n,r,s){Kt(n)?n.appendChild(r,s):r.appendChild(s)}function hp(n,r,s,a,u){null!==a?Qo(n,r,s,a,u):Za(n,r,s)}function Wu(n,r){return Kt(n)?n.parentNode(r):r.parentNode}let n_=function td(n,r,s){return 40&n.type?zn(n,s):null};function Ah(n,r,s,a){const u=Th(n,a,r),h=r[11],v=function fp(n,r,s){return n_(n,r,s)}(a.parent||r[6],a,r);if(null!=u)if(Array.isArray(s))for(let C=0;C<s.length;C++)hp(h,u,s[C],v,!1);else hp(h,u,s,v,!1)}function Sh(n,r){if(null!==r){const s=r.type;if(3&s)return zn(r,n);if(4&s)return gp(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return Sh(n,a);{const u=n[r.index];return wr(u)?gp(-1,u):Vt(u)}}if(32&s)return He(r,n)()||Vt(n[r.index]);{const a=i_(n,r);return null!==a?Array.isArray(a)?a[0]:Sh(xt(n[16]),a):Sh(n,r.next)}}return null}function i_(n,r){return null!==r?n[16][6].projection[r.projection]:null}function gp(n,r){const s=10+n+1;if(s<r.length){const a=r[s],u=a[1].firstChild;if(null!==u)return Sh(a,u)}return r[7]}function Rh(n,r,s,a,u,h,_){for(;null!=s;){const v=a[s.index],C=s.type;if(_&&0===r&&(v&&Sn(Vt(v),a),s.flags|=4),64!=(64&s.flags))if(8&C)Rh(n,r,s.child,a,u,h,!1),Hr(r,n,u,v,h);else if(32&C){const T=He(s,a);let A;for(;A=T();)Hr(r,n,u,A,h);Hr(r,n,u,v,h)}else 16&C?s_(n,r,a,s,u,h):Hr(r,n,u,v,h);s=_?s.projectionNext:s.next}}function nd(n,r,s,a,u,h){Rh(s,a,n.firstChild,r,u,h,!1)}function s_(n,r,s,a,u,h){const _=s[16],C=_[6].projection[a.projection];if(Array.isArray(C))for(let T=0;T<C.length;T++)Hr(r,n,u,C[T],h);else Rh(n,r,C,_[3],u,h,!0)}function o_(n,r,s){Kt(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function zu(n,r,s){Kt(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Mh(n,r,s){let a=n.length;for(;;){const u=n.indexOf(r,s);if(-1===u)return u;if(0===u||n.charCodeAt(u-1)<=32){const h=r.length;if(u+h===a||n.charCodeAt(u+h)<=32)return u}s=u+1}}const rd="ng-template";function Jv(n,r,s){let a=0;for(;a<n.length;){let u=n[a++];if(s&&"class"===u){if(u=n[a],-1!==Mh(u.toLowerCase(),r,0))return!0}else if(1===u){for(;a<n.length&&"string"==typeof(u=n[a++]);)if(u.toLowerCase()===r)return!0;return!1}}return!1}function Ph(n){return 4===n.type&&n.value!==rd}function a_(n,r,s){return r===(4!==n.type||s?n.value:rd)}function l_(n,r,s){let a=4;const u=n.attrs||[],h=function e0(n){for(let r=0;r<n.length;r++)if(tr(n[r]))return r;return n.length}(u);let _=!1;for(let v=0;v<r.length;v++){const C=r[v];if("number"!=typeof C){if(!_)if(4&a){if(a=2|1&a,""!==C&&!a_(n,C,s)||""===C&&1===r.length){if(Us(a))return!1;_=!0}}else{const T=8&a?C:r[++v];if(8&a&&null!==n.attrs){if(!Jv(n.attrs,T,s)){if(Us(a))return!1;_=!0}continue}const N=Xv(8&a?"class":C,u,Ph(n),s);if(-1===N){if(Us(a))return!1;_=!0;continue}if(""!==T){let V;V=N>h?"":u[N+1].toLowerCase();const Z=8&a?V:null;if(Z&&-1!==Mh(Z,T,0)||2&a&&T!==V){if(Us(a))return!1;_=!0}}}}else{if(!_&&!Us(a)&&!Us(C))return!1;if(_&&Us(C))continue;_=!1,a=C|1&a}}return Us(a)||_}function Us(n){return 0==(1&n)}function Xv(n,r,s,a){if(null===r)return-1;let u=0;if(a||!s){let h=!1;for(;u<r.length;){const _=r[u];if(_===n)return u;if(3===_||6===_)h=!0;else{if(1===_||2===_){let v=r[++u];for(;"string"==typeof v;)v=r[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=h?1:2}return-1}return function t0(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function _p(n,r,s=!1){for(let a=0;a<r.length;a++)if(l_(n,r[a],s))return!0;return!1}function u_(n,r){return n?":not("+r.trim()+")":r}function c_(n){let r=n[0],s=1,a=2,u="",h=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&a){const v=n[++s];u+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&a?u+="."+_:4&a&&(u+=" "+_);else""!==u&&!Us(_)&&(r+=u_(h,u),u=""),a=_,h=h||!Us(a);s++}return""!==u&&(r+=u_(h,u)),r}const ht={};function d_(n){Ep(mt(),ye(),Kn()+n,Ia())}function Ep(n,r,s,a){if(!a)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&Oo(r,h,s)}else{const h=n.preOrderHooks;null!==h&&Ta(r,h,0,s)}qi(s)}function Bh(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const u=s[a],h=s[a+1];if(-1!==h){const _=n.data[h];vl(u),_.contentQueries(2,r[h],h)}}}function ta(n,r,s,a,u,h,_,v,C,T){const A=r.blueprint.slice();return A[0]=u,A[2]=140|a,Wi(A),A[3]=A[15]=n,A[8]=s,A[10]=_||n&&n[10],A[11]=v||n&&n[11],A[12]=C||n&&n[12]||null,A[9]=T||n&&n[9]||null,A[6]=h,A[16]=2==r.type?n[16]:A,A}function qu(n,r,s,a,u){let h=n.data[r];if(null===h)h=function Fp(n,r,s,a,u){const h=Xs(),_=fl(),C=n.data[r]=function f0(n,r,s,a,u,h){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,s,r,a,u);return null===n.firstChild&&(n.firstChild=C),null!==h&&(_?null==h.child&&null!==C.parent&&(h.child=C):null===h.next&&(h.next=C)),C}(n,r,s,a,u),function ml(){return Je.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=a,h.attrs=u;const _=function eo(){const n=Je.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return cr(h,!0),h}function Yu(n,r,s,a){if(0===s)return-1;const u=r.length;for(let h=0;h<s;h++)r.push(a),n.blueprint.push(a),n.data.push(null);return u}function $l(n,r,s){ws(r);try{const a=n.viewQuery;null!==a&&Qp(1,a,s);const u=n.template;null!==u&&Lp(n,r,u,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Bh(n,r),n.staticViewQueries&&Qp(2,n.viewQuery,s);const h=n.components;null!==h&&function d0(n,r){for(let s=0;s<r.length;s++)dd(n,r[s])}(r,h)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Ds()}}function Ya(n,r,s,a){const u=r[2];if(256==(256&u))return;ws(r);const h=Ia();try{Wi(r),function wa(n){return Je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Lp(n,r,s,2,a);const _=3==(3&u);if(!h)if(_){const T=n.preOrderCheckHooks;null!==T&&Oo(r,T,null)}else{const T=n.preOrderHooks;null!==T&&Ta(r,T,0,null),En(r,0)}if(function E0(n){for(let r=Ga(n);null!==r;r=po(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const u=s[a],h=u[3];0==(1024&u[2])&&Gi(h,1),u[2]|=1024}}}(r),function v0(n){for(let r=Ga(n);null!==r;r=po(r))for(let s=10;s<r.length;s++){const a=r[s],u=a[1];pi(a)&&Ya(u,a,u.template,a[8])}}(r),null!==n.contentQueries&&Bh(n,r),!h)if(_){const T=n.contentCheckHooks;null!==T&&Oo(r,T)}else{const T=n.contentHooks;null!==T&&Ta(r,T,1),En(r,1)}!function Np(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const u=s[a];if(u<0)qi(~u);else{const h=u,_=s[++a],v=s[++a];Da(_,h),v(2,r[h])}}}finally{qi(-1)}}(n,r);const v=n.components;null!==v&&function kp(n,r){for(let s=0;s<r.length;s++)C0(n,r[s])}(r,v);const C=n.viewQuery;if(null!==C&&Qp(2,C,a),!h)if(_){const T=n.viewCheckHooks;null!==T&&Oo(r,T)}else{const T=n.viewHooks;null!==T&&Ta(r,T,2),En(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),h||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Gi(r[3],-1))}finally{Ds()}}function h0(n,r,s,a){const u=r[10],h=!Ia(),_=$i(r);try{h&&!_&&u.begin&&u.begin(),_&&$l(n,r,a),Ya(n,r,s,a)}finally{h&&!_&&u.end&&u.end()}}function Lp(n,r,s,a,u){const h=Kn(),_=2&a;try{qi(-1),_&&r.length>20&&Ep(n,r,20,Ia()),s(a,u)}finally{qi(h)}}function Up(n,r,s){!Ca()||(function ld(n,r,s,a){const u=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||ro(s,r),Sn(a,r);const _=s.initialInputs;for(let v=u;v<h;v++){const C=n.data[v],T=or(C);T&&y0(r,s,C);const A=Tr(r,n,v,s);Sn(A,r),null!==_&&as(0,v-u,A,C,0,_),T&&(Zn(s.index,r)[8]=A)}}(n,r,s,zn(s,r)),128==(128&s.flags)&&function m0(n,r,s){const a=s.directiveStart,u=s.directiveEnd,_=s.index,v=function _l(){return Je.lFrame.currentDirectiveIndex}();try{qi(_);for(let C=a;C<u;C++){const T=n.data[C],A=r[C];Po(C),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Wp(T,A)}}finally{qi(-1),Po(v)}}(n,r,s))}function Vh(n,r,s=zn){const a=r.localNames;if(null!==a){let u=r.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],v=-1===_?s(r,n):n[_];n[u++]=v}}}function jh(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Qu(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Qu(n,r,s,a,u,h,_,v,C,T){const A=20+a,N=A+u,V=function Bp(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:ht);return s}(A,N),Z="function"==typeof T?T():T;return V[1]={type:n,blueprint:V,template:s,queries:null,viewQuery:v,declTNode:r,data:V.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:Z,incompleteFirstPass:!1}}function Vp(n,r,s,a){const u=w_(r);null===s?u.push(a):(u.push(s),n.firstCreatePass&&b_(n).push(a,u.length-1))}function ad(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const u=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,u):s[a]=[r,u]}return s}function $p(n,r,s,a){let u=!1;if(Ca()){const h=function Gp(n,r,s){const a=n.directiveRegistry;let u=null;if(a)for(let h=0;h<a.length;h++){const _=a[h];_p(s,_.selectors,!1)&&(u||(u=[]),so(ro(s,r),n,_.type),or(_)?(ec(n,s),u.unshift(_)):u.push(_))}return u}(n,r,s),_=null===a?null:{"":-1};if(null!==h){u=!0,Ri(s,n.data.length,h.length);for(let A=0;A<h.length;A++){const N=h[A];N.providersResolver&&N.providersResolver(N)}let v=!1,C=!1,T=Yu(n,r,h.length,null);for(let A=0;A<h.length;A++){const N=h[A];s.mergedAttrs=et(s.mergedAttrs,N.hostAttrs),zp(n,s,r,T,N),_0(T,N,_),null!==N.contentQueries&&(s.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(s.flags|=128);const V=N.type.prototype;!v&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),v=!0),!C&&(V.ngOnChanges||V.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),C=!0),T++}!function v_(n,r){const a=r.directiveEnd,u=n.data,h=r.attrs,_=[];let v=null,C=null;for(let T=r.directiveStart;T<a;T++){const A=u[T],N=A.inputs,V=null===h||Ph(r)?null:C_(N,h);_.push(V),v=ad(N,T,v),C=ad(A.outputs,T,C)}null!==v&&(v.hasOwnProperty("class")&&(r.flags|=16),v.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=v,r.outputs=C}(n,s)}_&&function ud(n,r,s){if(r){const a=n.localNames=[];for(let u=0;u<r.length;u+=2){const h=s[r[u+1]];if(null==h)throw new Te(-301,!1);a.push(r[u],h)}}}(s,a,_)}return s.mergedAttrs=et(s.mergedAttrs,s.attrs),u}function Xu(n,r,s,a,u,h){const _=h.hostBindings;if(_){let v=n.hostBindingOpCodes;null===v&&(v=n.hostBindingOpCodes=[]);const C=~r.index;(function _o(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(v)!=C&&v.push(C),v.push(a,u,_)}}function Wp(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function ec(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function _0(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;or(r)&&(s[""]=n)}}function Ri(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function zp(n,r,s,a,u){n.data[a]=u;const h=u.factory||(u.factory=ar(u.type)),_=new to(h,or(u),null);n.blueprint[a]=_,s[a]=_,Xu(n,r,0,a,Yu(n,s,u.hostVars,ht),u)}function y0(n,r,s){const a=zn(r,n),u=jh(s),h=n[10],_=hd(n,ta(n,u,null,s.onPush?64:16,a,r,h,h.createRenderer(a,s),null,null));n[r.index]=_}function Mi(n,r,s,a,u,h){const _=zn(n,r);!function cd(n,r,s,a,u,h,_){if(null==h)Kt(n)?n.removeAttribute(r,u,s):r.removeAttribute(u);else{const v=null==_?ce(h):_(h,a||"",u);Kt(n)?n.setAttribute(r,u,v,s):s?r.setAttributeNS(s,u,v):r.setAttribute(u,v)}}(r[11],_,h,n.value,s,a,u)}function as(n,r,s,a,u,h){const _=h[r];if(null!==_){const v=a.setInput;for(let C=0;C<_.length;){const T=_[C++],A=_[C++],N=_[C++];null!==v?a.setInput(s,N,T,A):s[A]=N}}}function C_(n,r){let s=null,a=0;for(;a<r.length;){const u=r[a];if(0!==u)if(5!==u){if("number"==typeof u)break;n.hasOwnProperty(u)&&(null===s&&(s=[]),s.push(u,n[u],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Zp(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function C0(n,r){const s=Zn(r,n);if(pi(s)){const a=s[1];80&s[2]?Ya(a,s,a.template,s[8]):s[5]>0&&Wh(s)}}function Wh(n){for(let a=Ga(n);null!==a;a=po(a))for(let u=10;u<a.length;u++){const h=a[u];if(1024&h[2]){const _=h[1];Ya(_,h,_.template,h[8])}else h[5]>0&&Wh(h)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const u=Zn(s[a],n);pi(u)&&u[5]>0&&Wh(u)}}function dd(n,r){const s=Zn(r,n),a=s[1];(function I_(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),$l(a,s,s[8])}function hd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Kp(n){for(;n;){n[2]|=64;const r=xt(n);if(Rc(n)&&!r)return n;n=r}return null}function Yp(n,r,s){const a=r[10];a.begin&&a.begin();try{Ya(n,r,n.template,s)}catch(u){throw Jp(r,u),u}finally{a.end&&a.end()}}function Gh(n){!function tc(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=an(s),u=a[1];h0(u,a,u.template,s)}}(n[8])}function Qp(n,r,s){vl(0),r(n,s)}const D0=(()=>Promise.resolve(null))();function w_(n){return n[7]||(n[7]=[])}function b_(n){return n.cleanup||(n.cleanup=[])}function Jp(n,r){const s=n[9],a=s?s.get(kn,null):null;a&&a.handleError(r)}function D_(n,r,s,a,u){for(let h=0;h<s.length;){const _=s[h++],v=s[h++],C=r[_],T=n.data[_];null!==T.setInput?T.setInput(C,u,a,v):C[v]=u}}function ri(n,r,s){const a=function Is(n,r){return Vt(r[n])}(r,n);!function qc(n,r,s){Kt(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function Vs(n,r,s){let a=s?n.styles:null,u=s?n.classes:null,h=0;if(null!==r)for(let _=0;_<r.length;_++){const v=r[_];"number"==typeof v?h=v:1==h?u=ae(u,v):2==h&&(a=ae(a,v+": "+r[++_]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=u:n.classesWithoutHost=u}const tg=new ln("INJECTOR",-1);class Wl{get(r,s=xs){if(s===xs){const a=new Error(`NullInjectorError: No provider for ${ue(r)}!`);throw a.name="NullInjectorError",a}return s}}const ng=new ln("Set Injector scope."),nc={},T_={};let Zh;function fd(){return void 0===Zh&&(Zh=new Wl),Zh}function Kh(n,r=null,s=null,a){const u=qh(n,r,s,a);return u._resolveInjectorDefTypes(),u}function qh(n,r=null,s=null,a){return new A0(n,s,r||fd(),a)}class A0{constructor(r,s,a,u=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&Ar(s,v=>this.processProvider(v,r,s)),Ar([r],v=>this.processInjectorType(v,[],h)),this.records.set(tg,Gl(void 0,this));const _=this.records.get(ng);this.scope=null!=_?_.value:null,this.source=u||("object"==typeof r?null:ue(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=xs,a=qe.Default){this.assertNotDestroyed();const u=be(this),h=bn(void 0);try{if(!(a&qe.SkipSelf)){let v=this.records.get(r);if(void 0===v){const C=function zl(n){return"function"==typeof n||"object"==typeof n&&n instanceof ln}(r)&&It(r);v=C&&this.injectableDefInScope(C)?Gl(rg(r),nc):null,this.records.set(r,v)}if(null!=v)return this.hydrate(r,v)}return(a&qe.Self?fd():this.parent).get(r,s=a&qe.Optional&&s===xs?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[Rl]=_[Rl]||[]).unshift(ue(r)),u)throw _;return function co(n,r,s,a){const u=n[Rl];throw r[k]&&u.unshift(r[k]),n.message=function ka(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let u=ue(r);if(Array.isArray(r))u=r.map(ue).join(" -> ");else if("object"==typeof r){let h=[];for(let _ in r)if(r.hasOwnProperty(_)){let v=r[_];h.push(_+":"+("string"==typeof v?JSON.stringify(v):ue(v)))}u=`{${h.join(", ")}}`}return`${s}${a?"("+a+")":""}[${u}]: ${n.replace(w,"\n  ")}`}("\n"+n.message,u,s,a),n.ngTokenPath=u,n[Rl]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{bn(h),be(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,u)=>r.push(ue(u))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processInjectorType(r,s,a){if(!(r=Q(r)))return!1;let u=Xn(r);const h=null==u&&r.ngModule||void 0,_=void 0===h?r:h,v=-1!==a.indexOf(_);if(void 0!==h&&(u=Xn(h)),null==u)return!1;if(null!=u.imports&&!v){let A;a.push(_);try{Ar(u.imports,N=>{this.processInjectorType(N,s,a)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:V,providers:Z}=A[N];Ar(Z,fe=>this.processProvider(fe,V,Z||Ye))}}this.injectorDefTypes.add(_);const C=ar(_)||(()=>new _);this.records.set(_,Gl(C,nc));const T=u.providers;if(null!=T&&!v){const A=r;Ar(T,N=>this.processProvider(N,A,T))}return void 0!==h&&void 0!==r.providers}processProvider(r,s,a){let u=na(r=Q(r))?r:Q(r&&r.provide);const h=function S0(n,r,s){return og(n)?Gl(void 0,n.useValue):Gl(function sg(n,r,s){let a;if(na(n)){const u=Q(n);return ar(u)||rg(u)}if(og(n))a=()=>Q(n.useValue);else if(function ii(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...ut(n.deps||[]));else if(function A_(n){return!(!n||!n.useExisting)}(n))a=()=>$e(Q(n.useExisting));else{const u=Q(n&&(n.useClass||n.provide));if(!function Yh(n){return!!n.deps}(n))return ar(u)||rg(u);a=()=>new u(...ut(n.deps))}return a}(n),nc)}(r);if(na(r)||!0!==r.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=Gl(void 0,nc,!0),_.factory=()=>ut(_.multi),this.records.set(u,_)),u=r,_.multi.push(r)}this.records.set(u,h)}hydrate(r,s){return s.value===nc&&(s.value=T_,s.value=s.factory()),"object"==typeof s.value&&s.value&&function ls(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Q(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function rg(n){const r=It(n),s=null!==r?r.factory:ar(n);if(null!==s)return s;if(n instanceof ln)throw new Te(204,!1);if(n instanceof Function)return function ig(n){const r=n.length;if(r>0)throw function Sr(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new Te(204,!1);const s=function ir(n){const r=n&&(n[zr]||n[ai]);if(r){const s=function Oi(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Te(204,!1)}function Gl(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function og(n){return null!==n&&"object"==typeof n&&z in n}function na(n){return"function"==typeof n}let us=(()=>{class n{static create(s,a){var u;if(Array.isArray(s))return Kh({name:""},a,s,"");{const h=null!==(u=s.name)&&void 0!==u?u:"";return Kh({name:h},s.parent,s.providers,h)}}}return n.THROW_IF_NOT_FOUND=xs,n.NULL=new Wl,n.\u0275prov=Lt({token:n,providedIn:"any",factory:()=>$e(tg)}),n.__NG_ELEMENT_ID__=-1,n})();function F0(n,r){gi(an(n)[1],tn())}let Xh=null;function rc(){if(!Xh){const n=bt.Symbol;if(n&&n.iterator)Xh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Xh=a)}}}return Xh}function $r(n){return!!ef(n)&&(Array.isArray(n)||!(n instanceof Map)&&rc()in n)}function ef(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function xr(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function tf(n,r,s,a,u){const h=function Zl(n,r,s,a){const u=xr(n,r,s);return xr(n,r+1,a)||u}(n,r,s,a);return xr(n,r+2,u)||h}function F_(n,r,s,a){const u=ye();return xr(u,Zi(),r)&&(mt(),Mi(dn(),u,n,r,s,a)),F_}function lc(n,r,s,a,u,h,_,v){const T=tf(n,function Dr(){return Je.lFrame.bindingIndex}(),s,u,_);return function Br(n){const r=Je.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(3),T?r+ce(s)+a+ce(u)+h+ce(_)+v:ht}function $_(n,r,s,a,u,h,_,v){const C=ye(),T=mt(),A=n+20,N=T.firstCreatePass?function K0(n,r,s,a,u,h,_,v,C){const T=r.consts,A=qu(r,n,4,_||null,ur(T,v));$p(r,s,A,ur(T,C)),gi(r,A);const N=A.tViews=Qu(2,A,a,u,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,T);return null!==r.queries&&(r.queries.template(r,A),N.queries=r.queries.embeddedTView(A)),A}(A,T,C,r,s,a,u,h,_):T.data[A];cr(N,!1);const V=C[11].createComment("");Ah(T,C,V,N),Sn(V,C),hd(C,C[A]=Zp(V,C,V,N)),ua(N)&&Up(T,C,N),null!=_&&Vh(C,N,v)}function _d(n,r=qe.Default){const s=ye();return null===s?$e(n,r):Vr(tn(),s,Q(n),r)}function Jn(){throw new Error("invalid")}function Pi(n,r,s){const a=ye();return xr(a,Zi(),r)&&function yr(n,r,s,a,u,h,_,v){const C=zn(r,s);let A,T=r.inputs;!v&&null!=T&&(A=T[a])?(D_(n,s,A,a,u),Ui(r)&&function jp(n,r){const s=Zn(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function p0(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),u=null!=_?_(u,r.value||"",a):u,Kt(h)?h.setProperty(C,a,u):Cn(a)||(C.setProperty?C.setProperty(a,u):C[a]=u))}(mt(),dn(),a,n,r,a[11],s,!1),Pi}function mc(n,r,s,a,u){const _=u?"class":"style";D_(n,s,r.inputs[_],_,a)}function lf(n,r,s,a){const u=ye(),h=mt(),_=20+n,v=u[11],C=u[_]=go(v,r,function qf(){return Je.lFrame.currentNamespace}()),T=h.firstCreatePass?function Eg(n,r,s,a,u,h,_){const v=r.consts,T=qu(r,n,2,u,ur(v,h));return $p(r,s,T,ur(v,_)),null!==T.attrs&&Vs(T,T.attrs,!1),null!==T.mergedAttrs&&Vs(T,T.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,T),T}(_,h,u,0,r,s,a):h.data[_];cr(T,!0);const A=T.mergedAttrs;null!==A&&Yr(v,C,A);const N=T.classes;null!==N&&zu(v,C,N);const V=T.styles;return null!==V&&o_(v,C,V),64!=(64&T.flags)&&Ah(h,u,C,T),0===function Mo(){return Je.lFrame.elementDepthCount}()&&Sn(C,u),function va(){Je.lFrame.elementDepthCount++}(),ua(T)&&(Up(h,u,T),function y_(n,r,s){if(iu(r)){const u=r.directiveEnd;for(let h=r.directiveStart;h<u;h++){const _=n.data[h];_.contentQueries&&_.contentQueries(1,s[h],h)}}}(h,T,u)),null!==a&&Vh(u,T),lf}function uf(){let n=tn();fl()?function pl(){Je.lFrame.isParent=!1}():(n=n.parent,cr(n,!1));const r=n;!function Ea(){Je.lFrame.elementDepthCount--}();const s=mt();return s.firstCreatePass&&(gi(s,n),iu(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Oc(n){return 0!=(16&n.flags)}(r)&&mc(s,r,ye(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function nh(n){return 0!=(32&n.flags)}(r)&&mc(s,r,ye(),r.stylesWithoutHost,!1),uf}function Cg(n,r,s,a){return lf(n,r,s,a),uf(),Cg}function Or(){return ye()}function _c(n){return!!n&&"function"==typeof n.then}function bg(n){return!!n&&"function"==typeof n.subscribe}const ey=bg;function yd(n,r,s,a){const u=ye(),h=mt(),_=tn();return function cf(n,r,s,a,u,h,_,v){const C=ua(a),A=n.firstCreatePass&&b_(n),N=r[8],V=w_(r);let Z=!0;if(3&a.type||v){const ke=zn(a,r),We=v?v(ke):ke,Ie=V.length,it=v?Ot=>v(Vt(Ot[a.index])):a.index;if(Kt(s)){let Ot=null;if(!v&&C&&(Ot=function Dg(n,r,s,a){const u=n.cleanup;if(null!=u)for(let h=0;h<u.length-1;h+=2){const _=u[h];if(_===s&&u[h+1]===a){const v=r[7],C=u[h+2];return v.length>C?v[C]:null}"string"==typeof _&&(h+=2)}return null}(n,r,u,a.index)),null!==Ot)(Ot.__ngLastListenerFn__||Ot).__ngNextListenerFn__=h,Ot.__ngLastListenerFn__=h,Z=!1;else{h=Tg(a,r,N,h,!1);const en=s.listen(We,u,h);V.push(h,en),A&&A.push(u,it,Ie,Ie+1)}}else h=Tg(a,r,N,h,!0),We.addEventListener(u,h,_),V.push(h),A&&A.push(u,it,Ie,_)}else h=Tg(a,r,N,h,!1);const fe=a.outputs;let Se;if(Z&&null!==fe&&(Se=fe[u])){const ke=Se.length;if(ke)for(let We=0;We<ke;We+=2){const zs=r[Se[We]][Se[We+1]].subscribe(h),Kd=V.length;V.push(h,zs),A&&A.push(u,a.index,Kd,-(Kd+1))}}}(h,u,u[11],_,n,r,!!s,a),yd}function ty(n,r,s,a){try{return!1!==s(a)}catch(u){return Jp(n,u),!1}}function Tg(n,r,s,a,u){return function h(_){if(_===Function)return a;const v=2&n.flags?Zn(n.index,r):r;0==(32&r[2])&&Kp(v);let C=ty(r,0,a,_),T=h.__ngNextListenerFn__;for(;T;)C=ty(r,0,T,_)&&C,T=T.__ngNextListenerFn__;return u&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function ny(n=1){return function Ki(n){return(Je.lFrame.contextLView=function Cl(n,r){for(;n>0;)r=r[15],n--;return r}(n,Je.lFrame.contextLView))[8]}(n)}function gE(n,r=""){const s=ye(),a=mt(),u=n+20,h=a.firstCreatePass?qu(a,u,1,r,null):a.data[u],_=s[u]=function Si(n,r){return Kt(n)?n.createText(r):n.createTextNode(r)}(s[11],r);Ah(a,s,_,h),cr(h,!1)}function Hg(n){return $g("",n,""),Hg}function $g(n,r,s){const a=ye(),u=function oc(n,r,s,a){return xr(n,Zi(),s)?r+ce(s)+a:ht}(a,n,r,s);return u!==ht&&ri(a,Kn(),u),$g}function bd(n,r,s,a,u,h,_){const v=ye(),C=lc(v,n,r,s,a,u,h,_);return C!==ht&&ri(v,Kn(),C),bd}const tl=void 0;var by=["en",[["a","p"],["AM","PM"],tl],[["AM","PM"],tl,tl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tl,"{1} 'at' {0}",tl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wy(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Yl={};function nm(n){const r=function Ay(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=Ty(r);if(s)return s;const a=r.split("-")[0];if(s=Ty(a),s)return s;if("en"===a)return by;throw new Error(`Missing locale data for the locale "${n}".`)}function Dy(n){return nm(n)[rt.PluralCase]}function Ty(n){return n in Yl||(Yl[n]=bt.ng&&bt.ng.common&&bt.ng.common.locales&&bt.ng.common.locales[n]),Yl[n]}var rt=(()=>((rt=rt||{})[rt.LocaleId=0]="LocaleId",rt[rt.DayPeriodsFormat=1]="DayPeriodsFormat",rt[rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",rt[rt.DaysFormat=3]="DaysFormat",rt[rt.DaysStandalone=4]="DaysStandalone",rt[rt.MonthsFormat=5]="MonthsFormat",rt[rt.MonthsStandalone=6]="MonthsStandalone",rt[rt.Eras=7]="Eras",rt[rt.FirstDayOfWeek=8]="FirstDayOfWeek",rt[rt.WeekendRange=9]="WeekendRange",rt[rt.DateFormat=10]="DateFormat",rt[rt.TimeFormat=11]="TimeFormat",rt[rt.DateTimeFormat=12]="DateTimeFormat",rt[rt.NumberSymbols=13]="NumberSymbols",rt[rt.NumberFormats=14]="NumberFormats",rt[rt.CurrencyCode=15]="CurrencyCode",rt[rt.CurrencySymbol=16]="CurrencySymbol",rt[rt.CurrencyName=17]="CurrencyName",rt[rt.Currencies=18]="Currencies",rt[rt.Directionality=19]="Directionality",rt[rt.PluralCase=20]="PluralCase",rt[rt.ExtraData=21]="ExtraData",rt))();const yf="en-US";let Ry=yf;class xd{}class XE{resolveComponentFactory(r){throw function Jy(n){const r=Error(`No component factory found for ${ue(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Rf=(()=>{class n{}return n.NULL=new XE,n})();function Mf(){return Cc(tn(),ye())}function Cc(n,r){return new Od(zn(n,r))}let Od=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=Mf,n})();function eC(n){return n instanceof Od?n.nativeElement:n}class Xy{}let ev=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function _m(){const n=ye(),s=Zn(tn().index,n);return function mm(n){return n[11]}(Lr(s)?s:n)}(),n})(),ra=(()=>{class n{}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:()=>null}),n})();class tu{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const ym=new tu("13.3.0"),Pf={};function xf(n,r,s,a,u=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&a.push(Vt(h)),wr(h))for(let v=10;v<h.length;v++){const C=h[v],T=C[1].firstChild;null!==T&&xf(C[1],C,T,a)}const _=s.type;if(8&_)xf(n,r,s.child,a);else if(32&_){const v=He(s,r);let C;for(;C=v();)a.push(C)}else if(16&_){const v=i_(r,s);if(Array.isArray(v))a.push(...v);else{const C=xt(r[16]);xf(C[1],C,v,a,!0)}}s=u?s.projectionNext:s.next}return a}class wo{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return xf(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(wr(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Xc(r,a),es(s,a))}this._attachedToViewContainer=!1}t_(this._lView[1],this._lView)}onDestroy(r){Vp(this._lView[1],this._lView,null,r)}markForCheck(){Kp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Yp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function I0(n,r,s){zi(!0);try{Yp(n,r,s)}finally{zi(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Te(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $u(n,r){nd(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Te(902,"");this._appRef=r}}class tv extends wo{constructor(r){super(r),this._view=r}detectChanges(){Gh(this._view)}checkNoChanges(){!function w0(n){zi(!0);try{Gh(n)}finally{zi(!1)}}(this._view)}get context(){return null}}class nv extends Rf{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=At(r);return new Of(s,this.ngModule)}}function Nd(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Of extends xd{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function xh(n){return n.map(c_).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Nd(this.componentDef.inputs)}get outputs(){return Nd(this.componentDef.outputs)}create(r,s,a,u){const h=(u=u||this.ngModule)?function vm(n,r){return{get:(s,a,u)=>{const h=n.get(s,Pf,u);return h!==Pf||a===Pf?h:r.get(s,a,u)}}}(r,u.injector):r,_=h.get(Xy,Js),v=h.get(ra,null),C=_.createRenderer(null,this.componentDef),T=this.componentDef.selectors[0][0]||"div",A=a?function Hh(n,r,s){if(Kt(n))return n.selectRootElement(r,s===wt.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(C,a,this.componentDef.encapsulation):go(_.createRenderer(null,this.componentDef),T,function rv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(T)),N=this.componentDef.onPush?576:528,V=function O_(n,r){return{components:[],scheduler:n||Hu,clean:D0,playerHandler:r||null,flags:0}}(),Z=Qu(0,null,null,1,0,null,null,null,null,null),fe=ta(null,Z,V,N,null,null,_,C,v,h);let Se,ke;ws(fe);try{const We=function dg(n,r,s,a,u,h){const _=s[1];s[20]=n;const C=qu(_,20,2,"#host",null),T=C.mergedAttrs=r.hostAttrs;null!==T&&(Vs(C,T,!0),null!==n&&(Yr(u,n,T),null!==C.classes&&zu(u,n,C.classes),null!==C.styles&&o_(u,n,C.styles)));const A=a.createRenderer(n,r),N=ta(s,jh(r),null,r.onPush?64:16,s[20],C,a,A,h||null,null);return _.firstCreatePass&&(so(ro(C,s),_,r.type),ec(_,C),Ri(C,s.length,1)),hd(s,N),s[20]=N}(A,this.componentDef,fe,_,C);if(A)if(a)Yr(C,A,["ng-version",ym.full]);else{const{attrs:Ie,classes:it}=function vp(n){const r=[],s=[];let a=1,u=2;for(;a<n.length;){let h=n[a];if("string"==typeof h)2===u?""!==h&&r.push(h,n[++a]):8===u&&s.push(h);else{if(!Us(u))break;u=h}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Ie&&Yr(C,A,Ie),it&&it.length>0&&zu(C,A,it.join(" "))}if(ke=Ro(Z,20),void 0!==s){const Ie=ke.projection=[];for(let it=0;it<this.ngContentSelectors.length;it++){const Ot=s[it];Ie.push(null!=Ot?Array.from(Ot):null)}}Se=function x_(n,r,s,a,u){const h=s[1],_=function E_(n,r,s){const a=tn();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),zp(n,a,r,Yu(n,r,1,null),s));const u=Tr(r,n,a.directiveStart,a);Sn(u,r);const h=zn(a,r);return h&&Sn(h,r),u}(h,s,r);if(a.components.push(_),n[8]=_,u&&u.forEach(C=>C(_,r)),r.contentQueries){const C=tn();r.contentQueries(1,_,C.directiveStart)}const v=tn();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(qi(v.index),Xu(s[1],v,0,v.directiveStart,v.directiveEnd,r),Wp(r,_)),_}(We,this.componentDef,fe,V,[F0]),$l(Z,fe,null)}finally{Ds()}return new tC(this.componentType,Se,Cc(ke,fe),fe,ke)}}class tC extends class pm{}{constructor(r,s,a,u,h){super(),this.location=a,this._rootLView=u,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new tv(u),this.componentType=r}get injector(){return new jr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Ic{}class sv{}const wc=new Map;class Nf extends Ic{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new nv(this);const a=Gt(r);this._bootstrapComponents=f(a.bootstrap),this._r3Injector=qh(r,s,[{provide:Ic,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver}],ue(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=us.THROW_IF_NOT_FOUND,a=qe.Default){return r===us||r===Ic||r===tg?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class bm extends sv{constructor(r){super(),this.moduleType=r,null!==Gt(r)&&function Im(n){const r=new Set;!function s(a){const u=Gt(a,!0),h=u.id;null!==h&&(function bc(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${ue(r)} vs ${ue(r.name)}`)}(h,wc.get(h),a),wc.set(h,a));const _=f(u.imports);for(const v of _)r.has(v)||(r.add(v),s(v))}(n)}(r)}create(r){return new Nf(this.moduleType,r)}}function Am(n){return r=>{setTimeout(n,void 0,r)}}const Ws=class Tm extends g.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var u,h,_;let v=r,C=s||(()=>null),T=a;if(r&&"object"==typeof r){const N=r;v=null===(u=N.next)||void 0===u?void 0:u.bind(N),C=null===(h=N.error)||void 0===h?void 0:h.bind(N),T=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(C=Am(C),v&&(v=Am(v)),T&&(T=Am(T)));const A=super.subscribe({next:v,error:C,complete:T});return r instanceof K.w0&&r.add(A),A}};function dv(){return this._results[rc()]()}class Sm{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=rc(),a=Sm.prototype;a[s]||(a[s]=dv)}get changes(){return this._changes||(this._changes=new Ws)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const u=Qn(r);(this._changesDetected=!function xa(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let u=n[a],h=r[a];if(s&&(u=s(u),h=s(h)),h!==u)return!1}return!0}(a._results,u,s))&&(a._results=u,a.length=u.length,a.last=u[this.length-1],a.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Bd=(()=>{class n{}return n.__NG_ELEMENT_ID__=hv,n})();const Rm=Bd,gs=class extends Rm{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=ta(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(a[19]=h.createEmbeddedView(s)),$l(s,a,r),new wo(a)}};function hv(){return Vd(tn(),ye())}function Vd(n,r){return 4&n.type?new gs(r,n,Cc(n,r)):null}let nu=(()=>{class n{}return n.__NG_ELEMENT_ID__=Lf,n})();function Lf(){return jd(tn(),ye())}const fC=nu,fv=class extends fC{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Cc(this._hostTNode,this._hostLView)}get injector(){return new jr(this._hostTNode,this._hostLView)}get parentInjector(){const r=sn(this._hostTNode,this._hostLView);if(St(r)){const s=nn(r,this._hostLView),a=Wt(r);return new jr(s[1].data[a+8],s)}return new jr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=pv(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const u=r.createEmbeddedView(s||{});return this.insert(u,a),u}createComponent(r,s,a,u,h){const _=r&&!function Ps(n){return"function"==typeof n}(r);let v;if(_)v=s;else{const N=s||{};v=N.index,a=N.injector,u=N.projectableNodes,h=N.ngModuleRef}const C=_?r:new Of(At(r)),T=a||this.parentInjector;if(!h&&null==C.ngModule){const V=(_?T:this.parentInjector).get(Ic,null);V&&(h=V)}const A=C.create(T,u,void 0,h);return this.insert(A.hostView,v),A}insert(r,s){const a=r._lView,u=a[1];if(function _a(n){return wr(n[3])}(a)){const A=this.indexOf(r);if(-1!==A)this.detach(A);else{const N=a[3],V=new fv(N,N[6],N[3]);V.detach(V.indexOf(r))}}const h=this._adjustIndex(s),_=this._lContainer;!function e_(n,r,s,a){const u=10+a,h=s.length;a>0&&(s[u-1][4]=r),a<h-10?(r[4]=s[u],wu(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const _=r[17];null!==_&&s!==_&&function Dh(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(_,r);const v=r[19];null!==v&&v.insertView(n),r[2]|=128}(u,a,_,h);const v=gp(h,_),C=a[11],T=Wu(C,_[7]);return null!==T&&function Qc(n,r,s,a,u,h){a[0]=u,a[6]=r,nd(n,a,s,1,u,h)}(u,_[6],C,a,T,v),r.attachToViewContainerRef(),wu(Mm(_),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=pv(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Xc(this._lContainer,s);a&&(es(Mm(this._lContainer),s),t_(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Xc(this._lContainer,s);return a&&null!=es(Mm(this._lContainer),s)?new wo(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function pv(n){return n[8]}function Mm(n){return n[8]||(n[8]=[])}function jd(n,r){let s;const a=r[n.index];if(wr(a))s=a;else{let u;if(8&n.type)u=Vt(a);else{const h=r[11];u=h.createComment("");const _=zn(n,r);Qo(h,Wu(h,_),u,function Gu(n,r){return Kt(n)?n.nextSibling(r):r.nextSibling}(h,_),!1)}r[n.index]=s=Zp(a,r,u,n),hd(r,s)}return new fv(s,n,r)}class Uf{constructor(r){this.queryList=r,this.matches=null}clone(){return new Uf(this.queryList)}setDirty(){this.queryList.setDirty()}}class ru{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,u=[];for(let h=0;h<a;h++){const _=s.getByIndex(h);u.push(this.queries[_.indexInDeclarationView].clone())}return new ru(u)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==Tc(r,s).matches&&this.queries[s].setDirty()}}class xm{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Om{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const u=null!==s?s.length:0,h=this.getByIndex(a).embeddedTView(r,u);h&&(h.indexInDeclarationView=a,null!==s?s.push(h):s=[h])}return null!==s?new Om(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Nm{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Nm(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let u=0;u<a.length;u++){const h=a[u];this.matchTNodeWithReadOption(r,s,pC(s,h)),this.matchTNodeWithReadOption(r,s,Sa(s,r,h,!1,!1))}else a===Bd?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Sa(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const u=this.metadata.read;if(null!==u)if(u===Od||u===nu||u===Bd&&4&s.type)this.addMatch(s.index,-2);else{const h=Sa(s,r,u,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function pC(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function mC(n,r,s,a){return-1===s?function gC(n,r){return 11&n.type?Cc(n,r):4&n.type?Vd(n,r):null}(r,n):-2===s?function km(n,r,s){return s===Od?Cc(r,n):s===Bd?Vd(r,n):s===nu?jd(r,n):void 0}(n,r,a):Tr(n,n[1],s,r)}function _v(n,r,s,a){const u=r[19].queries[a];if(null===u.matches){const h=n.data,_=s.matches,v=[];for(let C=0;C<_.length;C+=2){const T=_[C];v.push(T<0?null:mC(r,h[T],_[C+1],s.metadata.read))}u.matches=v}return u.matches}function Bf(n,r,s,a){const u=n.queries.getByIndex(s),h=u.matches;if(null!==h){const _=_v(n,r,u,s);for(let v=0;v<h.length;v+=2){const C=h[v];if(C>0)a.push(_[v/2]);else{const T=h[v+1],A=r[-C];for(let N=10;N<A.length;N++){const V=A[N];V[17]===V[3]&&Bf(V[1],V,T,a)}if(null!==A[9]){const N=A[9];for(let V=0;V<N.length;V++){const Z=N[V];Bf(Z[1],Z,T,a)}}}}}return a}function Hd(n){const r=ye(),s=mt(),a=yl();vl(a+1);const u=Tc(s,a);if(n.dirty&&$i(r)===(2==(2&u.metadata.flags))){if(null===u.matches)n.reset([]);else{const h=u.crossesNgTemplate?Bf(s,r,a,[]):_v(s,r,u,a);n.reset(h,eC),n.notifyOnChanges()}return!0}return!1}function yv(n,r,s){const a=mt();a.firstCreatePass&&(Ev(a,new xm(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),Dc(a,ye(),r)}function vv(n,r,s,a){const u=mt();if(u.firstCreatePass){const h=tn();Ev(u,new xm(r,s,a),h.index),function yC(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(u,n),2==(2&s)&&(u.staticContentQueries=!0)}Dc(u,ye(),s)}function $d(){return function _C(n,r){return n[19].queries[r].queryList}(ye(),yl())}function Dc(n,r,s){const a=new Sm(4==(4&s));Vp(n,r,a,a.destroy),null===r[19]&&(r[19]=new ru),r[19].queries.push(new Uf(a))}function Ev(n,r,s){null===n.queries&&(n.queries=new Om),n.queries.track(new Nm(r,s))}function Tc(n,r){return n.queries.getByIndex(r)}function zd(...n){}const kv=new ln("Application Initializer");let Gf=(()=>{class n{constructor(s){this.appInits=s,this.resolve=zd,this.reject=zd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const h=this.appInits[u]();if(_c(h))s.push(h);else if(ey(h)){const _=new Promise((v,C)=>{h.subscribe({complete:v,error:C})});s.push(_)}}Promise.all(s).then(()=>{a()}).catch(u=>{this.reject(u)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)($e(kv,8))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fv=new ln("AppId",{providedIn:"root",factory:function Lv(){return`${zf()}${zf()}${zf()}`}});function zf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uv=new ln("Platform Initializer"),Bv=new ln("Platform ID"),Vv=new ln("appBootstrapListener");let Hv=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac}),n})();const Zf=new ln("LocaleId",{providedIn:"root",factory:()=>Dt(Zf,qe.Optional|qe.SkipSelf)||function kC(){return"undefined"!=typeof $localize&&$localize.locale||yf}()}),FC=new ln("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class LC{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let UC=(()=>{class n{compileModuleSync(s){return new bm(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),h=f(Gt(s).declarations).reduce((_,v)=>{const C=At(v);return C&&_.push(new Of(C)),_},[]);return new LC(a,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const VC=(()=>Promise.resolve(0))();function zm(n){"undefined"==typeof Zone?VC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Gs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ws(!1),this.onMicrotaskEmpty=new Ws(!1),this.onStable=new Ws(!1),this.onError=new Ws(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!a&&s,u.shouldCoalesceRunChangeDetection=a,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function jC(){let n=bt.requestAnimationFrame,r=bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function XI(n){const r=()=>{!function JI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(bt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,$v(n),n.isCheckStableRunning=!0,Zm(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),$v(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,u,h,_,v)=>{try{return Wv(n),s.invokeTask(u,h,_,v)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),Gv(n)}},onInvoke:(s,a,u,h,_,v,C)=>{try{return Wv(n),s.invoke(u,h,_,v,C)}finally{n.shouldCoalesceRunChangeDetection&&r(),Gv(n)}},onHasTask:(s,a,u,h)=>{s.hasTask(u,h),a===u&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,$v(n),Zm(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,a,u,h)=>(s.handleError(u,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(u)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,u){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+u,r,HC,zd,zd);try{return h.runTask(_,s,a)}finally{h.cancelTask(_)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const HC={};function Zm(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function $v(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Wv(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Gv(n){n._nesting--,Zm(n)}class $C{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ws,this.onMicrotaskEmpty=new Ws,this.onStable=new Ws,this.onError=new Ws}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,u){return r.apply(s,a)}}let Km=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gs.assertNotInAngularZone(),zm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())zm(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,u){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:u})}whenStable(s,a,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,u){return[]}}return n.\u0275fac=function(s){return new(s||n)($e(Gs))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac}),n})(),WC=(()=>{class n{constructor(){this._applications=new Map,t.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return t.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Lt({token:n,factory:n.\u0275fac}),n})();class GC{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function i(n){t=n}let e,t=new GC;const p=new ln("AllowMultipleToken");class E{constructor(r,s){this.name=r,this.token=s}}function R(n,r,s=[]){const a=`Platform: ${r}`,u=new ln(a);return(h=[])=>{let _=Y();if(!_||_.injector.get(p,!1))if(n)n(s.concat(h).concat({provide:u,useValue:!0}));else{const v=s.concat(h).concat({provide:u,useValue:!0},{provide:ng,useValue:"platform"});!function b(n){if(e&&!e.destroyed&&!e.injector.get(p,!1))throw new Te(400,"");e=n.get(pe);const r=n.get(Uv,null);r&&r.forEach(s=>s())}(us.create({providers:v,name:a}))}return function U(n){const r=Y();if(!r)throw new Te(401,"");return r}()}}function Y(){return e&&!e.destroyed?e:null}let pe=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const v=function Me(n,r){let s;return s="noop"===n?new $C:("zone.js"===n?void 0:n)||new Gs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:Gs,useValue:v}];return v.run(()=>{const T=us.create({providers:C,parent:this.injector,name:s.moduleType.name}),A=s.create(T),N=A.injector.get(kn,null);if(!N)throw new Te(402,"");return v.runOutsideAngular(()=>{const V=v.onError.subscribe({next:Z=>{N.handleError(Z)}});A.onDestroy(()=>{Xt(this._modules,A),V.unsubscribe()})}),function at(n,r,s){try{const a=s();return _c(a)?a.catch(u=>{throw r.runOutsideAngular(()=>n.handleError(u)),u}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(N,v,()=>{const V=A.injector.get(Gf);return V.runInitializers(),V.donePromise.then(()=>(function RE(n){Ze(n,"Expected localeId to be defined"),"string"==typeof n&&(Ry=n.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Zf,yf)||yf),this._moduleDoBootstrap(A),A))})})}bootstrapModule(s,a=[]){const u=Mt({},a);return function o(n,r,s){const a=new bm(s);return Promise.resolve(a)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,u))}_moduleDoBootstrap(s){const a=s.injector.get(Rn);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(u=>a.bootstrap(u));else{if(!s.instance.ngDoBootstrap)throw new Te(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)($e(us))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac}),n})();function Mt(n,r){return Array.isArray(r)?r.reduce(Mt,n):Object.assign(Object.assign({},n),r)}let Rn=(()=>{class n{constructor(s,a,u,h,_){this._zone=s,this._injector=a,this._exceptionHandler=u,this._componentFactoryResolver=h,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new x.y(T=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{T.next(this._stable),T.complete()})}),C=new x.y(T=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Gs.assertNotInAngularZone(),zm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,T.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Gs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{T.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,se.T)(v,C.pipe((0,J.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Te(405,"");let u;u=s instanceof xd?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(u.componentType);const h=function d(n){return n.isBoundToModule}(u)?void 0:this._injector.get(Ic),v=u.create(us.NULL,[],a||u.selector,h),C=v.location.nativeElement,T=v.injector.get(Km,null),A=T&&v.injector.get(WC);return T&&A&&A.registerApplication(C,T),v.onDestroy(()=>{this.detachView(v.hostView),Xt(this.components,v),A&&A.unregisterApplication(C)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Te(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Xt(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(Vv,[]).concat(this._bootstrapListeners).forEach(u=>u(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)($e(Gs),$e(us),$e(kn),$e(Rf),$e(Gf))},n.\u0275prov=Lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xt(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let xi=!0,ol=!1;function hw(){return ol=!0,xi}function fw(){if(ol)throw new Error("Cannot enable prod mode after platform setup.");xi=!1}let pw=(()=>{class n{}return n.__NG_ELEMENT_ID__=gw,n})();function gw(n){return function mw(n,r,s){if(Ui(n)&&!s){const a=Zn(n.index,r);return new wo(a,a)}return 47&n.type?new wo(r[16],r):null}(tn(),ye(),16==(16&n))}class rw{constructor(){}supports(r){return $r(r)}create(r){return new Iw(r)}}const Cw=(n,r)=>r;class Iw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Cw}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,u=0,h=null;for(;s||a;){const _=!a||s&&s.currentIndex<sw(a,u,h)?s:a,v=sw(_,u,h),C=_.currentIndex;if(_===a)u--,a=a._nextRemoved;else if(s=s._next,null==_.previousIndex)u++;else{h||(h=[]);const T=v-u,A=C-u;if(T!=A){for(let V=0;V<T;V++){const Z=V<h.length?h[V]:h[V]=0,fe=Z+V;A<=fe&&fe<T&&(h[V]=Z+1)}h[_.previousIndex]=A-T}}v!==C&&r(_,v,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!$r(r))throw new Te(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let u,h,_,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let v=0;v<this.length;v++)h=r[v],_=this._trackByFn(v,h),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,h,_,v)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,_,v),a=!0),s=s._next}else u=0,function fg(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[rc()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,v=>{_=this._trackByFn(u,v),null!==s&&Object.is(s.trackById,_)?(a&&(s=this._verifyReinsertion(s,v,_,u)),Object.is(s.item,v)||this._addIdentityChange(s,v)):(s=this._mismatch(s,v,_,u),a=!0),s=s._next,u++}),this.length=u;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,u){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,u)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,u))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,u)):r=this._addAfter(new ww(s,a),h,u),r}_verifyReinsertion(r,s,a,u){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,u):r.currentIndex!=u&&(r.currentIndex=u,this._addToMoves(r,u)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const u=r._prevRemoved,h=r._nextRemoved;return null===u?this._removalsHead=h:u._nextRemoved=h,null===h?this._removalsTail=u:h._prevRemoved=u,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const u=null===s?this._itHead:s._next;return r._next=u,r._prev=s,null===u?this._itTail=r:u._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new iw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class ww{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class iw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new bw,this.map.set(s,a)),a.add(r)}get(r,s){const u=this.map.get(r);return u?u.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sw(n,r,s){const a=n.previousIndex;if(null===a)return a;let u=0;return s&&a<s.length&&(u=s[a]),a+r+u}class ow{constructor(){}supports(r){return r instanceof Map||ef(r)}create(){return new Dw}}class Dw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||ef(r)))throw new Te(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,u)=>{if(s&&s.key===u)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(u,a);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const u=this._records.get(r);this._maybeAddToChanges(u,s);const h=u._prev,_=u._next;return h&&(h._next=_),_&&(_._prev=h),u._next=null,u._prev=null,u}const a=new Tw(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Tw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function aw(){return new YC([new rw])}let YC=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||aw()),deps:[[n,new Os,new Mr]]}}find(s){const a=this.factories.find(u=>u.supports(s));if(null!=a)return a;throw new Te(901,"")}}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:aw}),n})();function lw(){return new QC([new ow])}let QC=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const u=a.factories.slice();s=s.concat(u)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||lw()),deps:[[n,new Os,new Mr]]}}find(s){const a=this.factories.find(h=>h.supports(s));if(a)return a;throw new Te(901,"")}}return n.\u0275prov=Lt({token:n,providedIn:"root",factory:lw}),n})();const Rw=R(null,"core",[{provide:Bv,useValue:"unknown"},{provide:pe,deps:[us]},{provide:WC,deps:[]},{provide:Hv,deps:[]}]);let Mw=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)($e(Rn))},n.\u0275mod=q({type:n}),n.\u0275inj=kt({}),n})()},3942:(ze,ve,P)=>{P.d(ve,{Z:()=>Te});var g=P(2090),K=P(4859),x=P(9681),se=P(1877);class J{constructor(ce,_e){this._delegate=ce,this.firebase=_e,(0,x._addComponent)(ce,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(ce,_e=x._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(ce);return!Le.isInitialized()&&"EXPLICIT"===(null===(je=Le.getComponent())||void 0===je?void 0:je.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:_e})}_removeServiceInstance(ce,_e=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(_e)}_addComponent(ce){(0,x._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,x._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function ae(){const Re=function ue(Re){const ce={},_e={__esModule:!0,initializeApp:function Ee(Oe,ee={}){const G=x.initializeApp(Oe,ee);if((0,g.r3)(ce,G.name))return ce[G.name];const te=new Re(G,_e);return ce[G.name]=te,te},app:Le,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function me(Oe){const ee=Oe.name,G=ee.replace("-compat","");if(x._registerComponent(Oe)&&"PUBLIC"===Oe.type){const te=(he=Le())=>{if("function"!=typeof he[G])throw ie.create("invalid-app-argument",{appName:ee});return he[G]()};void 0!==Oe.serviceProps&&(0,g.ZB)(te,Oe.serviceProps),_e[G]=te,Re.prototype[G]=function(...he){return this._getService.bind(this,ee).apply(this,Oe.multipleInstances?he:[])}}return"PUBLIC"===Oe.type?_e[G]:null},removeApp:function je(Oe){delete ce[Oe]},useAsService:function Ne(Oe,ee){return"serverAuth"===ee?null:ee},modularAPIs:x}};function Le(Oe){if(!(0,g.r3)(ce,Oe=Oe||x._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Oe});return ce[Oe]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function ge(){return Object.keys(ce).map(Oe=>ce[Oe])}}),Le.App=Re,_e}(J);return Re.INTERNAL=Object.assign(Object.assign({},Re.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function ce(_e){(0,g.ZB)(Re,_e)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),Re}(),H=new se.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Re=self.firebase.SDK_VERSION;Re&&Re.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=j;!function we(Re){(0,x.registerVersion)("@firebase/app-compat","0.1.20",Re)}()},9681:(ze,ve,P)=>{P.r(ve),P.d(ve,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Xn,_DEFAULT_ENTRY_NAME:()=>fn,_addComponent:()=>$t,_addOrOverwriteComponent:()=>Fr,_apps:()=>Xe,_clearComponents:()=>It,_components:()=>Ht,_getProvider:()=>Gr,_registerComponent:()=>Lt,_removeServiceInstance:()=>kt,deleteApp:()=>Zr,getApp:()=>er,getApps:()=>ai,initializeApp:()=>zr,onLog:()=>Mn,registerVersion:()=>sr,setLogLevel:()=>bn});var g=P(5861),K=P(4859),x=P(1877),se=P(2090);class J{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(Ve=>{if(function de(Ue){const Ce=Ue.getComponent();return"VERSION"===(null==Ce?void 0:Ce.type)}(Ve)){const Qe=Ve.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(Ve=>Ve).join(" ")}}const ie="@firebase/app",ae=new x.Yd("@firebase/app"),fn="[DEFAULT]",Ze={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,Ht=new Map;function $t(Ue,Ce){try{Ue.container.addComponent(Ce)}catch(Ve){ae.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Ue.name}`,Ve)}}function Fr(Ue,Ce){Ue.container.addOrOverwriteComponent(Ce)}function Lt(Ue){const Ce=Ue.name;if(Ht.has(Ce))return ae.debug(`There were multiple attempts to register component ${Ce}.`),!1;Ht.set(Ce,Ue);for(const Ve of Xe.values())$t(Ve,Ue);return!0}function Gr(Ue,Ce){const Ve=Ue.container.getProvider("heartbeat").getImmediate({optional:!0});return Ve&&Ve.triggerHeartbeat(),Ue.container.getProvider(Ce)}function kt(Ue,Ce,Ve=fn){Gr(Ue,Ce).clearInstance(Ve)}function It(){Ht.clear()}const ir=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Oi{constructor(Ce,Ve,Qe){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},Ve),this._name=Ve.name,this._automaticDataCollectionEnabled=Ve.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}const Xn="9.6.9";function zr(Ue,Ce={}){"object"!=typeof Ce&&(Ce={name:Ce});const Ve=Object.assign({name:fn,automaticDataCollectionEnabled:!1},Ce),Qe=Ve.name;if("string"!=typeof Qe||!Qe)throw ir.create("bad-app-name",{appName:String(Qe)});const Et=Xe.get(Qe);if(Et){if((0,se.vZ)(Ue,Et.options)&&(0,se.vZ)(Ve,Et.config))return Et;throw ir.create("duplicate-app",{appName:Qe})}const gt=new K.H0(Qe);for(const L of Ht.values())gt.addComponent(L);const B=new Oi(Ue,Ve,gt);return Xe.set(Qe,B),B}function er(Ue=fn){const Ce=Xe.get(Ue);if(!Ce)throw ir.create("no-app",{appName:Ue});return Ce}function ai(){return Array.from(Xe.values())}function Zr(Ue){return qe.apply(this,arguments)}function qe(){return(qe=(0,g.Z)(function*(Ue){const Ce=Ue.name;Xe.has(Ce)&&(Xe.delete(Ce),yield Promise.all(Ue.container.getProviders().map(Ve=>Ve.delete())),Ue.isDeleted=!0)})).apply(this,arguments)}function sr(Ue,Ce,Ve){var Qe;let Et=null!==(Qe=Ze[Ue])&&void 0!==Qe?Qe:Ue;Ve&&(Et+=`-${Ve}`);const gt=Et.match(/\s|\//),B=Ce.match(/\s|\//);if(gt||B){const L=[`Unable to register library "${Et}" with version "${Ce}":`];return gt&&L.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),gt&&B&&L.push("and"),B&&L.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),void ae.warn(L.join(" "))}Lt(new K.wA(`${Et}-version`,()=>({library:Et,version:Ce}),"VERSION"))}function Mn(Ue,Ce){if(null!==Ue&&"function"!=typeof Ue)throw ir.create("invalid-log-argument");(0,x.Am)(Ue,Ce)}function bn(Ue){(0,x.Ub)(Ue)}const Zt="firebase-heartbeat-store";let Pn=null;function li(){return Pn||(Pn=(0,se.X3)("firebase-heartbeat-database",1,(Ue,Ce)=>{0===Ce&&Ue.createObjectStore(Zt)}).catch(Ue=>{throw ir.create("storage-open",{originalErrorMessage:Ue.message})})),Pn}function wt(){return(wt=(0,g.Z)(function*(Ue){try{return(yield li()).transaction(Zt).objectStore(Zt).get(Ln(Ue))}catch(Ce){throw ir.create("storage-get",{originalErrorMessage:Ce.message})}})).apply(this,arguments)}function Ge(Ue,Ce){return st.apply(this,arguments)}function st(){return(st=(0,g.Z)(function*(Ue,Ce){try{const Qe=(yield li()).transaction(Zt,"readwrite");return yield Qe.objectStore(Zt).put(Ce,Ln(Ue)),Qe.complete}catch(Ve){throw ir.create("storage-set",{originalErrorMessage:Ve.message})}})).apply(this,arguments)}function Ln(Ue){return`${Ue.name}!${Ue.options.appId}`}class ms{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const Ve=this.container.getProvider("app").getImmediate();this._storage=new Ye(Ve),this._heartbeatsCachePromise=this._storage.read().then(Qe=>(this._heartbeatsCache=Qe,Qe))}triggerHeartbeat(){var Ce=this;return(0,g.Z)(function*(){const Qe=Ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=Hn();if(null===Ce._heartbeatsCache&&(Ce._heartbeatsCache=yield Ce._heartbeatsCachePromise),Ce._heartbeatsCache.lastSentHeartbeatDate!==Et&&!Ce._heartbeatsCache.heartbeats.some(gt=>gt.date===Et))return Ce._heartbeatsCache.heartbeats.push({date:Et,agent:Qe}),Ce._heartbeatsCache.heartbeats=Ce._heartbeatsCache.heartbeats.filter(gt=>{const B=new Date(gt.date).valueOf();return Date.now()-B<=2592e6}),Ce._storage.overwrite(Ce._heartbeatsCache)})()}getHeartbeatsHeader(){var Ce=this;return(0,g.Z)(function*(){if(null===Ce._heartbeatsCache&&(yield Ce._heartbeatsCachePromise),null===Ce._heartbeatsCache||0===Ce._heartbeatsCache.heartbeats.length)return"";const Ve=Hn(),{heartbeatsToSend:Qe,unsentEntries:Et}=function Un(Ue,Ce=1024){const Ve=[];let Qe=Ue.slice();for(const Et of Ue){const gt=Ve.find(B=>B.agent===Et.agent);if(gt){if(gt.dates.push(Et.date),$n(Ve)>Ce){gt.dates.pop();break}}else if(Ve.push({agent:Et.agent,dates:[Et.date]}),$n(Ve)>Ce){Ve.pop();break}Qe=Qe.slice(1)}return{heartbeatsToSend:Ve,unsentEntries:Qe}}(Ce._heartbeatsCache.heartbeats),gt=(0,se.L)(JSON.stringify({version:2,heartbeats:Qe}));return Ce._heartbeatsCache.lastSentHeartbeatDate=Ve,Et.length>0?(Ce._heartbeatsCache.heartbeats=Et,yield Ce._storage.overwrite(Ce._heartbeatsCache)):(Ce._heartbeatsCache.heartbeats=[],Ce._storage.overwrite(Ce._heartbeatsCache)),gt})()}}function Hn(){return(new Date).toISOString().substring(0,10)}class Ye{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ce=this;return(0,g.Z)(function*(){return(yield Ce._canUseIndexedDBPromise)&&(yield function Zs(Ue){return wt.apply(this,arguments)}(Ce.app))||{heartbeats:[]}})()}overwrite(Ce){var Ve=this;return(0,g.Z)(function*(){var Qe;if(yield Ve._canUseIndexedDBPromise){const gt=yield Ve.read();return Ge(Ve.app,{lastSentHeartbeatDate:null!==(Qe=Ce.lastSentHeartbeatDate)&&void 0!==Qe?Qe:gt.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}})()}add(Ce){var Ve=this;return(0,g.Z)(function*(){var Qe;if(yield Ve._canUseIndexedDBPromise){const gt=yield Ve.read();return Ge(Ve.app,{lastSentHeartbeatDate:null!==(Qe=Ce.lastSentHeartbeatDate)&&void 0!==Qe?Qe:gt.lastSentHeartbeatDate,heartbeats:[...gt.heartbeats,...Ce.heartbeats]})}})()}}function $n(Ue){return(0,se.L)(JSON.stringify({version:2,heartbeats:Ue})).length}!function yt(Ue){Lt(new K.wA("platform-logger",Ce=>new J(Ce),"PRIVATE")),Lt(new K.wA("heartbeat",Ce=>new ms(Ce),"PRIVATE")),sr(ie,"0.7.19",Ue),sr(ie,"0.7.19","esm2017"),sr("fire-js","")}("")},4859:(ze,ve,P)=>{P.d(ve,{H0:()=>ue,wA:()=>x,zt:()=>J});var g=P(5861),K=P(2090);class x{constructor(j,H,Q){this.name=j,this.instanceFactory=H,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const se="[DEFAULT]";class J{constructor(j,H){this.name=j,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const H=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(H)){const Q=new K.BH;if(this.instancesDeferred.set(H,Q),this.isInitialized(H)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:H});Fe&&Q.resolve(Fe)}catch(Fe){}}return this.instancesDeferred.get(H).promise}getImmediate(j){var H;const Q=this.normalizeInstanceIdentifier(null==j?void 0:j.identifier),Fe=null!==(H=null==j?void 0:j.optional)&&void 0!==H&&H;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(we){if(Fe)return null;throw we}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ie(ae){return"EAGER"===ae.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:se})}catch(H){}for(const[H,Q]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(H);try{const we=this.getOrInitializeService({instanceIdentifier:Fe});Q.resolve(we)}catch(we){}}}}clearInstance(j=se){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,g.Z)(function*(){const H=Array.from(j.instances.values());yield Promise.all([...H.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...H.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=se){return this.instances.has(j)}getOptions(j=se){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:H={}}=j,Q=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:Q,options:H});for(const[we,Te]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(we)&&Te.resolve(Fe);return Fe}onInit(j,H){var Q;const Fe=this.normalizeInstanceIdentifier(H),we=null!==(Q=this.onInitCallbacks.get(Fe))&&void 0!==Q?Q:new Set;we.add(j),this.onInitCallbacks.set(Fe,we);const Te=this.instances.get(Fe);return Te&&j(Te,Fe),()=>{we.delete(j)}}invokeOnInitCallbacks(j,H){const Q=this.onInitCallbacks.get(H);if(Q)for(const Fe of Q)try{Fe(j,H)}catch(we){}}getOrInitializeService({instanceIdentifier:j,options:H={}}){let Q=this.instances.get(j);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=j,ae===se?void 0:ae),options:H}),this.instances.set(j,Q),this.instancesOptions.set(j,H),this.invokeOnInitCallbacks(Q,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,Q)}catch(Fe){}var ae;return Q||null}normalizeInstanceIdentifier(j=se){return this.component?this.component.multipleInstances?j:se:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const H=this.getProvider(j.name);if(H.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);H.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const H=new J(j,this);return this.providers.set(j,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(ze,ve,P)=>{P.d(ve,{Am:()=>ae,Ub:()=>ue,Yd:()=>ie,in:()=>K});const g=[];var K=(()=>{return(j=K||(K={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",K;var j})();const x={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},se=K.INFO,J={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},de=(j,H,...Q)=>{if(H<j.logLevel)return;const Fe=(new Date).toISOString(),we=J[H];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[we](`[${Fe}]  ${j.name}:`,...Q)};class ie{constructor(H){this.name=H,this._logLevel=se,this._logHandler=de,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in K))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?x[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...H),this._logHandler(this,K.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...H),this._logHandler(this,K.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,K.INFO,...H),this._logHandler(this,K.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,K.WARN,...H),this._logHandler(this,K.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...H),this._logHandler(this,K.ERROR,...H)}}function ue(j){g.forEach(H=>{H.setLogLevel(j)})}function ae(j,H){for(const Q of g){let Fe=null;H&&H.level&&(Fe=x[H.level]),Q.userLogHandler=null===j?null:(we,Te,...Re)=>{const ce=Re.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(je){return null}}).filter(_e=>_e).join(" ");Te>=(null!=Fe?Fe:we.logLevel)&&j({level:K[Te].toLowerCase(),message:ce,args:Re,type:we.name})}}}},5861:(ze,ve,P)=>{function g(x,se,J,de,ie,ue,ae){try{var j=x[ue](ae),H=j.value}catch(Q){return void J(Q)}j.done?se(H):Promise.resolve(H).then(de,ie)}function K(x){return function(){var se=this,J=arguments;return new Promise(function(de,ie){var ue=x.apply(se,J);function ae(H){g(ue,de,ie,ae,j,"next",H)}function j(H){g(ue,de,ie,ae,j,"throw",H)}ae(void 0)})}}P.d(ve,{Z:()=>K})}},ze=>{ze(ze.s=4764)}]);